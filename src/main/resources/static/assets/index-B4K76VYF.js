(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function sf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ju={exports:{}},Gs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function v1(){if(vg)return Gs;vg=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(o,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:r,type:o,key:h,ref:c!==void 0?c:null,props:d}}return Gs.Fragment=n,Gs.jsx=i,Gs.jsxs=i,Gs}var yg;function y1(){return yg||(yg=1,ju.exports=v1()),ju.exports}var s=y1(),Nu={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function x1(){if(xg)return De;xg=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function S(N,k,H){this.props=N,this.context=k,this.refs=T,this.updater=H||A}S.prototype.isReactComponent={},S.prototype.setState=function(N,k){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,k,"setState")},S.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function C(){}C.prototype=S.prototype;function E(N,k,H){this.props=N,this.context=k,this.refs=T,this.updater=H||A}var O=E.prototype=new C;O.constructor=E,_(O,S.prototype),O.isPureReactComponent=!0;var M=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function B(N,k,H,le,P,Z){return H=Z.ref,{$$typeof:r,type:N,key:k,ref:H!==void 0?H:null,props:Z}}function D(N,k){return B(N.type,k,void 0,void 0,void 0,N.props)}function z(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function te(N){var k={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(H){return k[H]})}var ie=/\/+/g;function J(N,k){return typeof N=="object"&&N!==null&&N.key!=null?te(""+N.key):k.toString(36)}function Y(){}function pe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Y,Y):(N.status="pending",N.then(function(k){N.status==="pending"&&(N.status="fulfilled",N.value=k)},function(k){N.status==="pending"&&(N.status="rejected",N.reason=k)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function he(N,k,H,le,P){var Z=typeof N;(Z==="undefined"||Z==="boolean")&&(N=null);var re=!1;if(N===null)re=!0;else switch(Z){case"bigint":case"string":case"number":re=!0;break;case"object":switch(N.$$typeof){case r:case n:re=!0;break;case v:return re=N._init,he(re(N._payload),k,H,le,P)}}if(re)return P=P(N),re=le===""?"."+J(N,0):le,M(P)?(H="",re!=null&&(H=re.replace(ie,"$&/")+"/"),he(P,k,H,"",function(Ne){return Ne})):P!=null&&(z(P)&&(P=D(P,H+(P.key==null||N&&N.key===P.key?"":(""+P.key).replace(ie,"$&/")+"/")+re)),k.push(P)),1;re=0;var ve=le===""?".":le+":";if(M(N))for(var we=0;we<N.length;we++)le=N[we],Z=ve+J(le,we),re+=he(le,k,H,Z,P);else if(we=w(N),typeof we=="function")for(N=we.call(N),we=0;!(le=N.next()).done;)le=le.value,Z=ve+J(le,we++),re+=he(le,k,H,Z,P);else if(Z==="object"){if(typeof N.then=="function")return he(pe(N),k,H,le,P);throw k=String(N),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return re}function q(N,k,H){if(N==null)return N;var le=[],P=0;return he(N,le,"","",function(Z){return k.call(H,Z,P++)}),le}function de(N){if(N._status===-1){var k=N._result;k=k(),k.then(function(H){(N._status===0||N._status===-1)&&(N._status=1,N._result=H)},function(H){(N._status===0||N._status===-1)&&(N._status=2,N._result=H)}),N._status===-1&&(N._status=0,N._result=k)}if(N._status===1)return N._result.default;throw N._result}var G=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function F(){}return De.Children={map:q,forEach:function(N,k,H){q(N,function(){k.apply(this,arguments)},H)},count:function(N){var k=0;return q(N,function(){k++}),k},toArray:function(N){return q(N,function(k){return k})||[]},only:function(N){if(!z(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},De.Component=S,De.Fragment=i,De.Profiler=c,De.PureComponent=E,De.StrictMode=o,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,De.__COMPILER_RUNTIME={__proto__:null,c:function(N){return R.H.useMemoCache(N)}},De.cache=function(N){return function(){return N.apply(null,arguments)}},De.cloneElement=function(N,k,H){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var le=_({},N.props),P=N.key,Z=void 0;if(k!=null)for(re in k.ref!==void 0&&(Z=void 0),k.key!==void 0&&(P=""+k.key),k)!L.call(k,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&k.ref===void 0||(le[re]=k[re]);var re=arguments.length-2;if(re===1)le.children=H;else if(1<re){for(var ve=Array(re),we=0;we<re;we++)ve[we]=arguments[we+2];le.children=ve}return B(N.type,P,void 0,void 0,Z,le)},De.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},De.createElement=function(N,k,H){var le,P={},Z=null;if(k!=null)for(le in k.key!==void 0&&(Z=""+k.key),k)L.call(k,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(P[le]=k[le]);var re=arguments.length-2;if(re===1)P.children=H;else if(1<re){for(var ve=Array(re),we=0;we<re;we++)ve[we]=arguments[we+2];P.children=ve}if(N&&N.defaultProps)for(le in re=N.defaultProps,re)P[le]===void 0&&(P[le]=re[le]);return B(N,Z,void 0,void 0,null,P)},De.createRef=function(){return{current:null}},De.forwardRef=function(N){return{$$typeof:m,render:N}},De.isValidElement=z,De.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:de}},De.memo=function(N,k){return{$$typeof:p,type:N,compare:k===void 0?null:k}},De.startTransition=function(N){var k=R.T,H={};R.T=H;try{var le=N(),P=R.S;P!==null&&P(H,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(F,G)}catch(Z){G(Z)}finally{R.T=k}},De.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},De.use=function(N){return R.H.use(N)},De.useActionState=function(N,k,H){return R.H.useActionState(N,k,H)},De.useCallback=function(N,k){return R.H.useCallback(N,k)},De.useContext=function(N){return R.H.useContext(N)},De.useDebugValue=function(){},De.useDeferredValue=function(N,k){return R.H.useDeferredValue(N,k)},De.useEffect=function(N,k,H){var le=R.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(N,k)},De.useId=function(){return R.H.useId()},De.useImperativeHandle=function(N,k,H){return R.H.useImperativeHandle(N,k,H)},De.useInsertionEffect=function(N,k){return R.H.useInsertionEffect(N,k)},De.useLayoutEffect=function(N,k){return R.H.useLayoutEffect(N,k)},De.useMemo=function(N,k){return R.H.useMemo(N,k)},De.useOptimistic=function(N,k){return R.H.useOptimistic(N,k)},De.useReducer=function(N,k,H){return R.H.useReducer(N,k,H)},De.useRef=function(N){return R.H.useRef(N)},De.useState=function(N){return R.H.useState(N)},De.useSyncExternalStore=function(N,k,H){return R.H.useSyncExternalStore(N,k,H)},De.useTransition=function(){return R.H.useTransition()},De.version="19.1.0",De}var bg;function lf(){return bg||(bg=1,Nu.exports=x1()),Nu.exports}var b=lf();const Xn=sf(b);var Su={exports:{}},$s={},Tu={exports:{}},Eu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function b1(){return wg||(wg=1,function(r){function n(q,de){var G=q.length;q.push(de);e:for(;0<G;){var F=G-1>>>1,N=q[F];if(0<c(N,de))q[F]=de,q[G]=N,G=F;else break e}}function i(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var de=q[0],G=q.pop();if(G!==de){q[0]=G;e:for(var F=0,N=q.length,k=N>>>1;F<k;){var H=2*(F+1)-1,le=q[H],P=H+1,Z=q[P];if(0>c(le,G))P<N&&0>c(Z,le)?(q[F]=Z,q[P]=G,F=P):(q[F]=le,q[H]=G,F=H);else if(P<N&&0>c(Z,G))q[F]=Z,q[P]=G,F=P;else break e}}return de}function c(q,de){var G=q.sortIndex-de.sortIndex;return G!==0?G:q.id-de.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],v=1,x=null,w=3,A=!1,_=!1,T=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(q){for(var de=i(p);de!==null;){if(de.callback===null)o(p);else if(de.startTime<=q)o(p),de.sortIndex=de.expirationTime,n(g,de);else break;de=i(p)}}function R(q){if(T=!1,M(q),!_)if(i(g)!==null)_=!0,L||(L=!0,J());else{var de=i(p);de!==null&&he(R,de.startTime-q)}}var L=!1,B=-1,D=5,z=-1;function te(){return S?!0:!(r.unstable_now()-z<D)}function ie(){if(S=!1,L){var q=r.unstable_now();z=q;var de=!0;try{e:{_=!1,T&&(T=!1,E(B),B=-1),A=!0;var G=w;try{t:{for(M(q),x=i(g);x!==null&&!(x.expirationTime>q&&te());){var F=x.callback;if(typeof F=="function"){x.callback=null,w=x.priorityLevel;var N=F(x.expirationTime<=q);if(q=r.unstable_now(),typeof N=="function"){x.callback=N,M(q),de=!0;break t}x===i(g)&&o(g),M(q)}else o(g);x=i(g)}if(x!==null)de=!0;else{var k=i(p);k!==null&&he(R,k.startTime-q),de=!1}}break e}finally{x=null,w=G,A=!1}de=void 0}}finally{de?J():L=!1}}}var J;if(typeof O=="function")J=function(){O(ie)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,pe=Y.port2;Y.port1.onmessage=ie,J=function(){pe.postMessage(null)}}else J=function(){C(ie,0)};function he(q,de){B=C(function(){q(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(q){switch(w){case 1:case 2:case 3:var de=3;break;default:de=w}var G=w;w=de;try{return q()}finally{w=G}},r.unstable_requestPaint=function(){S=!0},r.unstable_runWithPriority=function(q,de){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var G=w;w=q;try{return de()}finally{w=G}},r.unstable_scheduleCallback=function(q,de,G){var F=r.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?F+G:F):G=F,q){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=G+N,q={id:v++,callback:de,priorityLevel:q,startTime:G,expirationTime:N,sortIndex:-1},G>F?(q.sortIndex=G,n(p,q),i(g)===null&&q===i(p)&&(T?(E(B),B=-1):T=!0,he(R,G-F))):(q.sortIndex=N,n(g,q),_||A||(_=!0,L||(L=!0,J()))),q},r.unstable_shouldYield=te,r.unstable_wrapCallback=function(q){var de=w;return function(){var G=w;w=de;try{return q.apply(this,arguments)}finally{w=G}}}}(Eu)),Eu}var jg;function w1(){return jg||(jg=1,Tu.exports=b1()),Tu.exports}var Cu={exports:{}},Mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function j1(){if(Ng)return Mt;Ng=1;var r=lf();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:g,containerInfo:p,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Mt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return d(g,p,null,v)},Mt.flushSync=function(g){var p=h.T,v=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=p,o.p=v,o.d.f()}},Mt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},Mt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},Mt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,x=m(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:A}):v==="script"&&o.d.X(g,{crossOrigin:x,integrity:w,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},Mt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=m(v,p.crossOrigin);o.d.L(g,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},Mt.requestFormReset=function(g){o.d.r(g)},Mt.unstable_batchedUpdates=function(g,p){return g(p)},Mt.useFormState=function(g,p,v){return h.H.useFormState(g,p,v)},Mt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Mt.version="19.1.0",Mt}var Sg;function N1(){if(Sg)return Cu.exports;Sg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Cu.exports=j1(),Cu.exports}var Tg;function S1(){if(Tg)return $s;Tg=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=w1(),n=lf(),i=N1();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(o(188))}function g(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,l=t;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return m(u),e;if(f===l)return m(u),t;f=f.sibling}throw Error(o(188))}if(a.return!==l.return)a=u,l=f;else{for(var y=!1,j=u.child;j;){if(j===a){y=!0,a=u,l=f;break}if(j===l){y=!0,l=u,a=f;break}j=j.sibling}if(!y){for(j=f.child;j;){if(j===a){y=!0,a=f,l=u;break}if(j===l){y=!0,l=f,a=u;break}j=j.sibling}if(!y)throw Error(o(189))}}if(a.alternate!==l)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Symbol.for("react.client.reference");function pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Y?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case S:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case L:return"SuspenseList";case z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case O:return(e.displayName||"Context")+".Provider";case E:return(e._context.displayName||"Context")+".Consumer";case M:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}var he=Array.isArray,q=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},F=[],N=-1;function k(e){return{current:e}}function H(e){0>N||(e.current=F[N],F[N]=null,N--)}function le(e,t){N++,F[N]=e.current,e.current=t}var P=k(null),Z=k(null),re=k(null),ve=k(null);function we(e,t){switch(le(re,t),le(Z,e),le(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Xp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Xp(t),e=Vp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(P),le(P,e)}function Ne(){H(P),H(Z),H(re)}function ze(e){e.memoizedState!==null&&le(ve,e);var t=P.current,a=Vp(t,e.type);t!==a&&(le(Z,e),le(P,a))}function vt(e){Z.current===e&&(H(P),H(Z)),ve.current===e&&(H(ve),Is._currentValue=G)}var ut=Object.prototype.hasOwnProperty,jt=r.unstable_scheduleCallback,et=r.unstable_cancelCallback,mt=r.unstable_shouldYield,Q=r.unstable_requestPaint,X=r.unstable_now,se=r.unstable_getCurrentPriorityLevel,fe=r.unstable_ImmediatePriority,ye=r.unstable_UserBlockingPriority,je=r.unstable_NormalPriority,_e=r.unstable_LowPriority,Be=r.unstable_IdlePriority,$e=r.log,it=r.unstable_setDisableYieldValue,ba=null,yt=null;function Jt(e){if(typeof $e=="function"&&it(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(ba,e)}catch{}}var ae=Math.clz32?Math.clz32:Re,me=Math.log,Ee=Math.LN2;function Re(e){return e>>>=0,e===0?32:31-(me(e)/Ee|0)|0}var He=256,Ze=4194304;function Ht(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qt(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var u=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var j=l&134217727;return j!==0?(l=j&~f,l!==0?u=Ht(l):(y&=j,y!==0?u=Ht(y):a||(a=j&~e,a!==0&&(u=Ht(a))))):(j=l&~f,j!==0?u=Ht(j):y!==0?u=Ht(y):a||(a=l&~e,a!==0&&(u=Ht(a)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:u}function xt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function at(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yr(){var e=He;return He<<=1,(He&4194048)===0&&(He=256),e}function Of(){var e=Ze;return Ze<<=1,(Ze&62914560)===0&&(Ze=4194304),e}function uo(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Fr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sx(e,t,a,l,u,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var j=e.entanglements,U=e.expirationTimes,W=e.hiddenUpdates;for(a=y&~a;0<a;){var oe=31-ae(a),ue=1<<oe;j[oe]=0,U[oe]=-1;var K=W[oe];if(K!==null)for(W[oe]=null,oe=0;oe<K.length;oe++){var ee=K[oe];ee!==null&&(ee.lane&=-536870913)}a&=~ue}l!==0&&Af(e,l,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~t))}function Af(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ae(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Rf(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-ae(a),u=1<<l;u&t|e[l]&t&&(e[l]|=t),a&=~u}}function fo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ho(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Df(){var e=de.p;return e!==0?e:(e=window.event,e===void 0?32:dg(e.type))}function ix(e,t){var a=de.p;try{return de.p=e,t()}finally{de.p=a}}var en=Math.random().toString(36).slice(2),Dt="__reactFiber$"+en,Pt="__reactProps$"+en,Jn="__reactContainer$"+en,mo="__reactEvents$"+en,lx="__reactListeners$"+en,ox="__reactHandles$"+en,kf="__reactResources$"+en,Qr="__reactMarker$"+en;function po(e){delete e[Dt],delete e[Pt],delete e[mo],delete e[lx],delete e[ox]}function Zn(e){var t=e[Dt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Jn]||a[Dt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Wp(e);e!==null;){if(a=e[Dt])return a;e=Wp(e)}return t}e=a,a=e.parentNode}return null}function Kn(e){if(e=e[Dt]||e[Jn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Wr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function er(e){var t=e[kf];return t||(t=e[kf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Nt(e){e[Qr]=!0}var Mf=new Set,Lf={};function Cn(e,t){tr(e,t),tr(e+"Capture",t)}function tr(e,t){for(Lf[e]=t,e=0;e<t.length;e++)Mf.add(t[e])}var cx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uf={},zf={};function ux(e){return ut.call(zf,e)?!0:ut.call(Uf,e)?!1:cx.test(e)?zf[e]=!0:(Uf[e]=!0,!1)}function di(e,t,a){if(ux(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function fi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function La(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}var go,If;function ar(e){if(go===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);go=t&&t[1]||"",If=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+go+e+If}var vo=!1;function yo(e,t){if(!e||vo)return"";vo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ee){var K=ee}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ee){K=ee}e.call(ue.prototype)}}else{try{throw Error()}catch(ee){K=ee}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ee){if(ee&&K&&typeof ee.stack=="string")return[ee.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],j=f[1];if(y&&j){var U=y.split(`
`),W=j.split(`
`);for(u=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;u<W.length&&!W[u].includes("DetermineComponentFrameRoot");)u++;if(l===U.length||u===W.length)for(l=U.length-1,u=W.length-1;1<=l&&0<=u&&U[l]!==W[u];)u--;for(;1<=l&&0<=u;l--,u--)if(U[l]!==W[u]){if(l!==1||u!==1)do if(l--,u--,0>u||U[l]!==W[u]){var oe=`
`+U[l].replace(" at new "," at ");return e.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",e.displayName)),oe}while(1<=l&&0<=u);break}}}finally{vo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ar(a):""}function dx(e){switch(e.tag){case 26:case 27:case 5:return ar(e.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 15:return yo(e.type,!1);case 11:return yo(e.type.render,!1);case 1:return yo(e.type,!0);case 31:return ar("Activity");default:return""}}function Bf(e){try{var t="";do t+=dx(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ia(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fx(e){var t=Hf(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hi(e){e._valueTracker||(e._valueTracker=fx(e))}function qf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Hf(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hx=/[\n"\\]/g;function la(e){return e.replace(hx,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function xo(e,t,a,l,u,f,y,j){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ia(t)):e.value!==""+ia(t)&&(e.value=""+ia(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?bo(e,y,ia(t)):a!=null?bo(e,y,ia(a)):l!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+ia(j):e.removeAttribute("name")}function Pf(e,t,a,l,u,f,y,j){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;a=a!=null?""+ia(a):"",t=t!=null?""+ia(t):a,j||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=j?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function bo(e,t,a){t==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function nr(e,t,a,l){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ia(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Gf(e,t,a){if(t!=null&&(t=""+ia(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ia(a):""}function $f(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(o(92));if(he(l)){if(1<l.length)throw Error(o(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=ia(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function rr(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var mx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xf(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||mx.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Vf(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&a[u]!==l&&Xf(e,u,l)}else for(var f in t)t.hasOwnProperty(f)&&Xf(e,f,t[f])}function wo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var px=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pi(e){return gx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var jo=null;function No(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sr=null,ir=null;function Yf(e){var t=Kn(e);if(t&&(e=t.stateNode)){var a=e[Pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(xo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+la(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var u=l[Pt]||null;if(!u)throw Error(o(90));xo(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&qf(l)}break e;case"textarea":Gf(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&nr(e,!!a.multiple,t,!1)}}}var So=!1;function Ff(e,t,a){if(So)return e(t,a);So=!0;try{var l=e(t);return l}finally{if(So=!1,(sr!==null||ir!==null)&&(el(),sr&&(t=sr,e=ir,ir=sr=null,Yf(t),e)))for(t=0;t<e.length;t++)Yf(e[t])}}function Jr(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var Ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),To=!1;if(Ua)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){To=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{To=!1}var tn=null,Eo=null,gi=null;function Qf(){if(gi)return gi;var e,t=Eo,a=t.length,l,u="value"in tn?tn.value:tn.textContent,f=u.length;for(e=0;e<a&&t[e]===u[e];e++);var y=a-e;for(l=1;l<=y&&t[a-l]===u[f-l];l++);return gi=u.slice(e,1<l?1-l:void 0)}function vi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function Wf(){return!1}function Gt(e){function t(a,l,u,f,y){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(a=e[j],this[j]=a?a(f):f[j]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?yi:Wf,this.isPropagationStopped=Wf,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),t}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Gt(_n),Kr=v({},_n,{view:0,detail:0}),vx=Gt(Kr),Co,_o,es,bi=v({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==es&&(es&&e.type==="mousemove"?(Co=e.screenX-es.screenX,_o=e.screenY-es.screenY):_o=Co=0,es=e),Co)},movementY:function(e){return"movementY"in e?e.movementY:_o}}),Jf=Gt(bi),yx=v({},bi,{dataTransfer:0}),xx=Gt(yx),bx=v({},Kr,{relatedTarget:0}),Oo=Gt(bx),wx=v({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),jx=Gt(wx),Nx=v({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sx=Gt(Nx),Tx=v({},_n,{data:0}),Zf=Gt(Tx),Ex={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ox(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_x[e])?!!t[e]:!1}function Ao(){return Ox}var Ax=v({},Kr,{key:function(e){if(e.key){var t=Ex[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ao,charCode:function(e){return e.type==="keypress"?vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rx=Gt(Ax),Dx=v({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kf=Gt(Dx),kx=v({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ao}),Mx=Gt(kx),Lx=v({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ux=Gt(Lx),zx=v({},bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ix=Gt(zx),Bx=v({},_n,{newState:0,oldState:0}),Hx=Gt(Bx),qx=[9,13,27,32],Ro=Ua&&"CompositionEvent"in window,ts=null;Ua&&"documentMode"in document&&(ts=document.documentMode);var Px=Ua&&"TextEvent"in window&&!ts,eh=Ua&&(!Ro||ts&&8<ts&&11>=ts),th=" ",ah=!1;function nh(e,t){switch(e){case"keyup":return qx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lr=!1;function Gx(e,t){switch(e){case"compositionend":return rh(t);case"keypress":return t.which!==32?null:(ah=!0,th);case"textInput":return e=t.data,e===th&&ah?null:e;default:return null}}function $x(e,t){if(lr)return e==="compositionend"||!Ro&&nh(e,t)?(e=Qf(),gi=Eo=tn=null,lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eh&&t.locale!=="ko"?null:t.data;default:return null}}var Xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xx[e.type]:t==="textarea"}function ih(e,t,a,l){sr?ir?ir.push(l):ir=[l]:sr=l,t=il(t,"onChange"),0<t.length&&(a=new xi("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var as=null,ns=null;function Vx(e){Hp(e,0)}function wi(e){var t=Wr(e);if(qf(t))return e}function lh(e,t){if(e==="change")return t}var oh=!1;if(Ua){var Do;if(Ua){var ko="oninput"in document;if(!ko){var ch=document.createElement("div");ch.setAttribute("oninput","return;"),ko=typeof ch.oninput=="function"}Do=ko}else Do=!1;oh=Do&&(!document.documentMode||9<document.documentMode)}function uh(){as&&(as.detachEvent("onpropertychange",dh),ns=as=null)}function dh(e){if(e.propertyName==="value"&&wi(ns)){var t=[];ih(t,ns,e,No(e)),Ff(Vx,t)}}function Yx(e,t,a){e==="focusin"?(uh(),as=t,ns=a,as.attachEvent("onpropertychange",dh)):e==="focusout"&&uh()}function Fx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wi(ns)}function Qx(e,t){if(e==="click")return wi(t)}function Wx(e,t){if(e==="input"||e==="change")return wi(t)}function Jx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:Jx;function rs(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!ut.call(t,u)||!Zt(e[u],t[u]))return!1}return!0}function fh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hh(e,t){var a=fh(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fh(a)}}function mh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ph(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=mi(e.document)}return t}function Mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Zx=Ua&&"documentMode"in document&&11>=document.documentMode,or=null,Lo=null,ss=null,Uo=!1;function gh(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uo||or==null||or!==mi(l)||(l=or,"selectionStart"in l&&Mo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ss&&rs(ss,l)||(ss=l,l=il(Lo,"onSelect"),0<l.length&&(t=new xi("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=or)))}function On(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var cr={animationend:On("Animation","AnimationEnd"),animationiteration:On("Animation","AnimationIteration"),animationstart:On("Animation","AnimationStart"),transitionrun:On("Transition","TransitionRun"),transitionstart:On("Transition","TransitionStart"),transitioncancel:On("Transition","TransitionCancel"),transitionend:On("Transition","TransitionEnd")},zo={},vh={};Ua&&(vh=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function An(e){if(zo[e])return zo[e];if(!cr[e])return e;var t=cr[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in vh)return zo[e]=t[a];return e}var yh=An("animationend"),xh=An("animationiteration"),bh=An("animationstart"),Kx=An("transitionrun"),eb=An("transitionstart"),tb=An("transitioncancel"),wh=An("transitionend"),jh=new Map,Io="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Io.push("scrollEnd");function wa(e,t){jh.set(e,t),Cn(t,[e])}var Nh=new WeakMap;function oa(e,t){if(typeof e=="object"&&e!==null){var a=Nh.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Bf(t)},Nh.set(e,t),t)}return{value:e,source:t,stack:Bf(t)}}var ca=[],ur=0,Bo=0;function ji(){for(var e=ur,t=Bo=ur=0;t<e;){var a=ca[t];ca[t++]=null;var l=ca[t];ca[t++]=null;var u=ca[t];ca[t++]=null;var f=ca[t];if(ca[t++]=null,l!==null&&u!==null){var y=l.pending;y===null?u.next=u:(u.next=y.next,y.next=u),l.pending=u}f!==0&&Sh(a,u,f)}}function Ni(e,t,a,l){ca[ur++]=e,ca[ur++]=t,ca[ur++]=a,ca[ur++]=l,Bo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ho(e,t,a,l){return Ni(e,t,a,l),Si(e)}function dr(e,t){return Ni(e,null,null,t),Si(e)}function Sh(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-ae(a),e=f.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=a|536870912),f):null}function Si(e){if(50<As)throw As=0,Vc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var fr={};function ab(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,t,a,l){return new ab(e,t,a,l)}function qo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function za(e,t){var a=e.alternate;return a===null?(a=Kt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Th(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ti(e,t,a,l,u,f){var y=0;if(l=e,typeof e=="function")qo(e)&&(y=1);else if(typeof e=="string")y=r1(e,a,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case z:return e=Kt(31,a,t,u),e.elementType=z,e.lanes=f,e;case _:return Rn(a.children,u,f,t);case T:y=8,u|=24;break;case S:return e=Kt(12,a,t,u|2),e.elementType=S,e.lanes=f,e;case R:return e=Kt(13,a,t,u),e.elementType=R,e.lanes=f,e;case L:return e=Kt(19,a,t,u),e.elementType=L,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:case O:y=10;break e;case E:y=9;break e;case M:y=11;break e;case B:y=14;break e;case D:y=16,l=null;break e}y=29,a=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=Kt(y,a,t,u),t.elementType=e,t.type=l,t.lanes=f,t}function Rn(e,t,a,l){return e=Kt(7,e,l,t),e.lanes=a,e}function Po(e,t,a){return e=Kt(6,e,null,t),e.lanes=a,e}function Go(e,t,a){return t=Kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var hr=[],mr=0,Ei=null,Ci=0,ua=[],da=0,Dn=null,Ia=1,Ba="";function kn(e,t){hr[mr++]=Ci,hr[mr++]=Ei,Ei=e,Ci=t}function Eh(e,t,a){ua[da++]=Ia,ua[da++]=Ba,ua[da++]=Dn,Dn=e;var l=Ia;e=Ba;var u=32-ae(l)-1;l&=~(1<<u),a+=1;var f=32-ae(t)+u;if(30<f){var y=u-u%5;f=(l&(1<<y)-1).toString(32),l>>=y,u-=y,Ia=1<<32-ae(t)+u|a<<u|l,Ba=f+e}else Ia=1<<f|a<<u|l,Ba=e}function $o(e){e.return!==null&&(kn(e,1),Eh(e,1,0))}function Xo(e){for(;e===Ei;)Ei=hr[--mr],hr[mr]=null,Ci=hr[--mr],hr[mr]=null;for(;e===Dn;)Dn=ua[--da],ua[da]=null,Ba=ua[--da],ua[da]=null,Ia=ua[--da],ua[da]=null}var zt=null,ot=null,Pe=!1,Mn=null,_a=!1,Vo=Error(o(519));function Ln(e){var t=Error(o(418,""));throw os(oa(t,e)),Vo}function Ch(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[Dt]=e,t[Pt]=l,a){case"dialog":Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":case"embed":Ue("load",t);break;case"video":case"audio":for(a=0;a<Ds.length;a++)Ue(Ds[a],t);break;case"source":Ue("error",t);break;case"img":case"image":case"link":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"input":Ue("invalid",t),Pf(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),hi(t);break;case"select":Ue("invalid",t);break;case"textarea":Ue("invalid",t),$f(t,l.value,l.defaultValue,l.children),hi(t)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||$p(t.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",t),Ue("toggle",t)),l.onScroll!=null&&Ue("scroll",t),l.onScrollEnd!=null&&Ue("scrollend",t),l.onClick!=null&&(t.onclick=ll),t=!0):t=!1,t||Ln(e)}function _h(e){for(zt=e.return;zt;)switch(zt.tag){case 5:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:zt=zt.return}}function is(e){if(e!==zt)return!1;if(!Pe)return _h(e),Pe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ou(e.type,e.memoizedProps)),a=!a),a&&ot&&Ln(e),_h(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){ot=Na(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}ot=null}}else t===27?(t=ot,yn(e.type)?(e=fu,fu=null,ot=e):ot=t):ot=zt?Na(e.stateNode.nextSibling):null;return!0}function ls(){ot=zt=null,Pe=!1}function Oh(){var e=Mn;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),Mn=null),e}function os(e){Mn===null?Mn=[e]:Mn.push(e)}var Yo=k(null),Un=null,Ha=null;function an(e,t,a){le(Yo,t._currentValue),t._currentValue=a}function qa(e){e._currentValue=Yo.current,H(Yo)}function Fo(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Qo(e,t,a,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var y=u.child;f=f.firstContext;e:for(;f!==null;){var j=f;f=u;for(var U=0;U<t.length;U++)if(j.context===t[U]){f.lanes|=a,j=f.alternate,j!==null&&(j.lanes|=a),Fo(f.return,a,e),l||(y=null);break e}f=j.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(o(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Fo(y,a,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function cs(e,t,a,l){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(o(387));if(y=y.memoizedProps,y!==null){var j=u.type;Zt(u.pendingProps.value,y.value)||(e!==null?e.push(j):e=[j])}}else if(u===ve.current){if(y=u.alternate,y===null)throw Error(o(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Is):e=[Is])}u=u.return}e!==null&&Qo(t,e,a,l),t.flags|=262144}function _i(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zn(e){Un=e,Ha=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kt(e){return Ah(Un,e)}function Oi(e,t){return Un===null&&zn(e),Ah(e,t)}function Ah(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ha===null){if(e===null)throw Error(o(308));Ha=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ha=Ha.next=t;return a}var nb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},rb=r.unstable_scheduleCallback,sb=r.unstable_NormalPriority,bt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wo(){return{controller:new nb,data:new Map,refCount:0}}function us(e){e.refCount--,e.refCount===0&&rb(sb,function(){e.controller.abort()})}var ds=null,Jo=0,pr=0,gr=null;function ib(e,t){if(ds===null){var a=ds=[];Jo=0,pr=Kc(),gr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jo++,t.then(Rh,Rh),t}function Rh(){if(--Jo===0&&ds!==null){gr!==null&&(gr.status="fulfilled");var e=ds;ds=null,pr=0,gr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function lb(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var Dh=q.S;q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&ib(e,t),Dh!==null&&Dh(e,t)};var In=k(null);function Zo(){var e=In.current;return e!==null?e:tt.pooledCache}function Ai(e,t){t===null?le(In,In.current):le(In,t.pool)}function kh(){var e=Zo();return e===null?null:{parent:bt._currentValue,pool:e}}var fs=Error(o(460)),Mh=Error(o(474)),Ri=Error(o(542)),Ko={then:function(){}};function Lh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Di(){}function Uh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Di,Di),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ih(e),e;default:if(typeof t.status=="string")t.then(Di,Di);else{if(e=tt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ih(e),e}throw hs=t,fs}}var hs=null;function zh(){if(hs===null)throw Error(o(459));var e=hs;return hs=null,e}function Ih(e){if(e===fs||e===Ri)throw Error(o(483))}var nn=!1;function ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sn(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ve&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Si(e),Sh(e,null,a),t}return Ni(e,l,t,a),Si(e)}function ms(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Rf(e,a)}}function ac(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?u=f=t:f=f.next=t}else u=f=t;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var nc=!1;function ps(){if(nc){var e=gr;if(e!==null)throw e}}function gs(e,t,a,l){nc=!1;var u=e.updateQueue;nn=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,j=u.shared.pending;if(j!==null){u.shared.pending=null;var U=j,W=U.next;U.next=null,y===null?f=W:y.next=W,y=U;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,j=oe.lastBaseUpdate,j!==y&&(j===null?oe.firstBaseUpdate=W:j.next=W,oe.lastBaseUpdate=U))}if(f!==null){var ue=u.baseState;y=0,oe=W=U=null,j=f;do{var K=j.lane&-536870913,ee=K!==j.lane;if(ee?(Ie&K)===K:(l&K)===K){K!==0&&K===pr&&(nc=!0),oe!==null&&(oe=oe.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ce=e,Se=j;K=t;var We=a;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){ue=Ce.call(We,ue,K);break e}ue=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,K=typeof Ce=="function"?Ce.call(We,ue,K):Ce,K==null)break e;ue=v({},ue,K);break e;case 2:nn=!0}}K=j.callback,K!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=u.callbacks,ee===null?u.callbacks=[K]:ee.push(K))}else ee={lane:K,tag:j.tag,payload:j.payload,callback:j.callback,next:null},oe===null?(W=oe=ee,U=ue):oe=oe.next=ee,y|=K;if(j=j.next,j===null){if(j=u.shared.pending,j===null)break;ee=j,j=ee.next,ee.next=null,u.lastBaseUpdate=ee,u.shared.pending=null}}while(!0);oe===null&&(U=ue),u.baseState=U,u.firstBaseUpdate=W,u.lastBaseUpdate=oe,f===null&&(u.shared.lanes=0),mn|=y,e.lanes=y,e.memoizedState=ue}}function Bh(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Hh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Bh(a[e],t)}var vr=k(null),ki=k(0);function qh(e,t){e=Fa,le(ki,e),le(vr,t),Fa=e|t.baseLanes}function rc(){le(ki,Fa),le(vr,vr.current)}function sc(){Fa=ki.current,H(vr),H(ki)}var ln=0,ke=null,Fe=null,pt=null,Mi=!1,yr=!1,Bn=!1,Li=0,vs=0,xr=null,ob=0;function dt(){throw Error(o(321))}function ic(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Zt(e[a],t[a]))return!1;return!0}function lc(e,t,a,l,u,f){return ln=f,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?Sm:Tm,Bn=!1,f=a(l,u),Bn=!1,yr&&(f=Gh(t,a,l,u)),Ph(e),f}function Ph(e){q.H=qi;var t=Fe!==null&&Fe.next!==null;if(ln=0,pt=Fe=ke=null,Mi=!1,vs=0,xr=null,t)throw Error(o(300));e===null||St||(e=e.dependencies,e!==null&&_i(e)&&(St=!0))}function Gh(e,t,a,l){ke=e;var u=0;do{if(yr&&(xr=null),vs=0,yr=!1,25<=u)throw Error(o(301));if(u+=1,pt=Fe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=pb,f=t(a,l)}while(yr);return f}function cb(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?ys(t):t,e=e.useState()[0],(Fe!==null?Fe.memoizedState:null)!==e&&(ke.flags|=1024),t}function oc(){var e=Li!==0;return Li=0,e}function cc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function uc(e){if(Mi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Mi=!1}ln=0,pt=Fe=ke=null,yr=!1,vs=Li=0,xr=null}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?ke.memoizedState=pt=e:pt=pt.next=e,pt}function gt(){if(Fe===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=pt===null?ke.memoizedState:pt.next;if(t!==null)pt=t,Fe=e;else{if(e===null)throw ke.alternate===null?Error(o(467)):Error(o(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},pt===null?ke.memoizedState=pt=e:pt=pt.next=e}return pt}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ys(e){var t=vs;return vs+=1,xr===null&&(xr=[]),e=Uh(xr,e,t),t=ke,(pt===null?t.memoizedState:pt.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Sm:Tm),e}function Ui(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ys(e);if(e.$$typeof===O)return kt(e)}throw Error(o(438,String(e)))}function fc(e){var t=null,a=ke.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=dc(),ke.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=te;return t.index++,a}function Pa(e,t){return typeof t=="function"?t(e):t}function zi(e){var t=gt();return hc(t,Fe,e)}function hc(e,t,a){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=a;var u=e.baseQueue,f=l.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}t.baseQueue=u=f,l.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var j=y=null,U=null,W=t,oe=!1;do{var ue=W.lane&-536870913;if(ue!==W.lane?(Ie&ue)===ue:(ln&ue)===ue){var K=W.revertLane;if(K===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ue===pr&&(oe=!0);else if((ln&K)===K){W=W.next,K===pr&&(oe=!0);continue}else ue={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(j=U=ue,y=f):U=U.next=ue,ke.lanes|=K,mn|=K;ue=W.action,Bn&&a(f,ue),f=W.hasEagerState?W.eagerState:a(f,ue)}else K={lane:ue,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(j=U=K,y=f):U=U.next=K,ke.lanes|=ue,mn|=ue;W=W.next}while(W!==null&&W!==t);if(U===null?y=f:U.next=j,!Zt(f,e.memoizedState)&&(St=!0,oe&&(a=gr,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=U,l.lastRenderedState=f}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function mc(e){var t=gt(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var l=a.dispatch,u=a.pending,f=t.memoizedState;if(u!==null){a.pending=null;var y=u=u.next;do f=e(f,y.action),y=y.next;while(y!==u);Zt(f,t.memoizedState)||(St=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,l]}function $h(e,t,a){var l=ke,u=gt(),f=Pe;if(f){if(a===void 0)throw Error(o(407));a=a()}else a=t();var y=!Zt((Fe||u).memoizedState,a);y&&(u.memoizedState=a,St=!0),u=u.queue;var j=Yh.bind(null,l,u,e);if(xs(2048,8,j,[e]),u.getSnapshot!==t||y||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,br(9,Ii(),Vh.bind(null,l,u,a,t),null),tt===null)throw Error(o(349));f||(ln&124)!==0||Xh(l,t,a)}return a}function Xh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ke.updateQueue,t===null?(t=dc(),ke.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Vh(e,t,a,l){t.value=a,t.getSnapshot=l,Fh(t)&&Qh(e)}function Yh(e,t,a){return a(function(){Fh(t)&&Qh(e)})}function Fh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Zt(e,a)}catch{return!0}}function Qh(e){var t=dr(e,2);t!==null&&ra(t,e,2)}function pc(e){var t=$t();if(typeof e=="function"){var a=e;if(e=a(),Bn){Jt(!0);try{a()}finally{Jt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:e},t}function Wh(e,t,a,l){return e.baseState=a,hc(e,Fe,typeof l=="function"?l:Pa)}function ub(e,t,a,l,u){if(Hi(e))throw Error(o(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};q.T!==null?a(!0):f.isTransition=!1,l(f),a=t.pending,a===null?(f.next=t.pending=f,Jh(t,f)):(f.next=a.next,t.pending=a.next=f)}}function Jh(e,t){var a=t.action,l=t.payload,u=e.state;if(t.isTransition){var f=q.T,y={};q.T=y;try{var j=a(u,l),U=q.S;U!==null&&U(y,j),Zh(e,t,j)}catch(W){gc(e,t,W)}finally{q.T=f}}else try{f=a(u,l),Zh(e,t,f)}catch(W){gc(e,t,W)}}function Zh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Kh(e,t,l)},function(l){return gc(e,t,l)}):Kh(e,t,a)}function Kh(e,t,a){t.status="fulfilled",t.value=a,em(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Jh(e,a)))}function gc(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,em(t),t=t.next;while(t!==l)}e.action=null}function em(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function tm(e,t){return t}function am(e,t){if(Pe){var a=tt.formState;if(a!==null){e:{var l=ke;if(Pe){if(ot){t:{for(var u=ot,f=_a;u.nodeType!==8;){if(!f){u=null;break t}if(u=Na(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){ot=Na(u.nextSibling),l=u.data==="F!";break e}}Ln(l)}l=!1}l&&(t=a[0])}}return a=$t(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tm,lastRenderedState:t},a.queue=l,a=wm.bind(null,ke,l),l.dispatch=a,l=pc(!1),f=wc.bind(null,ke,!1,l.queue),l=$t(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,a=ub.bind(null,ke,u,f,a),u.dispatch=a,l.memoizedState=e,[t,a,!1]}function nm(e){var t=gt();return rm(t,Fe,e)}function rm(e,t,a){if(t=hc(e,t,tm)[0],e=zi(Pa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ys(t)}catch(y){throw y===fs?Ri:y}else l=t;t=gt();var u=t.queue,f=u.dispatch;return a!==t.memoizedState&&(ke.flags|=2048,br(9,Ii(),db.bind(null,u,a),null)),[l,f,e]}function db(e,t){e.action=t}function sm(e){var t=gt(),a=Fe;if(a!==null)return rm(t,a,e);gt(),t=t.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function br(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=ke.updateQueue,t===null&&(t=dc(),ke.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Ii(){return{destroy:void 0,resource:void 0}}function im(){return gt().memoizedState}function Bi(e,t,a,l){var u=$t();l=l===void 0?null:l,ke.flags|=e,u.memoizedState=br(1|t,Ii(),a,l)}function xs(e,t,a,l){var u=gt();l=l===void 0?null:l;var f=u.memoizedState.inst;Fe!==null&&l!==null&&ic(l,Fe.memoizedState.deps)?u.memoizedState=br(t,f,a,l):(ke.flags|=e,u.memoizedState=br(1|t,f,a,l))}function lm(e,t){Bi(8390656,8,e,t)}function om(e,t){xs(2048,8,e,t)}function cm(e,t){return xs(4,2,e,t)}function um(e,t){return xs(4,4,e,t)}function dm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fm(e,t,a){a=a!=null?a.concat([e]):null,xs(4,4,dm.bind(null,t,e),a)}function vc(){}function hm(e,t){var a=gt();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&ic(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function mm(e,t){var a=gt();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&ic(t,l[1]))return l[0];if(l=e(),Bn){Jt(!0);try{e()}finally{Jt(!1)}}return a.memoizedState=[l,t],l}function yc(e,t,a){return a===void 0||(ln&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=vp(),ke.lanes|=e,mn|=e,a)}function pm(e,t,a,l){return Zt(a,t)?a:vr.current!==null?(e=yc(e,a,l),Zt(e,t)||(St=!0),e):(ln&42)===0?(St=!0,e.memoizedState=a):(e=vp(),ke.lanes|=e,mn|=e,t)}function gm(e,t,a,l,u){var f=de.p;de.p=f!==0&&8>f?f:8;var y=q.T,j={};q.T=j,wc(e,!1,t,a);try{var U=u(),W=q.S;if(W!==null&&W(j,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var oe=lb(U,l);bs(e,t,oe,na(e))}else bs(e,t,l,na(e))}catch(ue){bs(e,t,{then:function(){},status:"rejected",reason:ue},na())}finally{de.p=f,q.T=y}}function fb(){}function xc(e,t,a,l){if(e.tag!==5)throw Error(o(476));var u=vm(e).queue;gm(e,u,t,G,a===null?fb:function(){return ym(e),a(l)})}function vm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:G},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ym(e){var t=vm(e).next.queue;bs(e,t,{},na())}function bc(){return kt(Is)}function xm(){return gt().memoizedState}function bm(){return gt().memoizedState}function hb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=na();e=rn(a);var l=sn(t,e,a);l!==null&&(ra(l,t,a),ms(l,t,a)),t={cache:Wo()},e.payload=t;return}t=t.return}}function mb(e,t,a){var l=na();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Hi(e)?jm(t,a):(a=Ho(e,t,a,l),a!==null&&(ra(a,e,l),Nm(a,t,l)))}function wm(e,t,a){var l=na();bs(e,t,a,l)}function bs(e,t,a,l){var u={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))jm(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,j=f(y,a);if(u.hasEagerState=!0,u.eagerState=j,Zt(j,y))return Ni(e,t,u,0),tt===null&&ji(),!1}catch{}finally{}if(a=Ho(e,t,u,l),a!==null)return ra(a,e,l),Nm(a,t,l),!0}return!1}function wc(e,t,a,l){if(l={lane:2,revertLane:Kc(),action:l,hasEagerState:!1,eagerState:null,next:null},Hi(e)){if(t)throw Error(o(479))}else t=Ho(e,a,l,2),t!==null&&ra(t,e,2)}function Hi(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function jm(e,t){yr=Mi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Nm(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Rf(e,a)}}var qi={readContext:kt,use:Ui,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},Sm={readContext:kt,use:Ui,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:lm,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Bi(4194308,4,dm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){Bi(4,2,e,t)},useMemo:function(e,t){var a=$t();t=t===void 0?null:t;var l=e();if(Bn){Jt(!0);try{e()}finally{Jt(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=$t();if(a!==void 0){var u=a(t);if(Bn){Jt(!0);try{a(t)}finally{Jt(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=mb.bind(null,ke,e),[l.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:function(e){e=pc(e);var t=e.queue,a=wm.bind(null,ke,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:vc,useDeferredValue:function(e,t){var a=$t();return yc(a,e,t)},useTransition:function(){var e=pc(!1);return e=gm.bind(null,ke,e.queue,!0,!1),$t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=ke,u=$t();if(Pe){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),tt===null)throw Error(o(349));(Ie&124)!==0||Xh(l,t,a)}u.memoizedState=a;var f={value:a,getSnapshot:t};return u.queue=f,lm(Yh.bind(null,l,f,e),[e]),l.flags|=2048,br(9,Ii(),Vh.bind(null,l,f,a,t),null),a},useId:function(){var e=$t(),t=tt.identifierPrefix;if(Pe){var a=Ba,l=Ia;a=(l&~(1<<32-ae(l)-1)).toString(32)+a,t="«"+t+"R"+a,a=Li++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=ob++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:bc,useFormState:am,useActionState:am,useOptimistic:function(e){var t=$t();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=wc.bind(null,ke,!0,a),a.dispatch=t,[e,t]},useMemoCache:fc,useCacheRefresh:function(){return $t().memoizedState=hb.bind(null,ke)}},Tm={readContext:kt,use:Ui,useCallback:hm,useContext:kt,useEffect:om,useImperativeHandle:fm,useInsertionEffect:cm,useLayoutEffect:um,useMemo:mm,useReducer:zi,useRef:im,useState:function(){return zi(Pa)},useDebugValue:vc,useDeferredValue:function(e,t){var a=gt();return pm(a,Fe.memoizedState,e,t)},useTransition:function(){var e=zi(Pa)[0],t=gt().memoizedState;return[typeof e=="boolean"?e:ys(e),t]},useSyncExternalStore:$h,useId:xm,useHostTransitionStatus:bc,useFormState:nm,useActionState:nm,useOptimistic:function(e,t){var a=gt();return Wh(a,Fe,e,t)},useMemoCache:fc,useCacheRefresh:bm},pb={readContext:kt,use:Ui,useCallback:hm,useContext:kt,useEffect:om,useImperativeHandle:fm,useInsertionEffect:cm,useLayoutEffect:um,useMemo:mm,useReducer:mc,useRef:im,useState:function(){return mc(Pa)},useDebugValue:vc,useDeferredValue:function(e,t){var a=gt();return Fe===null?yc(a,e,t):pm(a,Fe.memoizedState,e,t)},useTransition:function(){var e=mc(Pa)[0],t=gt().memoizedState;return[typeof e=="boolean"?e:ys(e),t]},useSyncExternalStore:$h,useId:xm,useHostTransitionStatus:bc,useFormState:sm,useActionState:sm,useOptimistic:function(e,t){var a=gt();return Fe!==null?Wh(a,Fe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:fc,useCacheRefresh:bm},wr=null,ws=0;function Pi(e){var t=ws;return ws+=1,wr===null&&(wr=[]),Uh(wr,e,t)}function js(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Gi(e,t){throw t.$$typeof===x?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Em(e){var t=e._init;return t(e._payload)}function Cm(e){function t($,I){if(e){var V=$.deletions;V===null?($.deletions=[I],$.flags|=16):V.push(I)}}function a($,I){if(!e)return null;for(;I!==null;)t($,I),I=I.sibling;return null}function l($){for(var I=new Map;$!==null;)$.key!==null?I.set($.key,$):I.set($.index,$),$=$.sibling;return I}function u($,I){return $=za($,I),$.index=0,$.sibling=null,$}function f($,I,V){return $.index=V,e?(V=$.alternate,V!==null?(V=V.index,V<I?($.flags|=67108866,I):V):($.flags|=67108866,I)):($.flags|=1048576,I)}function y($){return e&&$.alternate===null&&($.flags|=67108866),$}function j($,I,V,ce){return I===null||I.tag!==6?(I=Po(V,$.mode,ce),I.return=$,I):(I=u(I,V),I.return=$,I)}function U($,I,V,ce){var xe=V.type;return xe===_?oe($,I,V.props.children,ce,V.key):I!==null&&(I.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===D&&Em(xe)===I.type)?(I=u(I,V.props),js(I,V),I.return=$,I):(I=Ti(V.type,V.key,V.props,null,$.mode,ce),js(I,V),I.return=$,I)}function W($,I,V,ce){return I===null||I.tag!==4||I.stateNode.containerInfo!==V.containerInfo||I.stateNode.implementation!==V.implementation?(I=Go(V,$.mode,ce),I.return=$,I):(I=u(I,V.children||[]),I.return=$,I)}function oe($,I,V,ce,xe){return I===null||I.tag!==7?(I=Rn(V,$.mode,ce,xe),I.return=$,I):(I=u(I,V),I.return=$,I)}function ue($,I,V){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Po(""+I,$.mode,V),I.return=$,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return V=Ti(I.type,I.key,I.props,null,$.mode,V),js(V,I),V.return=$,V;case A:return I=Go(I,$.mode,V),I.return=$,I;case D:var ce=I._init;return I=ce(I._payload),ue($,I,V)}if(he(I)||J(I))return I=Rn(I,$.mode,V,null),I.return=$,I;if(typeof I.then=="function")return ue($,Pi(I),V);if(I.$$typeof===O)return ue($,Oi($,I),V);Gi($,I)}return null}function K($,I,V,ce){var xe=I!==null?I.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return xe!==null?null:j($,I,""+V,ce);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return V.key===xe?U($,I,V,ce):null;case A:return V.key===xe?W($,I,V,ce):null;case D:return xe=V._init,V=xe(V._payload),K($,I,V,ce)}if(he(V)||J(V))return xe!==null?null:oe($,I,V,ce,null);if(typeof V.then=="function")return K($,I,Pi(V),ce);if(V.$$typeof===O)return K($,I,Oi($,V),ce);Gi($,V)}return null}function ee($,I,V,ce,xe){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return $=$.get(V)||null,j(I,$,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:return $=$.get(ce.key===null?V:ce.key)||null,U(I,$,ce,xe);case A:return $=$.get(ce.key===null?V:ce.key)||null,W(I,$,ce,xe);case D:var Me=ce._init;return ce=Me(ce._payload),ee($,I,V,ce,xe)}if(he(ce)||J(ce))return $=$.get(V)||null,oe(I,$,ce,xe,null);if(typeof ce.then=="function")return ee($,I,V,Pi(ce),xe);if(ce.$$typeof===O)return ee($,I,V,Oi(I,ce),xe);Gi(I,ce)}return null}function Ce($,I,V,ce){for(var xe=null,Me=null,be=I,Te=I=0,Et=null;be!==null&&Te<V.length;Te++){be.index>Te?(Et=be,be=null):Et=be.sibling;var qe=K($,be,V[Te],ce);if(qe===null){be===null&&(be=Et);break}e&&be&&qe.alternate===null&&t($,be),I=f(qe,I,Te),Me===null?xe=qe:Me.sibling=qe,Me=qe,be=Et}if(Te===V.length)return a($,be),Pe&&kn($,Te),xe;if(be===null){for(;Te<V.length;Te++)be=ue($,V[Te],ce),be!==null&&(I=f(be,I,Te),Me===null?xe=be:Me.sibling=be,Me=be);return Pe&&kn($,Te),xe}for(be=l(be);Te<V.length;Te++)Et=ee(be,$,Te,V[Te],ce),Et!==null&&(e&&Et.alternate!==null&&be.delete(Et.key===null?Te:Et.key),I=f(Et,I,Te),Me===null?xe=Et:Me.sibling=Et,Me=Et);return e&&be.forEach(function(Nn){return t($,Nn)}),Pe&&kn($,Te),xe}function Se($,I,V,ce){if(V==null)throw Error(o(151));for(var xe=null,Me=null,be=I,Te=I=0,Et=null,qe=V.next();be!==null&&!qe.done;Te++,qe=V.next()){be.index>Te?(Et=be,be=null):Et=be.sibling;var Nn=K($,be,qe.value,ce);if(Nn===null){be===null&&(be=Et);break}e&&be&&Nn.alternate===null&&t($,be),I=f(Nn,I,Te),Me===null?xe=Nn:Me.sibling=Nn,Me=Nn,be=Et}if(qe.done)return a($,be),Pe&&kn($,Te),xe;if(be===null){for(;!qe.done;Te++,qe=V.next())qe=ue($,qe.value,ce),qe!==null&&(I=f(qe,I,Te),Me===null?xe=qe:Me.sibling=qe,Me=qe);return Pe&&kn($,Te),xe}for(be=l(be);!qe.done;Te++,qe=V.next())qe=ee(be,$,Te,qe.value,ce),qe!==null&&(e&&qe.alternate!==null&&be.delete(qe.key===null?Te:qe.key),I=f(qe,I,Te),Me===null?xe=qe:Me.sibling=qe,Me=qe);return e&&be.forEach(function(g1){return t($,g1)}),Pe&&kn($,Te),xe}function We($,I,V,ce){if(typeof V=="object"&&V!==null&&V.type===_&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case w:e:{for(var xe=V.key;I!==null;){if(I.key===xe){if(xe=V.type,xe===_){if(I.tag===7){a($,I.sibling),ce=u(I,V.props.children),ce.return=$,$=ce;break e}}else if(I.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===D&&Em(xe)===I.type){a($,I.sibling),ce=u(I,V.props),js(ce,V),ce.return=$,$=ce;break e}a($,I);break}else t($,I);I=I.sibling}V.type===_?(ce=Rn(V.props.children,$.mode,ce,V.key),ce.return=$,$=ce):(ce=Ti(V.type,V.key,V.props,null,$.mode,ce),js(ce,V),ce.return=$,$=ce)}return y($);case A:e:{for(xe=V.key;I!==null;){if(I.key===xe)if(I.tag===4&&I.stateNode.containerInfo===V.containerInfo&&I.stateNode.implementation===V.implementation){a($,I.sibling),ce=u(I,V.children||[]),ce.return=$,$=ce;break e}else{a($,I);break}else t($,I);I=I.sibling}ce=Go(V,$.mode,ce),ce.return=$,$=ce}return y($);case D:return xe=V._init,V=xe(V._payload),We($,I,V,ce)}if(he(V))return Ce($,I,V,ce);if(J(V)){if(xe=J(V),typeof xe!="function")throw Error(o(150));return V=xe.call(V),Se($,I,V,ce)}if(typeof V.then=="function")return We($,I,Pi(V),ce);if(V.$$typeof===O)return We($,I,Oi($,V),ce);Gi($,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,I!==null&&I.tag===6?(a($,I.sibling),ce=u(I,V),ce.return=$,$=ce):(a($,I),ce=Po(V,$.mode,ce),ce.return=$,$=ce),y($)):a($,I)}return function($,I,V,ce){try{ws=0;var xe=We($,I,V,ce);return wr=null,xe}catch(be){if(be===fs||be===Ri)throw be;var Me=Kt(29,be,null,$.mode);return Me.lanes=ce,Me.return=$,Me}finally{}}}var jr=Cm(!0),_m=Cm(!1),fa=k(null),Oa=null;function on(e){var t=e.alternate;le(wt,wt.current&1),le(fa,e),Oa===null&&(t===null||vr.current!==null||t.memoizedState!==null)&&(Oa=e)}function Om(e){if(e.tag===22){if(le(wt,wt.current),le(fa,e),Oa===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Oa=e)}}else cn()}function cn(){le(wt,wt.current),le(fa,fa.current)}function Ga(e){H(fa),Oa===e&&(Oa=null),H(wt)}var wt=k(0);function $i(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||du(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function jc(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:v({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Nc={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=na(),u=rn(l);u.payload=t,a!=null&&(u.callback=a),t=sn(e,u,l),t!==null&&(ra(t,e,l),ms(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=na(),u=rn(l);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=sn(e,u,l),t!==null&&(ra(t,e,l),ms(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=na(),l=rn(a);l.tag=2,t!=null&&(l.callback=t),t=sn(e,l,a),t!==null&&(ra(t,e,a),ms(t,e,a))}};function Am(e,t,a,l,u,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,y):t.prototype&&t.prototype.isPureReactComponent?!rs(a,l)||!rs(u,f):!0}function Rm(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Nc.enqueueReplaceState(t,t.state,null)}function Hn(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=v({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}var Xi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Dm(e){Xi(e)}function km(e){console.error(e)}function Mm(e){Xi(e)}function Vi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Lm(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Sc(e,t,a){return a=rn(a),a.tag=3,a.payload={element:null},a.callback=function(){Vi(e,t)},a}function Um(e){return e=rn(e),e.tag=3,e}function zm(e,t,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;e.payload=function(){return u(f)},e.callback=function(){Lm(t,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Lm(t,a,l),typeof u!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})})}function gb(e,t,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&cs(t,a,u,!0),a=fa.current,a!==null){switch(a.tag){case 13:return Oa===null?Fc():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===Ko?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Wc(e,l,u)),!1;case 22:return a.flags|=65536,l===Ko?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Wc(e,l,u)),!1}throw Error(o(435,a.tag))}return Wc(e,l,u),Fc(),!1}if(Pe)return t=fa.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Vo&&(e=Error(o(422),{cause:l}),os(oa(e,a)))):(l!==Vo&&(t=Error(o(423),{cause:l}),os(oa(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=oa(l,a),u=Sc(e.stateNode,l,u),ac(e,u),ct!==4&&(ct=2)),!1;var f=Error(o(520),{cause:l});if(f=oa(f,a),Os===null?Os=[f]:Os.push(f),ct!==4&&(ct=2),t===null)return!0;l=oa(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=Sc(a.stateNode,l,e),ac(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(pn===null||!pn.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Um(u),zm(u,e,a,l),ac(a,u),!1}a=a.return}while(a!==null);return!1}var Im=Error(o(461)),St=!1;function Ct(e,t,a,l){t.child=e===null?_m(t,null,a,l):jr(t,e.child,a,l)}function Bm(e,t,a,l,u){a=a.render;var f=t.ref;if("ref"in l){var y={};for(var j in l)j!=="ref"&&(y[j]=l[j])}else y=l;return zn(t),l=lc(e,t,a,y,f,u),j=oc(),e!==null&&!St?(cc(e,t,u),$a(e,t,u)):(Pe&&j&&$o(t),t.flags|=1,Ct(e,t,l,u),t.child)}function Hm(e,t,a,l,u){if(e===null){var f=a.type;return typeof f=="function"&&!qo(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,qm(e,t,f,l,u)):(e=Ti(a.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Dc(e,u)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:rs,a(y,l)&&e.ref===t.ref)return $a(e,t,u)}return t.flags|=1,e=za(f,l),e.ref=t.ref,e.return=t,t.child=e}function qm(e,t,a,l,u){if(e!==null){var f=e.memoizedProps;if(rs(f,l)&&e.ref===t.ref)if(St=!1,t.pendingProps=l=f,Dc(e,u))(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,$a(e,t,u)}return Tc(e,t,a,l,u)}function Pm(e,t,a){var l=t.pendingProps,u=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,e!==null){for(u=t.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;t.childLanes=f&~l}else t.childLanes=0,t.child=null;return Gm(e,t,l,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ai(t,f!==null?f.cachePool:null),f!==null?qh(t,f):rc(),Om(t);else return t.lanes=t.childLanes=536870912,Gm(e,t,f!==null?f.baseLanes|a:a,a)}else f!==null?(Ai(t,f.cachePool),qh(t,f),cn(),t.memoizedState=null):(e!==null&&Ai(t,null),rc(),cn());return Ct(e,t,u,a),t.child}function Gm(e,t,a,l){var u=Zo();return u=u===null?null:{parent:bt._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Ai(t,null),rc(),Om(t),e!==null&&cs(e,t,l,!0),null}function Yi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Tc(e,t,a,l,u){return zn(t),a=lc(e,t,a,l,void 0,u),l=oc(),e!==null&&!St?(cc(e,t,u),$a(e,t,u)):(Pe&&l&&$o(t),t.flags|=1,Ct(e,t,a,u),t.child)}function $m(e,t,a,l,u,f){return zn(t),t.updateQueue=null,a=Gh(t,l,a,u),Ph(e),l=oc(),e!==null&&!St?(cc(e,t,f),$a(e,t,f)):(Pe&&l&&$o(t),t.flags|=1,Ct(e,t,a,f),t.child)}function Xm(e,t,a,l,u){if(zn(t),t.stateNode===null){var f=fr,y=a.contextType;typeof y=="object"&&y!==null&&(f=kt(y)),f=new a(l,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=l,f.state=t.memoizedState,f.refs={},ec(t),y=a.contextType,f.context=typeof y=="object"&&y!==null?kt(y):fr,f.state=t.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(jc(t,a,y,l),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Nc.enqueueReplaceState(f,f.state,null),gs(t,l,f,u),ps(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){f=t.stateNode;var j=t.memoizedProps,U=Hn(a,j);f.props=U;var W=f.context,oe=a.contextType;y=fr,typeof oe=="object"&&oe!==null&&(y=kt(oe));var ue=a.getDerivedStateFromProps;oe=typeof ue=="function"||typeof f.getSnapshotBeforeUpdate=="function",j=t.pendingProps!==j,oe||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(j||W!==y)&&Rm(t,f,l,y),nn=!1;var K=t.memoizedState;f.state=K,gs(t,l,f,u),ps(),W=t.memoizedState,j||K!==W||nn?(typeof ue=="function"&&(jc(t,a,ue,l),W=t.memoizedState),(U=nn||Am(t,a,U,l,K,W,y))?(oe||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=W),f.props=l,f.state=W,f.context=y,l=U):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{f=t.stateNode,tc(e,t),y=t.memoizedProps,oe=Hn(a,y),f.props=oe,ue=t.pendingProps,K=f.context,W=a.contextType,U=fr,typeof W=="object"&&W!==null&&(U=kt(W)),j=a.getDerivedStateFromProps,(W=typeof j=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==ue||K!==U)&&Rm(t,f,l,U),nn=!1,K=t.memoizedState,f.state=K,gs(t,l,f,u),ps();var ee=t.memoizedState;y!==ue||K!==ee||nn||e!==null&&e.dependencies!==null&&_i(e.dependencies)?(typeof j=="function"&&(jc(t,a,j,l),ee=t.memoizedState),(oe=nn||Am(t,a,oe,l,K,ee,U)||e!==null&&e.dependencies!==null&&_i(e.dependencies))?(W||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,ee,U),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,ee,U)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ee),f.props=l,f.state=ee,f.context=U,l=oe):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),l=!1)}return f=l,Yi(e,t),l=(t.flags&128)!==0,f||l?(f=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&l?(t.child=jr(t,e.child,null,u),t.child=jr(t,null,a,u)):Ct(e,t,a,u),t.memoizedState=f.state,e=t.child):e=$a(e,t,u),e}function Vm(e,t,a,l){return ls(),t.flags|=256,Ct(e,t,a,l),t.child}var Ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cc(e){return{baseLanes:e,cachePool:kh()}}function _c(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ha),e}function Ym(e,t,a){var l=t.pendingProps,u=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(wt.current&2)!==0),y&&(u=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Pe){if(u?on(t):cn(),Pe){var j=ot,U;if(U=j){e:{for(U=j,j=_a;U.nodeType!==8;){if(!j){j=null;break e}if(U=Na(U.nextSibling),U===null){j=null;break e}}j=U}j!==null?(t.memoizedState={dehydrated:j,treeContext:Dn!==null?{id:Ia,overflow:Ba}:null,retryLane:536870912,hydrationErrors:null},U=Kt(18,null,null,0),U.stateNode=j,U.return=t,t.child=U,zt=t,ot=null,U=!0):U=!1}U||Ln(t)}if(j=t.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return du(j)?t.lanes=32:t.lanes=536870912,null;Ga(t)}return j=l.children,l=l.fallback,u?(cn(),u=t.mode,j=Fi({mode:"hidden",children:j},u),l=Rn(l,u,a,null),j.return=t,l.return=t,j.sibling=l,t.child=j,u=t.child,u.memoizedState=Cc(a),u.childLanes=_c(e,y,a),t.memoizedState=Ec,l):(on(t),Oc(t,j))}if(U=e.memoizedState,U!==null&&(j=U.dehydrated,j!==null)){if(f)t.flags&256?(on(t),t.flags&=-257,t=Ac(e,t,a)):t.memoizedState!==null?(cn(),t.child=e.child,t.flags|=128,t=null):(cn(),u=l.fallback,j=t.mode,l=Fi({mode:"visible",children:l.children},j),u=Rn(u,j,a,null),u.flags|=2,l.return=t,u.return=t,l.sibling=u,t.child=l,jr(t,e.child,null,a),l=t.child,l.memoizedState=Cc(a),l.childLanes=_c(e,y,a),t.memoizedState=Ec,t=u);else if(on(t),du(j)){if(y=j.nextSibling&&j.nextSibling.dataset,y)var W=y.dgst;y=W,l=Error(o(419)),l.stack="",l.digest=y,os({value:l,source:null,stack:null}),t=Ac(e,t,a)}else if(St||cs(e,t,a,!1),y=(a&e.childLanes)!==0,St||y){if(y=tt,y!==null&&(l=a&-a,l=(l&42)!==0?1:fo(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==U.retryLane))throw U.retryLane=l,dr(e,l),ra(y,e,l),Im;j.data==="$?"||Fc(),t=Ac(e,t,a)}else j.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=U.treeContext,ot=Na(j.nextSibling),zt=t,Pe=!0,Mn=null,_a=!1,e!==null&&(ua[da++]=Ia,ua[da++]=Ba,ua[da++]=Dn,Ia=e.id,Ba=e.overflow,Dn=t),t=Oc(t,l.children),t.flags|=4096);return t}return u?(cn(),u=l.fallback,j=t.mode,U=e.child,W=U.sibling,l=za(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,W!==null?u=za(W,u):(u=Rn(u,j,a,null),u.flags|=2),u.return=t,l.return=t,l.sibling=u,t.child=l,l=u,u=t.child,j=e.child.memoizedState,j===null?j=Cc(a):(U=j.cachePool,U!==null?(W=bt._currentValue,U=U.parent!==W?{parent:W,pool:W}:U):U=kh(),j={baseLanes:j.baseLanes|a,cachePool:U}),u.memoizedState=j,u.childLanes=_c(e,y,a),t.memoizedState=Ec,l):(on(t),a=e.child,e=a.sibling,a=za(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=a,t.memoizedState=null,a)}function Oc(e,t){return t=Fi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fi(e,t){return e=Kt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ac(e,t,a){return jr(t,e.child,null,a),e=Oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fm(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Fo(e.return,t,a)}function Rc(e,t,a,l,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=u)}function Qm(e,t,a){var l=t.pendingProps,u=l.revealOrder,f=l.tail;if(Ct(e,t,l.children,a),l=wt.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fm(e,a,t);else if(e.tag===19)Fm(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(le(wt,l),u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&$i(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),Rc(t,!1,u,a,f);break;case"backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&$i(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Rc(t,!0,a,null,f);break;case"together":Rc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),mn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(cs(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=za(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=za(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Dc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&_i(e)))}function vb(e,t,a){switch(t.tag){case 3:we(t,t.stateNode.containerInfo),an(t,bt,e.memoizedState.cache),ls();break;case 27:case 5:ze(t);break;case 4:we(t,t.stateNode.containerInfo);break;case 10:an(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(on(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ym(e,t,a):(on(t),e=$a(e,t,a),e!==null?e.sibling:null);on(t);break;case 19:var u=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(cs(e,t,a,!1),l=(a&t.childLanes)!==0),u){if(l)return Qm(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),le(wt,wt.current),l)break;return null;case 22:case 23:return t.lanes=0,Pm(e,t,a);case 24:an(t,bt,e.memoizedState.cache)}return $a(e,t,a)}function Wm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)St=!0;else{if(!Dc(e,a)&&(t.flags&128)===0)return St=!1,vb(e,t,a);St=(e.flags&131072)!==0}else St=!1,Pe&&(t.flags&1048576)!==0&&Eh(t,Ci,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,u=l._init;if(l=u(l._payload),t.type=l,typeof l=="function")qo(l)?(e=Hn(l,e),t.tag=1,t=Xm(null,t,l,e,a)):(t.tag=0,t=Tc(null,t,l,e,a));else{if(l!=null){if(u=l.$$typeof,u===M){t.tag=11,t=Bm(null,t,l,e,a);break e}else if(u===B){t.tag=14,t=Hm(null,t,l,e,a);break e}}throw t=pe(l)||l,Error(o(306,t,""))}}return t;case 0:return Tc(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,u=Hn(l,t.pendingProps),Xm(e,t,l,u,a);case 3:e:{if(we(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var f=t.memoizedState;u=f.element,tc(e,t),gs(t,l,null,a);var y=t.memoizedState;if(l=y.cache,an(t,bt,l),l!==f.cache&&Qo(t,[bt],a,!0),ps(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Vm(e,t,l,a);break e}else if(l!==u){u=oa(Error(o(424)),t),os(u),t=Vm(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ot=Na(e.firstChild),zt=t,Pe=!0,Mn=null,_a=!0,a=_m(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ls(),l===u){t=$a(e,t,a);break e}Ct(e,t,l,a)}t=t.child}return t;case 26:return Yi(e,t),e===null?(a=eg(t.type,null,t.pendingProps,null))?t.memoizedState=a:Pe||(a=t.type,e=t.pendingProps,l=ol(re.current).createElement(a),l[Dt]=t,l[Pt]=e,Ot(l,a,e),Nt(l),t.stateNode=l):t.memoizedState=eg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ze(t),e===null&&Pe&&(l=t.stateNode=Jp(t.type,t.pendingProps,re.current),zt=t,_a=!0,u=ot,yn(t.type)?(fu=u,ot=Na(l.firstChild)):ot=u),Ct(e,t,t.pendingProps.children,a),Yi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Pe&&((u=l=ot)&&(l=Xb(l,t.type,t.pendingProps,_a),l!==null?(t.stateNode=l,zt=t,ot=Na(l.firstChild),_a=!1,u=!0):u=!1),u||Ln(t)),ze(t),u=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,l=f.children,ou(u,f)?l=null:y!==null&&ou(u,y)&&(t.flags|=32),t.memoizedState!==null&&(u=lc(e,t,cb,null,null,a),Is._currentValue=u),Yi(e,t),Ct(e,t,l,a),t.child;case 6:return e===null&&Pe&&((e=a=ot)&&(a=Vb(a,t.pendingProps,_a),a!==null?(t.stateNode=a,zt=t,ot=null,e=!0):e=!1),e||Ln(t)),null;case 13:return Ym(e,t,a);case 4:return we(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=jr(t,null,l,a):Ct(e,t,l,a),t.child;case 11:return Bm(e,t,t.type,t.pendingProps,a);case 7:return Ct(e,t,t.pendingProps,a),t.child;case 8:return Ct(e,t,t.pendingProps.children,a),t.child;case 12:return Ct(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,an(t,t.type,l.value),Ct(e,t,l.children,a),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,zn(t),u=kt(u),l=l(u),t.flags|=1,Ct(e,t,l,a),t.child;case 14:return Hm(e,t,t.type,t.pendingProps,a);case 15:return qm(e,t,t.type,t.pendingProps,a);case 19:return Qm(e,t,a);case 31:return l=t.pendingProps,a=t.mode,l={mode:l.mode,children:l.children},e===null?(a=Fi(l,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=za(e.child,l),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Pm(e,t,a);case 24:return zn(t),l=kt(bt),e===null?(u=Zo(),u===null&&(u=tt,f=Wo(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),t.memoizedState={parent:l,cache:u},ec(t),an(t,bt,u)):((e.lanes&a)!==0&&(tc(e,t),gs(t,null,null,a),ps()),u=e.memoizedState,f=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),an(t,bt,l)):(l=f.cache,an(t,bt,l),l!==u.cache&&Qo(t,[bt],a,!0))),Ct(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Xa(e){e.flags|=4}function Jm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sg(t)){if(t=fa.current,t!==null&&((Ie&4194048)===Ie?Oa!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||t!==Oa))throw hs=Ko,Mh;e.flags|=8192}}function Qi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Of():536870912,e.lanes|=t,Er|=t)}function Ns(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function yb(e,t,a){var l=t.pendingProps;switch(Xo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return lt(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),qa(bt),Ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(is(t)?Xa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Oh())),lt(t),null;case 26:return a=t.memoizedState,e===null?(Xa(t),a!==null?(lt(t),Jm(t,a)):(lt(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Xa(t),lt(t),Jm(t,a)):(lt(t),t.flags&=-16777217):(e.memoizedProps!==l&&Xa(t),lt(t),t.flags&=-16777217),null;case 27:vt(t),a=re.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Xa(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return lt(t),null}e=P.current,is(t)?Ch(t):(e=Jp(u,l,a),t.stateNode=e,Xa(t))}return lt(t),null;case 5:if(vt(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Xa(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return lt(t),null}if(e=P.current,is(t))Ch(t);else{switch(u=ol(re.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?u.createElement(a,{is:l.is}):u.createElement(a)}}e[Dt]=t,e[Pt]=l;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(Ot(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xa(t)}}return lt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Xa(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=re.current,is(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,u=zt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[Dt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||$p(e.nodeValue,a)),e||Ln(t)}else e=ol(e).createTextNode(l),e[Dt]=t,t.stateNode=e}return lt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=is(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[Dt]=t}else ls(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),u=!1}else u=Oh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Ga(t),t):(Ga(t),null)}if(Ga(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Qi(t,t.updateQueue),lt(t),null;case 4:return Ne(),e===null&&nu(t.stateNode.containerInfo),lt(t),null;case 10:return qa(t.type),lt(t),null;case 19:if(H(wt),u=t.memoizedState,u===null)return lt(t),null;if(l=(t.flags&128)!==0,f=u.rendering,f===null)if(l)Ns(u,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=$i(e),f!==null){for(t.flags|=128,Ns(u,!1),e=f.updateQueue,t.updateQueue=e,Qi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Th(a,e),a=a.sibling;return le(wt,wt.current&1|2),t.child}e=e.sibling}u.tail!==null&&X()>Zi&&(t.flags|=128,l=!0,Ns(u,!1),t.lanes=4194304)}else{if(!l)if(e=$i(f),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Qi(t,e),Ns(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Pe)return lt(t),null}else 2*X()-u.renderingStartTime>Zi&&a!==536870912&&(t.flags|=128,l=!0,Ns(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(e=u.last,e!==null?e.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=X(),t.sibling=null,e=wt.current,le(wt,l?e&1|2:e&1),t):(lt(t),null);case 22:case 23:return Ga(t),sc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),a=t.updateQueue,a!==null&&Qi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&H(In),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),qa(bt),lt(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function xb(e,t){switch(Xo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qa(bt),Ne(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return vt(t),null;case 13:if(Ga(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(wt),null;case 4:return Ne(),null;case 10:return qa(t.type),null;case 22:case 23:return Ga(t),sc(),e!==null&&H(In),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return qa(bt),null;case 25:return null;default:return null}}function Zm(e,t){switch(Xo(t),t.tag){case 3:qa(bt),Ne();break;case 26:case 27:case 5:vt(t);break;case 4:Ne();break;case 13:Ga(t);break;case 19:H(wt);break;case 10:qa(t.type);break;case 22:case 23:Ga(t),sc(),e!==null&&H(In);break;case 24:qa(bt)}}function Ss(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&e)===e){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==u)}}catch(j){Ke(t,t.return,j)}}function un(e,t,a){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){var y=l.inst,j=y.destroy;if(j!==void 0){y.destroy=void 0,u=t;var U=a,W=j;try{W()}catch(oe){Ke(u,U,oe)}}}l=l.next}while(l!==f)}}catch(oe){Ke(t,t.return,oe)}}function Km(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Hh(t,a)}catch(l){Ke(e,e.return,l)}}}function ep(e,t,a){a.props=Hn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ke(e,t,l)}}function Ts(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(u){Ke(e,t,u)}}function Aa(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){Ke(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ke(e,t,u)}else a.current=null}function tp(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){Ke(e,e.return,u)}}function kc(e,t,a){try{var l=e.stateNode;Hb(l,e.type,a,t),l[Pt]=t}catch(u){Ke(e,e.return,u)}}function ap(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yn(e.type)||e.tag===4}function Mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lc(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ll));else if(l!==4&&(l===27&&yn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Lc(e,t,a),e=e.sibling;e!==null;)Lc(e,t,a),e=e.sibling}function Wi(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&yn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Wi(e,t,a),e=e.sibling;e!==null;)Wi(e,t,a),e=e.sibling}function np(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Ot(t,l,a),t[Dt]=e,t[Pt]=a}catch(f){Ke(e,e.return,f)}}var Va=!1,ft=!1,Uc=!1,rp=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function bb(e,t){if(e=e.containerInfo,iu=ml,e=ph(e),Mo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,j=-1,U=-1,W=0,oe=0,ue=e,K=null;t:for(;;){for(var ee;ue!==a||u!==0&&ue.nodeType!==3||(j=y+u),ue!==f||l!==0&&ue.nodeType!==3||(U=y+l),ue.nodeType===3&&(y+=ue.nodeValue.length),(ee=ue.firstChild)!==null;)K=ue,ue=ee;for(;;){if(ue===e)break t;if(K===a&&++W===u&&(j=y),K===f&&++oe===l&&(U=y),(ee=ue.nextSibling)!==null)break;ue=K,K=ue.parentNode}ue=ee}a=j===-1||U===-1?null:{start:j,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(lu={focusedElem:e,selectionRange:a},ml=!1,Tt=t;Tt!==null;)if(t=Tt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Tt=e;else for(;Tt!==null;){switch(t=Tt,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,u=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Ce=Hn(a.type,u,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Ce,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(Se){Ke(a,a.return,Se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)uu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":uu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Tt=e;break}Tt=t.return}}function sp(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:dn(e,a),l&4&&Ss(5,a);break;case 1:if(dn(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(y){Ke(a,a.return,y)}else{var u=Hn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ke(a,a.return,y)}}l&64&&Km(a),l&512&&Ts(a,a.return);break;case 3:if(dn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Hh(e,t)}catch(y){Ke(a,a.return,y)}}break;case 27:t===null&&l&4&&np(a);case 26:case 5:dn(e,a),t===null&&l&4&&tp(a),l&512&&Ts(a,a.return);break;case 12:dn(e,a);break;case 13:dn(e,a),l&4&&op(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ob.bind(null,a),Yb(e,a))));break;case 22:if(l=a.memoizedState!==null||Va,!l){t=t!==null&&t.memoizedState!==null||ft,u=Va;var f=ft;Va=l,(ft=t)&&!f?fn(e,a,(a.subtreeFlags&8772)!==0):dn(e,a),Va=u,ft=f}break;case 30:break;default:dn(e,a)}}function ip(e){var t=e.alternate;t!==null&&(e.alternate=null,ip(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&po(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,Xt=!1;function Ya(e,t,a){for(a=a.child;a!==null;)lp(e,t,a),a=a.sibling}function lp(e,t,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(ba,a)}catch{}switch(a.tag){case 26:ft||Aa(a,t),Ya(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||Aa(a,t);var l=rt,u=Xt;yn(a.type)&&(rt=a.stateNode,Xt=!1),Ya(e,t,a),Ms(a.stateNode),rt=l,Xt=u;break;case 5:ft||Aa(a,t);case 6:if(l=rt,u=Xt,rt=null,Ya(e,t,a),rt=l,Xt=u,rt!==null)if(Xt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(f){Ke(a,t,f)}else try{rt.removeChild(a.stateNode)}catch(f){Ke(a,t,f)}break;case 18:rt!==null&&(Xt?(e=rt,Qp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ps(e)):Qp(rt,a.stateNode));break;case 4:l=rt,u=Xt,rt=a.stateNode.containerInfo,Xt=!0,Ya(e,t,a),rt=l,Xt=u;break;case 0:case 11:case 14:case 15:ft||un(2,a,t),ft||un(4,a,t),Ya(e,t,a);break;case 1:ft||(Aa(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ep(a,t,l)),Ya(e,t,a);break;case 21:Ya(e,t,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,Ya(e,t,a),ft=l;break;default:Ya(e,t,a)}}function op(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ps(e)}catch(a){Ke(t,t.return,a)}}function wb(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rp),t;default:throw Error(o(435,e.tag))}}function zc(e,t){var a=wb(e);t.forEach(function(l){var u=Ab.bind(null,e,l);a.has(l)||(a.add(l),l.then(u,u))})}function ea(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],f=e,y=t,j=y;e:for(;j!==null;){switch(j.tag){case 27:if(yn(j.type)){rt=j.stateNode,Xt=!1;break e}break;case 5:rt=j.stateNode,Xt=!1;break e;case 3:case 4:rt=j.stateNode.containerInfo,Xt=!0;break e}j=j.return}if(rt===null)throw Error(o(160));lp(f,y,u),rt=null,Xt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)cp(t,e),t=t.sibling}var ja=null;function cp(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ea(t,e),ta(e),l&4&&(un(3,e,e.return),Ss(3,e),un(5,e,e.return));break;case 1:ea(t,e),ta(e),l&512&&(ft||a===null||Aa(a,a.return)),l&64&&Va&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=ja;if(ea(t,e),ta(e),l&512&&(ft||a===null||Aa(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Qr]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),Ot(f,l,a),f[Dt]=e,Nt(f),l=f;break e;case"link":var y=ng("link","href",u).get(l+(a.href||""));if(y){for(var j=0;j<y.length;j++)if(f=y[j],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(j,1);break t}}f=u.createElement(l),Ot(f,l,a),u.head.appendChild(f);break;case"meta":if(y=ng("meta","content",u).get(l+(a.content||""))){for(j=0;j<y.length;j++)if(f=y[j],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(j,1);break t}}f=u.createElement(l),Ot(f,l,a),u.head.appendChild(f);break;default:throw Error(o(468,l))}f[Dt]=e,Nt(f),l=f}e.stateNode=l}else rg(u,e.type,e.stateNode);else e.stateNode=ag(u,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?rg(u,e.type,e.stateNode):ag(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&kc(e,e.memoizedProps,a.memoizedProps)}break;case 27:ea(t,e),ta(e),l&512&&(ft||a===null||Aa(a,a.return)),a!==null&&l&4&&kc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ea(t,e),ta(e),l&512&&(ft||a===null||Aa(a,a.return)),e.flags&32){u=e.stateNode;try{rr(u,"")}catch(ee){Ke(e,e.return,ee)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,kc(e,u,a!==null?a.memoizedProps:u)),l&1024&&(Uc=!0);break;case 6:if(ea(t,e),ta(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ee){Ke(e,e.return,ee)}}break;case 3:if(dl=null,u=ja,ja=cl(t.containerInfo),ea(t,e),ja=u,ta(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ps(t.containerInfo)}catch(ee){Ke(e,e.return,ee)}Uc&&(Uc=!1,up(e));break;case 4:l=ja,ja=cl(e.stateNode.containerInfo),ea(t,e),ta(e),ja=l;break;case 12:ea(t,e),ta(e);break;case 13:ea(t,e),ta(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gc=X()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zc(e,l)));break;case 22:u=e.memoizedState!==null;var U=a!==null&&a.memoizedState!==null,W=Va,oe=ft;if(Va=W||u,ft=oe||U,ea(t,e),ft=oe,Va=W,ta(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||U||Va||ft||qn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){U=a=t;try{if(f=U.stateNode,u)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{j=U.stateNode;var ue=U.memoizedProps.style,K=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;j.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ee){Ke(U,U.return,ee)}}}else if(t.tag===6){if(a===null){U=t;try{U.stateNode.nodeValue=u?"":U.memoizedProps}catch(ee){Ke(U,U.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zc(e,a))));break;case 19:ea(t,e),ta(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zc(e,l)));break;case 30:break;case 21:break;default:ea(t,e),ta(e)}}function ta(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(ap(l)){a=l;break}l=l.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var u=a.stateNode,f=Mc(e);Wi(e,f,u);break;case 5:var y=a.stateNode;a.flags&32&&(rr(y,""),a.flags&=-33);var j=Mc(e);Wi(e,j,y);break;case 3:case 4:var U=a.stateNode.containerInfo,W=Mc(e);Lc(e,W,U);break;default:throw Error(o(161))}}catch(oe){Ke(e,e.return,oe)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function up(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;up(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function dn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sp(e,t.alternate,t),t=t.sibling}function qn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:un(4,t,t.return),qn(t);break;case 1:Aa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&ep(t,t.return,a),qn(t);break;case 27:Ms(t.stateNode);case 26:case 5:Aa(t,t.return),qn(t);break;case 22:t.memoizedState===null&&qn(t);break;case 30:qn(t);break;default:qn(t)}e=e.sibling}}function fn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,f=t,y=f.flags;switch(f.tag){case 0:case 11:case 15:fn(u,f,a),Ss(4,f);break;case 1:if(fn(u,f,a),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(W){Ke(l,l.return,W)}if(l=f,u=l.updateQueue,u!==null){var j=l.stateNode;try{var U=u.shared.hiddenCallbacks;if(U!==null)for(u.shared.hiddenCallbacks=null,u=0;u<U.length;u++)Bh(U[u],j)}catch(W){Ke(l,l.return,W)}}a&&y&64&&Km(f),Ts(f,f.return);break;case 27:np(f);case 26:case 5:fn(u,f,a),a&&l===null&&y&4&&tp(f),Ts(f,f.return);break;case 12:fn(u,f,a);break;case 13:fn(u,f,a),a&&y&4&&op(u,f);break;case 22:f.memoizedState===null&&fn(u,f,a),Ts(f,f.return);break;case 30:break;default:fn(u,f,a)}t=t.sibling}}function Ic(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&us(a))}function Bc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&us(e))}function Ra(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dp(e,t,a,l),t=t.sibling}function dp(e,t,a,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Ra(e,t,a,l),u&2048&&Ss(9,t);break;case 1:Ra(e,t,a,l);break;case 3:Ra(e,t,a,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&us(e)));break;case 12:if(u&2048){Ra(e,t,a,l),e=t.stateNode;try{var f=t.memoizedProps,y=f.id,j=f.onPostCommit;typeof j=="function"&&j(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Ke(t,t.return,U)}}else Ra(e,t,a,l);break;case 13:Ra(e,t,a,l);break;case 23:break;case 22:f=t.stateNode,y=t.alternate,t.memoizedState!==null?f._visibility&2?Ra(e,t,a,l):Es(e,t):f._visibility&2?Ra(e,t,a,l):(f._visibility|=2,Nr(e,t,a,l,(t.subtreeFlags&10256)!==0)),u&2048&&Ic(y,t);break;case 24:Ra(e,t,a,l),u&2048&&Bc(t.alternate,t);break;default:Ra(e,t,a,l)}}function Nr(e,t,a,l,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,y=t,j=a,U=l,W=y.flags;switch(y.tag){case 0:case 11:case 15:Nr(f,y,j,U,u),Ss(8,y);break;case 23:break;case 22:var oe=y.stateNode;y.memoizedState!==null?oe._visibility&2?Nr(f,y,j,U,u):Es(f,y):(oe._visibility|=2,Nr(f,y,j,U,u)),u&&W&2048&&Ic(y.alternate,y);break;case 24:Nr(f,y,j,U,u),u&&W&2048&&Bc(y.alternate,y);break;default:Nr(f,y,j,U,u)}t=t.sibling}}function Es(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,u=l.flags;switch(l.tag){case 22:Es(a,l),u&2048&&Ic(l.alternate,l);break;case 24:Es(a,l),u&2048&&Bc(l.alternate,l);break;default:Es(a,l)}t=t.sibling}}var Cs=8192;function Sr(e){if(e.subtreeFlags&Cs)for(e=e.child;e!==null;)fp(e),e=e.sibling}function fp(e){switch(e.tag){case 26:Sr(e),e.flags&Cs&&e.memoizedState!==null&&i1(ja,e.memoizedState,e.memoizedProps);break;case 5:Sr(e);break;case 3:case 4:var t=ja;ja=cl(e.stateNode.containerInfo),Sr(e),ja=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Cs,Cs=16777216,Sr(e),Cs=t):Sr(e));break;default:Sr(e)}}function hp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _s(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Tt=l,pp(l,e)}hp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mp(e),e=e.sibling}function mp(e){switch(e.tag){case 0:case 11:case 15:_s(e),e.flags&2048&&un(9,e,e.return);break;case 3:_s(e);break;case 12:_s(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ji(e)):_s(e);break;default:_s(e)}}function Ji(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Tt=l,pp(l,e)}hp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:un(8,t,t.return),Ji(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ji(t));break;default:Ji(t)}e=e.sibling}}function pp(e,t){for(;Tt!==null;){var a=Tt;switch(a.tag){case 0:case 11:case 15:un(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:us(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Tt=l;else e:for(a=e;Tt!==null;){l=Tt;var u=l.sibling,f=l.return;if(ip(l),l===a){Tt=null;break e}if(u!==null){u.return=f,Tt=u;break e}Tt=f}}}var jb={getCacheForType:function(e){var t=kt(bt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Nb=typeof WeakMap=="function"?WeakMap:Map,Ve=0,tt=null,Le=null,Ie=0,Ye=0,aa=null,hn=!1,Tr=!1,Hc=!1,Fa=0,ct=0,mn=0,Pn=0,qc=0,ha=0,Er=0,Os=null,Vt=null,Pc=!1,Gc=0,Zi=1/0,Ki=null,pn=null,_t=0,gn=null,Cr=null,_r=0,$c=0,Xc=null,gp=null,As=0,Vc=null;function na(){if((Ve&2)!==0&&Ie!==0)return Ie&-Ie;if(q.T!==null){var e=pr;return e!==0?e:Kc()}return Df()}function vp(){ha===0&&(ha=(Ie&536870912)===0||Pe?Yr():536870912);var e=fa.current;return e!==null&&(e.flags|=32),ha}function ra(e,t,a){(e===tt&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)&&(Or(e,0),vn(e,Ie,ha,!1)),Fr(e,a),((Ve&2)===0||e!==tt)&&(e===tt&&((Ve&2)===0&&(Pn|=a),ct===4&&vn(e,Ie,ha,!1)),Da(e))}function yp(e,t,a){if((Ve&6)!==0)throw Error(o(327));var l=!a&&(t&124)===0&&(t&e.expiredLanes)===0||xt(e,t),u=l?Eb(e,t):Qc(e,t,!0),f=l;do{if(u===0){Tr&&!l&&vn(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!Sb(a)){u=Qc(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var j=e;u=Os;var U=j.current.memoizedState.isDehydrated;if(U&&(Or(j,y).flags|=256),y=Qc(j,y,!1),y!==2){if(Hc&&!U){j.errorRecoveryDisabledLanes|=f,Pn|=f,u=4;break e}f=Vt,Vt=u,f!==null&&(Vt===null?Vt=f:Vt.push.apply(Vt,f))}u=y}if(f=!1,u!==2)continue}}if(u===1){Or(e,0),vn(e,t,0,!0);break}e:{switch(l=e,f=u,f){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:vn(l,t,ha,!hn);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(u=Gc+300-X(),10<u)){if(vn(l,t,ha,!hn),qt(l,0,!0)!==0)break e;l.timeoutHandle=Yp(xp.bind(null,l,a,Vt,Ki,Pc,t,ha,Pn,Er,hn,f,2,-0,0),u);break e}xp(l,a,Vt,Ki,Pc,t,ha,Pn,Er,hn,f,0,-0,0)}}break}while(!0);Da(e)}function xp(e,t,a,l,u,f,y,j,U,W,oe,ue,K,ee){if(e.timeoutHandle=-1,ue=t.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(zs={stylesheets:null,count:0,unsuspend:s1},fp(t),ue=l1(),ue!==null)){e.cancelPendingCommit=ue(Ep.bind(null,e,t,f,a,l,u,y,j,U,oe,1,K,ee)),vn(e,f,y,!W);return}Ep(e,t,f,a,l,u,y,j,U)}function Sb(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],f=u.getSnapshot;u=u.value;try{if(!Zt(f(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t,a,l){t&=~qc,t&=~Pn,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var f=31-ae(u),y=1<<f;l[f]=-1,u&=~y}a!==0&&Af(e,a,t)}function el(){return(Ve&6)===0?(Rs(0),!1):!0}function Yc(){if(Le!==null){if(Ye===0)var e=Le.return;else e=Le,Ha=Un=null,uc(e),wr=null,ws=0,e=Le;for(;e!==null;)Zm(e.alternate,e),e=e.return;Le=null}}function Or(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Pb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Yc(),tt=e,Le=a=za(e.current,null),Ie=t,Ye=0,aa=null,hn=!1,Tr=xt(e,t),Hc=!1,Er=ha=qc=Pn=mn=ct=0,Vt=Os=null,Pc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-ae(l),f=1<<u;t|=e[u],l&=~f}return Fa=t,ji(),a}function bp(e,t){ke=null,q.H=qi,t===fs||t===Ri?(t=zh(),Ye=3):t===Mh?(t=zh(),Ye=4):Ye=t===Im?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,aa=t,Le===null&&(ct=1,Vi(e,oa(t,e.current)))}function wp(){var e=q.H;return q.H=qi,e===null?qi:e}function jp(){var e=q.A;return q.A=jb,e}function Fc(){ct=4,hn||(Ie&4194048)!==Ie&&fa.current!==null||(Tr=!0),(mn&134217727)===0&&(Pn&134217727)===0||tt===null||vn(tt,Ie,ha,!1)}function Qc(e,t,a){var l=Ve;Ve|=2;var u=wp(),f=jp();(tt!==e||Ie!==t)&&(Ki=null,Or(e,t)),t=!1;var y=ct;e:do try{if(Ye!==0&&Le!==null){var j=Le,U=aa;switch(Ye){case 8:Yc(),y=6;break e;case 3:case 2:case 9:case 6:fa.current===null&&(t=!0);var W=Ye;if(Ye=0,aa=null,Ar(e,j,U,W),a&&Tr){y=0;break e}break;default:W=Ye,Ye=0,aa=null,Ar(e,j,U,W)}}Tb(),y=ct;break}catch(oe){bp(e,oe)}while(!0);return t&&e.shellSuspendCounter++,Ha=Un=null,Ve=l,q.H=u,q.A=f,Le===null&&(tt=null,Ie=0,ji()),y}function Tb(){for(;Le!==null;)Np(Le)}function Eb(e,t){var a=Ve;Ve|=2;var l=wp(),u=jp();tt!==e||Ie!==t?(Ki=null,Zi=X()+500,Or(e,t)):Tr=xt(e,t);e:do try{if(Ye!==0&&Le!==null){t=Le;var f=aa;t:switch(Ye){case 1:Ye=0,aa=null,Ar(e,t,f,1);break;case 2:case 9:if(Lh(f)){Ye=0,aa=null,Sp(t);break}t=function(){Ye!==2&&Ye!==9||tt!==e||(Ye=7),Da(e)},f.then(t,t);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Lh(f)?(Ye=0,aa=null,Sp(t)):(Ye=0,aa=null,Ar(e,t,f,7));break;case 5:var y=null;switch(Le.tag){case 26:y=Le.memoizedState;case 5:case 27:var j=Le;if(!y||sg(y)){Ye=0,aa=null;var U=j.sibling;if(U!==null)Le=U;else{var W=j.return;W!==null?(Le=W,tl(W)):Le=null}break t}}Ye=0,aa=null,Ar(e,t,f,5);break;case 6:Ye=0,aa=null,Ar(e,t,f,6);break;case 8:Yc(),ct=6;break e;default:throw Error(o(462))}}Cb();break}catch(oe){bp(e,oe)}while(!0);return Ha=Un=null,q.H=l,q.A=u,Ve=a,Le!==null?0:(tt=null,Ie=0,ji(),ct)}function Cb(){for(;Le!==null&&!mt();)Np(Le)}function Np(e){var t=Wm(e.alternate,e,Fa);e.memoizedProps=e.pendingProps,t===null?tl(e):Le=t}function Sp(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=$m(a,t,t.pendingProps,t.type,void 0,Ie);break;case 11:t=$m(a,t,t.pendingProps,t.type.render,t.ref,Ie);break;case 5:uc(t);default:Zm(a,t),t=Le=Th(t,Fa),t=Wm(a,t,Fa)}e.memoizedProps=e.pendingProps,t===null?tl(e):Le=t}function Ar(e,t,a,l){Ha=Un=null,uc(t),wr=null,ws=0;var u=t.return;try{if(gb(e,u,t,a,Ie)){ct=1,Vi(e,oa(a,e.current)),Le=null;return}}catch(f){if(u!==null)throw Le=u,f;ct=1,Vi(e,oa(a,e.current)),Le=null;return}t.flags&32768?(Pe||l===1?e=!0:Tr||(Ie&536870912)!==0?e=!1:(hn=e=!0,(l===2||l===9||l===3||l===6)&&(l=fa.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tp(t,e)):tl(t)}function tl(e){var t=e;do{if((t.flags&32768)!==0){Tp(t,hn);return}e=t.return;var a=yb(t.alternate,t,Fa);if(a!==null){Le=a;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);ct===0&&(ct=5)}function Tp(e,t){do{var a=xb(e.alternate,e);if(a!==null){a.flags&=32767,Le=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Le=e;return}Le=e=a}while(e!==null);ct=6,Le=null}function Ep(e,t,a,l,u,f,y,j,U){e.cancelPendingCommit=null;do al();while(_t!==0);if((Ve&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(f=t.lanes|t.childLanes,f|=Bo,sx(e,a,f,y,j,U),e===tt&&(Le=tt=null,Ie=0),Cr=t,gn=e,_r=a,$c=f,Xc=u,gp=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Rb(je,function(){return Rp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,u=de.p,de.p=2,y=Ve,Ve|=4;try{bb(e,t,a)}finally{Ve=y,de.p=u,q.T=l}}_t=1,Cp(),_p(),Op()}}function Cp(){if(_t===1){_t=0;var e=gn,t=Cr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=de.p;de.p=2;var u=Ve;Ve|=4;try{cp(t,e);var f=lu,y=ph(e.containerInfo),j=f.focusedElem,U=f.selectionRange;if(y!==j&&j&&j.ownerDocument&&mh(j.ownerDocument.documentElement,j)){if(U!==null&&Mo(j)){var W=U.start,oe=U.end;if(oe===void 0&&(oe=W),"selectionStart"in j)j.selectionStart=W,j.selectionEnd=Math.min(oe,j.value.length);else{var ue=j.ownerDocument||document,K=ue&&ue.defaultView||window;if(K.getSelection){var ee=K.getSelection(),Ce=j.textContent.length,Se=Math.min(U.start,Ce),We=U.end===void 0?Se:Math.min(U.end,Ce);!ee.extend&&Se>We&&(y=We,We=Se,Se=y);var $=hh(j,Se),I=hh(j,We);if($&&I&&(ee.rangeCount!==1||ee.anchorNode!==$.node||ee.anchorOffset!==$.offset||ee.focusNode!==I.node||ee.focusOffset!==I.offset)){var V=ue.createRange();V.setStart($.node,$.offset),ee.removeAllRanges(),Se>We?(ee.addRange(V),ee.extend(I.node,I.offset)):(V.setEnd(I.node,I.offset),ee.addRange(V))}}}}for(ue=[],ee=j;ee=ee.parentNode;)ee.nodeType===1&&ue.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ue.length;j++){var ce=ue[j];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}ml=!!iu,lu=iu=null}finally{Ve=u,de.p=l,q.T=a}}e.current=t,_t=2}}function _p(){if(_t===2){_t=0;var e=gn,t=Cr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=de.p;de.p=2;var u=Ve;Ve|=4;try{sp(e,t.alternate,t)}finally{Ve=u,de.p=l,q.T=a}}_t=3}}function Op(){if(_t===4||_t===3){_t=0,Q();var e=gn,t=Cr,a=_r,l=gp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?_t=5:(_t=0,Cr=gn=null,Ap(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(pn=null),ho(a),t=t.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(ba,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=q.T,u=de.p,de.p=2,q.T=null;try{for(var f=e.onRecoverableError,y=0;y<l.length;y++){var j=l[y];f(j.value,{componentStack:j.stack})}}finally{q.T=t,de.p=u}}(_r&3)!==0&&al(),Da(e),u=e.pendingLanes,(a&4194090)!==0&&(u&42)!==0?e===Vc?As++:(As=0,Vc=e):As=0,Rs(0)}}function Ap(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,us(t)))}function al(e){return Cp(),_p(),Op(),Rp()}function Rp(){if(_t!==5)return!1;var e=gn,t=$c;$c=0;var a=ho(_r),l=q.T,u=de.p;try{de.p=32>a?32:a,q.T=null,a=Xc,Xc=null;var f=gn,y=_r;if(_t=0,Cr=gn=null,_r=0,(Ve&6)!==0)throw Error(o(331));var j=Ve;if(Ve|=4,mp(f.current),dp(f,f.current,y,a),Ve=j,Rs(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(ba,f)}catch{}return!0}finally{de.p=u,q.T=l,Ap(e,t)}}function Dp(e,t,a){t=oa(a,t),t=Sc(e.stateNode,t,2),e=sn(e,t,2),e!==null&&(Fr(e,2),Da(e))}function Ke(e,t,a){if(e.tag===3)Dp(e,e,a);else for(;t!==null;){if(t.tag===3){Dp(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pn===null||!pn.has(l))){e=oa(a,e),a=Um(2),l=sn(t,a,2),l!==null&&(zm(a,l,t,e),Fr(l,2),Da(l));break}}t=t.return}}function Wc(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Nb;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(a)||(Hc=!0,u.add(a),e=_b.bind(null,e,t,a),t.then(e,e))}function _b(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,tt===e&&(Ie&a)===a&&(ct===4||ct===3&&(Ie&62914560)===Ie&&300>X()-Gc?(Ve&2)===0&&Or(e,0):qc|=a,Er===Ie&&(Er=0)),Da(e)}function kp(e,t){t===0&&(t=Of()),e=dr(e,t),e!==null&&(Fr(e,t),Da(e))}function Ob(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),kp(e,a)}function Ab(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),kp(e,a)}function Rb(e,t){return jt(e,t)}var nl=null,Rr=null,Jc=!1,rl=!1,Zc=!1,Gn=0;function Da(e){e!==Rr&&e.next===null&&(Rr===null?nl=Rr=e:Rr=Rr.next=e),rl=!0,Jc||(Jc=!0,kb())}function Rs(e,t){if(!Zc&&rl){Zc=!0;do for(var a=!1,l=nl;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var y=l.suspendedLanes,j=l.pingedLanes;f=(1<<31-ae(42|e)+1)-1,f&=u&~(y&~j),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,zp(l,f))}else f=Ie,f=qt(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||xt(l,f)||(a=!0,zp(l,f));l=l.next}while(a);Zc=!1}}function Db(){Mp()}function Mp(){rl=Jc=!1;var e=0;Gn!==0&&(qb()&&(e=Gn),Gn=0);for(var t=X(),a=null,l=nl;l!==null;){var u=l.next,f=Lp(l,t);f===0?(l.next=null,a===null?nl=u:a.next=u,u===null&&(Rr=a)):(a=l,(e!==0||(f&3)!==0)&&(rl=!0)),l=u}Rs(e)}function Lp(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-ae(f),j=1<<y,U=u[y];U===-1?((j&a)===0||(j&l)!==0)&&(u[y]=at(j,t)):U<=t&&(e.expiredLanes|=j),f&=~j}if(t=tt,a=Ie,a=qt(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&et(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||xt(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&et(l),ho(a)){case 2:case 8:a=ye;break;case 32:a=je;break;case 268435456:a=Be;break;default:a=je}return l=Up.bind(null,e),a=jt(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&et(l),e.callbackPriority=2,e.callbackNode=null,2}function Up(e,t){if(_t!==0&&_t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(al()&&e.callbackNode!==a)return null;var l=Ie;return l=qt(e,e===tt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(yp(e,l,t),Lp(e,X()),e.callbackNode!=null&&e.callbackNode===a?Up.bind(null,e):null)}function zp(e,t){if(al())return null;yp(e,t,!0)}function kb(){Gb(function(){(Ve&6)!==0?jt(fe,Db):Mp()})}function Kc(){return Gn===0&&(Gn=Yr()),Gn}function Ip(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pi(""+e)}function Bp(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Mb(e,t,a,l,u){if(t==="submit"&&a&&a.stateNode===u){var f=Ip((u[Pt]||null).action),y=l.submitter;y&&(t=(t=y[Pt]||null)?Ip(t.formAction):y.getAttribute("formAction"),t!==null&&(f=t,y=null));var j=new xi("action","action",null,l,u);e.push({event:j,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gn!==0){var U=y?Bp(u,y):new FormData(u);xc(a,{pending:!0,data:U,method:u.method,action:f},null,U)}}else typeof f=="function"&&(j.preventDefault(),U=y?Bp(u,y):new FormData(u),xc(a,{pending:!0,data:U,method:u.method,action:f},f,U))},currentTarget:u}]})}}for(var eu=0;eu<Io.length;eu++){var tu=Io[eu],Lb=tu.toLowerCase(),Ub=tu[0].toUpperCase()+tu.slice(1);wa(Lb,"on"+Ub)}wa(yh,"onAnimationEnd"),wa(xh,"onAnimationIteration"),wa(bh,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(Kx,"onTransitionRun"),wa(eb,"onTransitionStart"),wa(tb,"onTransitionCancel"),wa(wh,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ds));function Hp(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],u=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var y=l.length-1;0<=y;y--){var j=l[y],U=j.instance,W=j.currentTarget;if(j=j.listener,U!==f&&u.isPropagationStopped())break e;f=j,u.currentTarget=W;try{f(u)}catch(oe){Xi(oe)}u.currentTarget=null,f=U}else for(y=0;y<l.length;y++){if(j=l[y],U=j.instance,W=j.currentTarget,j=j.listener,U!==f&&u.isPropagationStopped())break e;f=j,u.currentTarget=W;try{f(u)}catch(oe){Xi(oe)}u.currentTarget=null,f=U}}}}function Ue(e,t){var a=t[mo];a===void 0&&(a=t[mo]=new Set);var l=e+"__bubble";a.has(l)||(qp(t,e,2,!1),a.add(l))}function au(e,t,a){var l=0;t&&(l|=4),qp(a,e,l,t)}var sl="_reactListening"+Math.random().toString(36).slice(2);function nu(e){if(!e[sl]){e[sl]=!0,Mf.forEach(function(a){a!=="selectionchange"&&(zb.has(a)||au(a,!1,e),au(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sl]||(t[sl]=!0,au("selectionchange",!1,t))}}function qp(e,t,a,l){switch(dg(t)){case 2:var u=u1;break;case 8:u=d1;break;default:u=vu}a=u.bind(null,t,a,e),u=void 0,!To||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function ru(e,t,a,l,u){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var j=l.stateNode.containerInfo;if(j===u)break;if(y===4)for(y=l.return;y!==null;){var U=y.tag;if((U===3||U===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;j!==null;){if(y=Zn(j),y===null)return;if(U=y.tag,U===5||U===6||U===26||U===27){l=f=y;continue e}j=j.parentNode}}l=l.return}Ff(function(){var W=f,oe=No(a),ue=[];e:{var K=jh.get(e);if(K!==void 0){var ee=xi,Ce=e;switch(e){case"keypress":if(vi(a)===0)break e;case"keydown":case"keyup":ee=Rx;break;case"focusin":Ce="focus",ee=Oo;break;case"focusout":Ce="blur",ee=Oo;break;case"beforeblur":case"afterblur":ee=Oo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Mx;break;case yh:case xh:case bh:ee=jx;break;case wh:ee=Ux;break;case"scroll":case"scrollend":ee=vx;break;case"wheel":ee=Ix;break;case"copy":case"cut":case"paste":ee=Sx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Kf;break;case"toggle":case"beforetoggle":ee=Hx}var Se=(t&4)!==0,We=!Se&&(e==="scroll"||e==="scrollend"),$=Se?K!==null?K+"Capture":null:K;Se=[];for(var I=W,V;I!==null;){var ce=I;if(V=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||V===null||$===null||(ce=Jr(I,$),ce!=null&&Se.push(ks(I,ce,V))),We)break;I=I.return}0<Se.length&&(K=new ee(K,Ce,null,a,oe),ue.push({event:K,listeners:Se}))}}if((t&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",K&&a!==jo&&(Ce=a.relatedTarget||a.fromElement)&&(Zn(Ce)||Ce[Jn]))break e;if((ee||K)&&(K=oe.window===oe?oe:(K=oe.ownerDocument)?K.defaultView||K.parentWindow:window,ee?(Ce=a.relatedTarget||a.toElement,ee=W,Ce=Ce?Zn(Ce):null,Ce!==null&&(We=d(Ce),Se=Ce.tag,Ce!==We||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(ee=null,Ce=W),ee!==Ce)){if(Se=Jf,ce="onMouseLeave",$="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(Se=Kf,ce="onPointerLeave",$="onPointerEnter",I="pointer"),We=ee==null?K:Wr(ee),V=Ce==null?K:Wr(Ce),K=new Se(ce,I+"leave",ee,a,oe),K.target=We,K.relatedTarget=V,ce=null,Zn(oe)===W&&(Se=new Se($,I+"enter",Ce,a,oe),Se.target=V,Se.relatedTarget=We,ce=Se),We=ce,ee&&Ce)t:{for(Se=ee,$=Ce,I=0,V=Se;V;V=Dr(V))I++;for(V=0,ce=$;ce;ce=Dr(ce))V++;for(;0<I-V;)Se=Dr(Se),I--;for(;0<V-I;)$=Dr($),V--;for(;I--;){if(Se===$||$!==null&&Se===$.alternate)break t;Se=Dr(Se),$=Dr($)}Se=null}else Se=null;ee!==null&&Pp(ue,K,ee,Se,!1),Ce!==null&&We!==null&&Pp(ue,We,Ce,Se,!0)}}e:{if(K=W?Wr(W):window,ee=K.nodeName&&K.nodeName.toLowerCase(),ee==="select"||ee==="input"&&K.type==="file")var xe=lh;else if(sh(K))if(oh)xe=Wx;else{xe=Fx;var Me=Yx}else ee=K.nodeName,!ee||ee.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?W&&wo(W.elementType)&&(xe=lh):xe=Qx;if(xe&&(xe=xe(e,W))){ih(ue,xe,a,oe);break e}Me&&Me(e,K,W),e==="focusout"&&W&&K.type==="number"&&W.memoizedProps.value!=null&&bo(K,"number",K.value)}switch(Me=W?Wr(W):window,e){case"focusin":(sh(Me)||Me.contentEditable==="true")&&(or=Me,Lo=W,ss=null);break;case"focusout":ss=Lo=or=null;break;case"mousedown":Uo=!0;break;case"contextmenu":case"mouseup":case"dragend":Uo=!1,gh(ue,a,oe);break;case"selectionchange":if(Zx)break;case"keydown":case"keyup":gh(ue,a,oe)}var be;if(Ro)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else lr?nh(e,a)&&(Te="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(eh&&a.locale!=="ko"&&(lr||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&lr&&(be=Qf()):(tn=oe,Eo="value"in tn?tn.value:tn.textContent,lr=!0)),Me=il(W,Te),0<Me.length&&(Te=new Zf(Te,e,null,a,oe),ue.push({event:Te,listeners:Me}),be?Te.data=be:(be=rh(a),be!==null&&(Te.data=be)))),(be=Px?Gx(e,a):$x(e,a))&&(Te=il(W,"onBeforeInput"),0<Te.length&&(Me=new Zf("onBeforeInput","beforeinput",null,a,oe),ue.push({event:Me,listeners:Te}),Me.data=be)),Mb(ue,e,W,a,oe)}Hp(ue,t)})}function ks(e,t,a){return{instance:e,listener:t,currentTarget:a}}function il(e,t){for(var a=t+"Capture",l=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Jr(e,a),u!=null&&l.unshift(ks(e,u,f)),u=Jr(e,t),u!=null&&l.push(ks(e,u,f))),e.tag===3)return l;e=e.return}return[]}function Dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pp(e,t,a,l,u){for(var f=t._reactName,y=[];a!==null&&a!==l;){var j=a,U=j.alternate,W=j.stateNode;if(j=j.tag,U!==null&&U===l)break;j!==5&&j!==26&&j!==27||W===null||(U=W,u?(W=Jr(a,f),W!=null&&y.unshift(ks(a,W,U))):u||(W=Jr(a,f),W!=null&&y.push(ks(a,W,U)))),a=a.return}y.length!==0&&e.push({event:t,listeners:y})}var Ib=/\r\n?/g,Bb=/\u0000|\uFFFD/g;function Gp(e){return(typeof e=="string"?e:""+e).replace(Ib,`
`).replace(Bb,"")}function $p(e,t){return t=Gp(t),Gp(e)===t}function ll(){}function Qe(e,t,a,l,u,f){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||rr(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&rr(e,""+l);break;case"className":fi(e,"class",l);break;case"tabIndex":fi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(e,a,l);break;case"style":Vf(e,l,f);break;case"data":if(t!=="object"){fi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&Qe(e,t,"name",u.name,u,null),Qe(e,t,"formEncType",u.formEncType,u,null),Qe(e,t,"formMethod",u.formMethod,u,null),Qe(e,t,"formTarget",u.formTarget,u,null)):(Qe(e,t,"encType",u.encType,u,null),Qe(e,t,"method",u.method,u,null),Qe(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ll);break;case"onScroll":l!=null&&Ue("scroll",e);break;case"onScrollEnd":l!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=pi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),di(e,"popover",l);break;case"xlinkActuate":La(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":La(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":La(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":La(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":La(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":La(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":La(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":La(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":La(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":di(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=px.get(a)||a,di(e,a,l))}}function su(e,t,a,l,u,f){switch(a){case"style":Vf(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof l=="string"?rr(e,l):(typeof l=="number"||typeof l=="bigint")&&rr(e,""+l);break;case"onScroll":l!=null&&Ue("scroll",e);break;case"onScrollEnd":l!=null&&Ue("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),f=e[Pt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,u);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):di(e,a,l)}}}function Ot(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var l=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Qe(e,t,f,y,a,null)}}u&&Qe(e,t,"srcSet",a.srcSet,a,null),l&&Qe(e,t,"src",a.src,a,null);return;case"input":Ue("invalid",e);var j=f=y=u=null,U=null,W=null;for(l in a)if(a.hasOwnProperty(l)){var oe=a[l];if(oe!=null)switch(l){case"name":u=oe;break;case"type":y=oe;break;case"checked":U=oe;break;case"defaultChecked":W=oe;break;case"value":f=oe;break;case"defaultValue":j=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(o(137,t));break;default:Qe(e,t,l,oe,a,null)}}Pf(e,f,j,U,W,y,u,!1),hi(e);return;case"select":Ue("invalid",e),l=y=f=null;for(u in a)if(a.hasOwnProperty(u)&&(j=a[u],j!=null))switch(u){case"value":f=j;break;case"defaultValue":y=j;break;case"multiple":l=j;default:Qe(e,t,u,j,a,null)}t=f,a=y,e.multiple=!!l,t!=null?nr(e,!!l,t,!1):a!=null&&nr(e,!!l,a,!0);return;case"textarea":Ue("invalid",e),f=u=l=null;for(y in a)if(a.hasOwnProperty(y)&&(j=a[y],j!=null))switch(y){case"value":l=j;break;case"defaultValue":u=j;break;case"children":f=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(o(91));break;default:Qe(e,t,y,j,a,null)}$f(e,l,u,f),hi(e);return;case"option":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(e,t,U,l,a,null)}return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(l=0;l<Ds.length;l++)Ue(Ds[l],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(l=a[W],l!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Qe(e,t,W,l,a,null)}return;default:if(wo(t)){for(oe in a)a.hasOwnProperty(oe)&&(l=a[oe],l!==void 0&&su(e,t,oe,l,a,void 0));return}}for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!=null&&Qe(e,t,j,l,a,null))}function Hb(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,y=null,j=null,U=null,W=null,oe=null;for(ee in a){var ue=a[ee];if(a.hasOwnProperty(ee)&&ue!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":U=ue;default:l.hasOwnProperty(ee)||Qe(e,t,ee,null,l,ue)}}for(var K in l){var ee=l[K];if(ue=a[K],l.hasOwnProperty(K)&&(ee!=null||ue!=null))switch(K){case"type":f=ee;break;case"name":u=ee;break;case"checked":W=ee;break;case"defaultChecked":oe=ee;break;case"value":y=ee;break;case"defaultValue":j=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(o(137,t));break;default:ee!==ue&&Qe(e,t,K,ee,l,ue)}}xo(e,y,j,U,W,oe,f,u);return;case"select":ee=y=j=K=null;for(f in a)if(U=a[f],a.hasOwnProperty(f)&&U!=null)switch(f){case"value":break;case"multiple":ee=U;default:l.hasOwnProperty(f)||Qe(e,t,f,null,l,U)}for(u in l)if(f=l[u],U=a[u],l.hasOwnProperty(u)&&(f!=null||U!=null))switch(u){case"value":K=f;break;case"defaultValue":j=f;break;case"multiple":y=f;default:f!==U&&Qe(e,t,u,f,l,U)}t=j,a=y,l=ee,K!=null?nr(e,!!a,K,!1):!!l!=!!a&&(t!=null?nr(e,!!a,t,!0):nr(e,!!a,a?[]:"",!1));return;case"textarea":ee=K=null;for(j in a)if(u=a[j],a.hasOwnProperty(j)&&u!=null&&!l.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Qe(e,t,j,null,l,u)}for(y in l)if(u=l[y],f=a[y],l.hasOwnProperty(y)&&(u!=null||f!=null))switch(y){case"value":K=u;break;case"defaultValue":ee=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:u!==f&&Qe(e,t,y,u,l,f)}Gf(e,K,ee);return;case"option":for(var Ce in a)if(K=a[Ce],a.hasOwnProperty(Ce)&&K!=null&&!l.hasOwnProperty(Ce))switch(Ce){case"selected":e.selected=!1;break;default:Qe(e,t,Ce,null,l,K)}for(U in l)if(K=l[U],ee=a[U],l.hasOwnProperty(U)&&K!==ee&&(K!=null||ee!=null))switch(U){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Qe(e,t,U,K,l,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)K=a[Se],a.hasOwnProperty(Se)&&K!=null&&!l.hasOwnProperty(Se)&&Qe(e,t,Se,null,l,K);for(W in l)if(K=l[W],ee=a[W],l.hasOwnProperty(W)&&K!==ee&&(K!=null||ee!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,t));break;default:Qe(e,t,W,K,l,ee)}return;default:if(wo(t)){for(var We in a)K=a[We],a.hasOwnProperty(We)&&K!==void 0&&!l.hasOwnProperty(We)&&su(e,t,We,void 0,l,K);for(oe in l)K=l[oe],ee=a[oe],!l.hasOwnProperty(oe)||K===ee||K===void 0&&ee===void 0||su(e,t,oe,K,l,ee);return}}for(var $ in a)K=a[$],a.hasOwnProperty($)&&K!=null&&!l.hasOwnProperty($)&&Qe(e,t,$,null,l,K);for(ue in l)K=l[ue],ee=a[ue],!l.hasOwnProperty(ue)||K===ee||K==null&&ee==null||Qe(e,t,ue,K,l,ee)}var iu=null,lu=null;function ol(e){return e.nodeType===9?e:e.ownerDocument}function Xp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cu=null;function qb(){var e=window.event;return e&&e.type==="popstate"?e===cu?!1:(cu=e,!0):(cu=null,!1)}var Yp=typeof setTimeout=="function"?setTimeout:void 0,Pb=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,Gb=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(e){return Fp.resolve(null).then(e).catch($b)}:Yp;function $b(e){setTimeout(function(){throw e})}function yn(e){return e==="head"}function Qp(e,t){var a=t,l=0,u=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=e.ownerDocument;if(a&1&&Ms(y.documentElement),a&2&&Ms(y.body),a&4)for(a=y.head,Ms(a),y=a.firstChild;y;){var j=y.nextSibling,U=y.nodeName;y[Qr]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=j}}if(u===0){e.removeChild(f),Ps(t);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ps(t)}function uu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":uu(a),po(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Xb(e,t,a,l){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Qr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Na(e.nextSibling),e===null)break}return null}function Vb(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Na(e.nextSibling),e===null))return null;return e}function du(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Yb(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Na(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var fu=null;function Wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Jp(e,t,a){switch(t=ol(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Ms(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);po(e)}var ma=new Map,Zp=new Set;function cl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qa=de.d;de.d={f:Fb,r:Qb,D:Wb,C:Jb,L:Zb,m:Kb,X:t1,S:e1,M:a1};function Fb(){var e=Qa.f(),t=el();return e||t}function Qb(e){var t=Kn(e);t!==null&&t.tag===5&&t.type==="form"?ym(t):Qa.r(e)}var kr=typeof document>"u"?null:document;function Kp(e,t,a){var l=kr;if(l&&typeof t=="string"&&t){var u=la(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Zp.has(u)||(Zp.add(u),e={rel:e,crossOrigin:a,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Ot(t,"link",e),Nt(t),l.head.appendChild(t)))}}function Wb(e){Qa.D(e),Kp("dns-prefetch",e,null)}function Jb(e,t){Qa.C(e,t),Kp("preconnect",e,t)}function Zb(e,t,a){Qa.L(e,t,a);var l=kr;if(l&&e&&t){var u='link[rel="preload"][as="'+la(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+la(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+la(a.imageSizes)+'"]')):u+='[href="'+la(e)+'"]';var f=u;switch(t){case"style":f=Mr(e);break;case"script":f=Lr(e)}ma.has(f)||(e=v({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ma.set(f,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Ls(f))||t==="script"&&l.querySelector(Us(f))||(t=l.createElement("link"),Ot(t,"link",e),Nt(t),l.head.appendChild(t)))}}function Kb(e,t){Qa.m(e,t);var a=kr;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+la(l)+'"][href="'+la(e)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Lr(e)}if(!ma.has(f)&&(e=v({rel:"modulepreload",href:e},t),ma.set(f,e),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Us(f)))return}l=a.createElement("link"),Ot(l,"link",e),Nt(l),a.head.appendChild(l)}}}function e1(e,t,a){Qa.S(e,t,a);var l=kr;if(l&&e){var u=er(l).hoistableStyles,f=Mr(e);t=t||"default";var y=u.get(f);if(!y){var j={loading:0,preload:null};if(y=l.querySelector(Ls(f)))j.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ma.get(f))&&hu(e,a);var U=y=l.createElement("link");Nt(U),Ot(U,"link",e),U._p=new Promise(function(W,oe){U.onload=W,U.onerror=oe}),U.addEventListener("load",function(){j.loading|=1}),U.addEventListener("error",function(){j.loading|=2}),j.loading|=4,ul(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:j},u.set(f,y)}}}function t1(e,t){Qa.X(e,t);var a=kr;if(a&&e){var l=er(a).hoistableScripts,u=Lr(e),f=l.get(u);f||(f=a.querySelector(Us(u)),f||(e=v({src:e,async:!0},t),(t=ma.get(u))&&mu(e,t),f=a.createElement("script"),Nt(f),Ot(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function a1(e,t){Qa.M(e,t);var a=kr;if(a&&e){var l=er(a).hoistableScripts,u=Lr(e),f=l.get(u);f||(f=a.querySelector(Us(u)),f||(e=v({src:e,async:!0,type:"module"},t),(t=ma.get(u))&&mu(e,t),f=a.createElement("script"),Nt(f),Ot(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function eg(e,t,a,l){var u=(u=re.current)?cl(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Mr(a.href),a=er(u).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Mr(a.href);var f=er(u).hoistableStyles,y=f.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=u.querySelector(Ls(e)))&&!f._p&&(y.instance=f,y.state.loading=5),ma.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ma.set(e,a),f||n1(u,e,a,y.state))),t&&l===null)throw Error(o(528,""));return y}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Lr(a),a=er(u).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Mr(e){return'href="'+la(e)+'"'}function Ls(e){return'link[rel="stylesheet"]['+e+"]"}function tg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function n1(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ot(t,"link",a),Nt(t),e.head.appendChild(t))}function Lr(e){return'[src="'+la(e)+'"]'}function Us(e){return"script[async]"+e}function ag(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+la(a.href)+'"]');if(l)return t.instance=l,Nt(l),l;var u=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Nt(l),Ot(l,"style",u),ul(l,a.precedence,e),t.instance=l;case"stylesheet":u=Mr(a.href);var f=e.querySelector(Ls(u));if(f)return t.state.loading|=4,t.instance=f,Nt(f),f;l=tg(a),(u=ma.get(u))&&hu(l,u),f=(e.ownerDocument||e).createElement("link"),Nt(f);var y=f;return y._p=new Promise(function(j,U){y.onload=j,y.onerror=U}),Ot(f,"link",l),t.state.loading|=4,ul(f,a.precedence,e),t.instance=f;case"script":return f=Lr(a.src),(u=e.querySelector(Us(f)))?(t.instance=u,Nt(u),u):(l=a,(u=ma.get(f))&&(l=v({},a),mu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Nt(u),Ot(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ul(l,a.precedence,e));return t.instance}function ul(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,y=0;y<l.length;y++){var j=l[y];if(j.dataset.precedence===t)f=j;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function hu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var dl=null;function ng(e,t,a){if(dl===null){var l=new Map,u=dl=new Map;u.set(a,l)}else u=dl,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[Qr]||f[Dt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(t)||"";y=e+y;var j=l.get(y);j?j.push(f):l.set(y,[f])}}return l}function rg(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function r1(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function sg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var zs=null;function s1(){}function i1(e,t,a){if(zs===null)throw Error(o(475));var l=zs;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=Mr(a.href),f=e.querySelector(Ls(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=fl.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=f,Nt(f);return}f=e.ownerDocument||e,a=tg(a),(u=ma.get(u))&&hu(a,u),f=f.createElement("link"),Nt(f);var y=f;y._p=new Promise(function(j,U){y.onload=j,y.onerror=U}),Ot(f,"link",a),t.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=fl.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function l1(){if(zs===null)throw Error(o(475));var e=zs;return e.stylesheets&&e.count===0&&pu(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&pu(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function fl(){if(this.count--,this.count===0){if(this.stylesheets)pu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hl=null;function pu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hl=new Map,t.forEach(o1,e),hl=null,fl.call(e))}function o1(e,t){if(!(t.state.loading&4)){var a=hl.get(e);if(a)var l=a.get(null);else{a=new Map,hl.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var y=u[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}u=t.instance,y=u.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,u),a.set(y,u),this.count++,l=fl.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Is={$$typeof:O,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function c1(e,t,a,l,u,f,y,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.hiddenUpdates=uo(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function ig(e,t,a,l,u,f,y,j,U,W,oe,ue){return e=new c1(e,t,a,y,j,U,W,ue),t=1,f===!0&&(t|=24),f=Kt(3,null,null,t),e.current=f,f.stateNode=e,t=Wo(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:t},ec(f),e}function lg(e){return e?(e=fr,e):fr}function og(e,t,a,l,u,f){u=lg(u),l.context===null?l.context=u:l.pendingContext=u,l=rn(t),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=sn(e,l,t),a!==null&&(ra(a,e,t),ms(a,e,t))}function cg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function gu(e,t){cg(e,t),(e=e.alternate)&&cg(e,t)}function ug(e){if(e.tag===13){var t=dr(e,67108864);t!==null&&ra(t,e,67108864),gu(e,67108864)}}var ml=!0;function u1(e,t,a,l){var u=q.T;q.T=null;var f=de.p;try{de.p=2,vu(e,t,a,l)}finally{de.p=f,q.T=u}}function d1(e,t,a,l){var u=q.T;q.T=null;var f=de.p;try{de.p=8,vu(e,t,a,l)}finally{de.p=f,q.T=u}}function vu(e,t,a,l){if(ml){var u=yu(l);if(u===null)ru(e,t,l,pl,a),fg(e,l);else if(h1(u,e,t,a,l))l.stopPropagation();else if(fg(e,l),t&4&&-1<f1.indexOf(e)){for(;u!==null;){var f=Kn(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Ht(f.pendingLanes);if(y!==0){var j=f;for(j.pendingLanes|=2,j.entangledLanes|=2;y;){var U=1<<31-ae(y);j.entanglements[1]|=U,y&=~U}Da(f),(Ve&6)===0&&(Zi=X()+500,Rs(0))}}break;case 13:j=dr(f,2),j!==null&&ra(j,f,2),el(),gu(f,2)}if(f=yu(l),f===null&&ru(e,t,l,pl,a),f===u)break;u=f}u!==null&&l.stopPropagation()}else ru(e,t,l,null,a)}}function yu(e){return e=No(e),xu(e)}var pl=null;function xu(e){if(pl=null,e=Zn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return pl=e,null}function dg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case fe:return 2;case ye:return 8;case je:case _e:return 32;case Be:return 268435456;default:return 32}default:return 32}}var bu=!1,xn=null,bn=null,wn=null,Bs=new Map,Hs=new Map,jn=[],f1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fg(e,t){switch(e){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(t.pointerId)}}function qs(e,t,a,l,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},t!==null&&(t=Kn(t),t!==null&&ug(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function h1(e,t,a,l,u){switch(t){case"focusin":return xn=qs(xn,e,t,a,l,u),!0;case"dragenter":return bn=qs(bn,e,t,a,l,u),!0;case"mouseover":return wn=qs(wn,e,t,a,l,u),!0;case"pointerover":var f=u.pointerId;return Bs.set(f,qs(Bs.get(f)||null,e,t,a,l,u)),!0;case"gotpointercapture":return f=u.pointerId,Hs.set(f,qs(Hs.get(f)||null,e,t,a,l,u)),!0}return!1}function hg(e){var t=Zn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,ix(e.priority,function(){if(a.tag===13){var l=na();l=fo(l);var u=dr(a,l);u!==null&&ra(u,a,l),gu(a,l)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=yu(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);jo=l,a.target.dispatchEvent(l),jo=null}else return t=Kn(a),t!==null&&ug(t),e.blockedOn=a,!1;t.shift()}return!0}function mg(e,t,a){gl(e)&&a.delete(t)}function m1(){bu=!1,xn!==null&&gl(xn)&&(xn=null),bn!==null&&gl(bn)&&(bn=null),wn!==null&&gl(wn)&&(wn=null),Bs.forEach(mg),Hs.forEach(mg)}function vl(e,t){e.blockedOn===t&&(e.blockedOn=null,bu||(bu=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,m1)))}var yl=null;function pg(e){yl!==e&&(yl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){yl===e&&(yl=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(xu(l||a)===null)continue;break}var f=Kn(a);f!==null&&(e.splice(t,3),t-=3,xc(f,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function Ps(e){function t(U){return vl(U,e)}xn!==null&&vl(xn,e),bn!==null&&vl(bn,e),wn!==null&&vl(wn,e),Bs.forEach(t),Hs.forEach(t);for(var a=0;a<jn.length;a++){var l=jn[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<jn.length&&(a=jn[0],a.blockedOn===null);)hg(a),a.blockedOn===null&&jn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],f=a[l+1],y=u[Pt]||null;if(typeof f=="function")y||pg(a);else if(y){var j=null;if(f&&f.hasAttribute("formAction")){if(u=f,y=f[Pt]||null)j=y.formAction;else if(xu(u)!==null)continue}else j=y.action;typeof j=="function"?a[l+1]=j:(a.splice(l,3),l-=3),pg(a)}}}function wu(e){this._internalRoot=e}xl.prototype.render=wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,l=na();og(a,l,e,t,null,null)},xl.prototype.unmount=wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;og(e.current,2,null,e,null,null),el(),t[Jn]=null}};function xl(e){this._internalRoot=e}xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Df();e={blockedOn:null,target:e,priority:t};for(var a=0;a<jn.length&&t!==0&&t<jn[a].priority;a++);jn.splice(a,0,e),a===0&&hg(e)}};var gg=n.version;if(gg!=="19.1.0")throw Error(o(527,gg,"19.1.0"));de.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var p1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{ba=bl.inject(p1),yt=bl}catch{}}return $s.createRoot=function(e,t){if(!c(e))throw Error(o(299));var a=!1,l="",u=Dm,f=km,y=Mm,j=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(j=t.unstable_transitionCallbacks)),t=ig(e,1,!1,null,null,a,l,u,f,y,j,null),e[Jn]=t.current,nu(e),new wu(t)},$s.hydrateRoot=function(e,t,a){if(!c(e))throw Error(o(299));var l=!1,u="",f=Dm,y=km,j=Mm,U=null,W=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(j=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(U=a.unstable_transitionCallbacks),a.formState!==void 0&&(W=a.formState)),t=ig(e,1,!0,t,a??null,l,u,f,y,j,U,W),t.context=lg(null),a=t.current,l=na(),l=fo(l),u=rn(l),u.callback=null,sn(a,u,l),a=l,t.current.lanes=a,Fr(t,a),Da(t),e[Jn]=t.current,nu(e),new xl(t)},$s.version="19.1.0",$s}var Eg;function T1(){if(Eg)return Su.exports;Eg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Su.exports=S1(),Su.exports}var E1=T1();function Ov(r,n){return function(){return r.apply(n,arguments)}}const{toString:C1}=Object.prototype,{getPrototypeOf:of}=Object,{iterator:Xl,toStringTag:Av}=Symbol,Vl=(r=>n=>{const i=C1.call(n);return r[i]||(r[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Ea=r=>(r=r.toLowerCase(),n=>Vl(n)===r),Yl=r=>n=>typeof n===r,{isArray:Ir}=Array,Js=Yl("undefined");function _1(r){return r!==null&&!Js(r)&&r.constructor!==null&&!Js(r.constructor)&&Yt(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Rv=Ea("ArrayBuffer");function O1(r){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(r):n=r&&r.buffer&&Rv(r.buffer),n}const A1=Yl("string"),Yt=Yl("function"),Dv=Yl("number"),Fl=r=>r!==null&&typeof r=="object",R1=r=>r===!0||r===!1,Rl=r=>{if(Vl(r)!=="object")return!1;const n=of(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Av in r)&&!(Xl in r)},D1=Ea("Date"),k1=Ea("File"),M1=Ea("Blob"),L1=Ea("FileList"),U1=r=>Fl(r)&&Yt(r.pipe),z1=r=>{let n;return r&&(typeof FormData=="function"&&r instanceof FormData||Yt(r.append)&&((n=Vl(r))==="formdata"||n==="object"&&Yt(r.toString)&&r.toString()==="[object FormData]"))},I1=Ea("URLSearchParams"),[B1,H1,q1,P1]=["ReadableStream","Request","Response","Headers"].map(Ea),G1=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ti(r,n,{allOwnKeys:i=!1}={}){if(r===null||typeof r>"u")return;let o,c;if(typeof r!="object"&&(r=[r]),Ir(r))for(o=0,c=r.length;o<c;o++)n.call(null,r[o],o,r);else{const d=i?Object.getOwnPropertyNames(r):Object.keys(r),h=d.length;let m;for(o=0;o<h;o++)m=d[o],n.call(null,r[m],m,r)}}function kv(r,n){n=n.toLowerCase();const i=Object.keys(r);let o=i.length,c;for(;o-- >0;)if(c=i[o],n===c.toLowerCase())return c;return null}const $n=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,Mv=r=>!Js(r)&&r!==$n;function qd(){const{caseless:r}=Mv(this)&&this||{},n={},i=(o,c)=>{const d=r&&kv(n,c)||c;Rl(n[d])&&Rl(o)?n[d]=qd(n[d],o):Rl(o)?n[d]=qd({},o):Ir(o)?n[d]=o.slice():n[d]=o};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&ti(arguments[o],i);return n}const $1=(r,n,i,{allOwnKeys:o}={})=>(ti(n,(c,d)=>{i&&Yt(c)?r[d]=Ov(c,i):r[d]=c},{allOwnKeys:o}),r),X1=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),V1=(r,n,i,o)=>{r.prototype=Object.create(n.prototype,o),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:n.prototype}),i&&Object.assign(r.prototype,i)},Y1=(r,n,i,o)=>{let c,d,h;const m={};if(n=n||{},r==null)return n;do{for(c=Object.getOwnPropertyNames(r),d=c.length;d-- >0;)h=c[d],(!o||o(h,r,n))&&!m[h]&&(n[h]=r[h],m[h]=!0);r=i!==!1&&of(r)}while(r&&(!i||i(r,n))&&r!==Object.prototype);return n},F1=(r,n,i)=>{r=String(r),(i===void 0||i>r.length)&&(i=r.length),i-=n.length;const o=r.indexOf(n,i);return o!==-1&&o===i},Q1=r=>{if(!r)return null;if(Ir(r))return r;let n=r.length;if(!Dv(n))return null;const i=new Array(n);for(;n-- >0;)i[n]=r[n];return i},W1=(r=>n=>r&&n instanceof r)(typeof Uint8Array<"u"&&of(Uint8Array)),J1=(r,n)=>{const o=(r&&r[Xl]).call(r);let c;for(;(c=o.next())&&!c.done;){const d=c.value;n.call(r,d[0],d[1])}},Z1=(r,n)=>{let i;const o=[];for(;(i=r.exec(n))!==null;)o.push(i);return o},K1=Ea("HTMLFormElement"),ew=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,c){return o.toUpperCase()+c}),Cg=(({hasOwnProperty:r})=>(n,i)=>r.call(n,i))(Object.prototype),tw=Ea("RegExp"),Lv=(r,n)=>{const i=Object.getOwnPropertyDescriptors(r),o={};ti(i,(c,d)=>{let h;(h=n(c,d,r))!==!1&&(o[d]=h||c)}),Object.defineProperties(r,o)},aw=r=>{Lv(r,(n,i)=>{if(Yt(r)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=r[i];if(Yt(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},nw=(r,n)=>{const i={},o=c=>{c.forEach(d=>{i[d]=!0})};return Ir(r)?o(r):o(String(r).split(n)),i},rw=()=>{},sw=(r,n)=>r!=null&&Number.isFinite(r=+r)?r:n;function iw(r){return!!(r&&Yt(r.append)&&r[Av]==="FormData"&&r[Xl])}const lw=r=>{const n=new Array(10),i=(o,c)=>{if(Fl(o)){if(n.indexOf(o)>=0)return;if(!("toJSON"in o)){n[c]=o;const d=Ir(o)?[]:{};return ti(o,(h,m)=>{const g=i(h,c+1);!Js(g)&&(d[m]=g)}),n[c]=void 0,d}}return o};return i(r,0)},ow=Ea("AsyncFunction"),cw=r=>r&&(Fl(r)||Yt(r))&&Yt(r.then)&&Yt(r.catch),Uv=((r,n)=>r?setImmediate:n?((i,o)=>($n.addEventListener("message",({source:c,data:d})=>{c===$n&&d===i&&o.length&&o.shift()()},!1),c=>{o.push(c),$n.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Yt($n.postMessage)),uw=typeof queueMicrotask<"u"?queueMicrotask.bind($n):typeof process<"u"&&process.nextTick||Uv,dw=r=>r!=null&&Yt(r[Xl]),ne={isArray:Ir,isArrayBuffer:Rv,isBuffer:_1,isFormData:z1,isArrayBufferView:O1,isString:A1,isNumber:Dv,isBoolean:R1,isObject:Fl,isPlainObject:Rl,isReadableStream:B1,isRequest:H1,isResponse:q1,isHeaders:P1,isUndefined:Js,isDate:D1,isFile:k1,isBlob:M1,isRegExp:tw,isFunction:Yt,isStream:U1,isURLSearchParams:I1,isTypedArray:W1,isFileList:L1,forEach:ti,merge:qd,extend:$1,trim:G1,stripBOM:X1,inherits:V1,toFlatObject:Y1,kindOf:Vl,kindOfTest:Ea,endsWith:F1,toArray:Q1,forEachEntry:J1,matchAll:Z1,isHTMLForm:K1,hasOwnProperty:Cg,hasOwnProp:Cg,reduceDescriptors:Lv,freezeMethods:aw,toObjectSet:nw,toCamelCase:ew,noop:rw,toFiniteNumber:sw,findKey:kv,global:$n,isContextDefined:Mv,isSpecCompliantForm:iw,toJSONObject:lw,isAsyncFn:ow,isThenable:cw,setImmediate:Uv,asap:uw,isIterable:dw};function Oe(r,n,i,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",n&&(this.code=n),i&&(this.config=i),o&&(this.request=o),c&&(this.response=c,this.status=c.status?c.status:null)}ne.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const zv=Oe.prototype,Iv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Iv[r]={value:r}});Object.defineProperties(Oe,Iv);Object.defineProperty(zv,"isAxiosError",{value:!0});Oe.from=(r,n,i,o,c,d)=>{const h=Object.create(zv);return ne.toFlatObject(r,h,function(g){return g!==Error.prototype},m=>m!=="isAxiosError"),Oe.call(h,r.message,n,i,o,c),h.cause=r,h.name=r.name,d&&Object.assign(h,d),h};const fw=null;function Pd(r){return ne.isPlainObject(r)||ne.isArray(r)}function Bv(r){return ne.endsWith(r,"[]")?r.slice(0,-2):r}function _g(r,n,i){return r?r.concat(n).map(function(c,d){return c=Bv(c),!i&&d?"["+c+"]":c}).join(i?".":""):n}function hw(r){return ne.isArray(r)&&!r.some(Pd)}const mw=ne.toFlatObject(ne,{},null,function(n){return/^is[A-Z]/.test(n)});function Ql(r,n,i){if(!ne.isObject(r))throw new TypeError("target must be an object");n=n||new FormData,i=ne.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,S){return!ne.isUndefined(S[T])});const o=i.metaTokens,c=i.visitor||v,d=i.dots,h=i.indexes,g=(i.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(n);if(!ne.isFunction(c))throw new TypeError("visitor must be a function");function p(_){if(_===null)return"";if(ne.isDate(_))return _.toISOString();if(!g&&ne.isBlob(_))throw new Oe("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(_)||ne.isTypedArray(_)?g&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function v(_,T,S){let C=_;if(_&&!S&&typeof _=="object"){if(ne.endsWith(T,"{}"))T=o?T:T.slice(0,-2),_=JSON.stringify(_);else if(ne.isArray(_)&&hw(_)||(ne.isFileList(_)||ne.endsWith(T,"[]"))&&(C=ne.toArray(_)))return T=Bv(T),C.forEach(function(O,M){!(ne.isUndefined(O)||O===null)&&n.append(h===!0?_g([T],M,d):h===null?T:T+"[]",p(O))}),!1}return Pd(_)?!0:(n.append(_g(S,T,d),p(_)),!1)}const x=[],w=Object.assign(mw,{defaultVisitor:v,convertValue:p,isVisitable:Pd});function A(_,T){if(!ne.isUndefined(_)){if(x.indexOf(_)!==-1)throw Error("Circular reference detected in "+T.join("."));x.push(_),ne.forEach(_,function(C,E){(!(ne.isUndefined(C)||C===null)&&c.call(n,C,ne.isString(E)?E.trim():E,T,w))===!0&&A(C,T?T.concat(E):[E])}),x.pop()}}if(!ne.isObject(r))throw new TypeError("data must be an object");return A(r),n}function Og(r){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function cf(r,n){this._pairs=[],r&&Ql(r,this,n)}const Hv=cf.prototype;Hv.append=function(n,i){this._pairs.push([n,i])};Hv.toString=function(n){const i=n?function(o){return n.call(this,o,Og)}:Og;return this._pairs.map(function(c){return i(c[0])+"="+i(c[1])},"").join("&")};function pw(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qv(r,n,i){if(!n)return r;const o=i&&i.encode||pw;ne.isFunction(i)&&(i={serialize:i});const c=i&&i.serialize;let d;if(c?d=c(n,i):d=ne.isURLSearchParams(n)?n.toString():new cf(n,i).toString(o),d){const h=r.indexOf("#");h!==-1&&(r=r.slice(0,h)),r+=(r.indexOf("?")===-1?"?":"&")+d}return r}class Ag{constructor(){this.handlers=[]}use(n,i,o){return this.handlers.push({fulfilled:n,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ne.forEach(this.handlers,function(o){o!==null&&n(o)})}}const Pv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gw=typeof URLSearchParams<"u"?URLSearchParams:cf,vw=typeof FormData<"u"?FormData:null,yw=typeof Blob<"u"?Blob:null,xw={isBrowser:!0,classes:{URLSearchParams:gw,FormData:vw,Blob:yw},protocols:["http","https","file","blob","url","data"]},uf=typeof window<"u"&&typeof document<"u",Gd=typeof navigator=="object"&&navigator||void 0,bw=uf&&(!Gd||["ReactNative","NativeScript","NS"].indexOf(Gd.product)<0),ww=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jw=uf&&window.location.href||"http://localhost",Nw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uf,hasStandardBrowserEnv:bw,hasStandardBrowserWebWorkerEnv:ww,navigator:Gd,origin:jw},Symbol.toStringTag,{value:"Module"})),Lt={...Nw,...xw};function Sw(r,n){return Ql(r,new Lt.classes.URLSearchParams,Object.assign({visitor:function(i,o,c,d){return Lt.isNode&&ne.isBuffer(i)?(this.append(o,i.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},n))}function Tw(r){return ne.matchAll(/\w+|\[(\w*)]/g,r).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Ew(r){const n={},i=Object.keys(r);let o;const c=i.length;let d;for(o=0;o<c;o++)d=i[o],n[d]=r[d];return n}function Gv(r){function n(i,o,c,d){let h=i[d++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),g=d>=i.length;return h=!h&&ne.isArray(c)?c.length:h,g?(ne.hasOwnProp(c,h)?c[h]=[c[h],o]:c[h]=o,!m):((!c[h]||!ne.isObject(c[h]))&&(c[h]=[]),n(i,o,c[h],d)&&ne.isArray(c[h])&&(c[h]=Ew(c[h])),!m)}if(ne.isFormData(r)&&ne.isFunction(r.entries)){const i={};return ne.forEachEntry(r,(o,c)=>{n(Tw(o),c,i,0)}),i}return null}function Cw(r,n,i){if(ne.isString(r))try{return(n||JSON.parse)(r),ne.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(r)}const ai={transitional:Pv,adapter:["xhr","http","fetch"],transformRequest:[function(n,i){const o=i.getContentType()||"",c=o.indexOf("application/json")>-1,d=ne.isObject(n);if(d&&ne.isHTMLForm(n)&&(n=new FormData(n)),ne.isFormData(n))return c?JSON.stringify(Gv(n)):n;if(ne.isArrayBuffer(n)||ne.isBuffer(n)||ne.isStream(n)||ne.isFile(n)||ne.isBlob(n)||ne.isReadableStream(n))return n;if(ne.isArrayBufferView(n))return n.buffer;if(ne.isURLSearchParams(n))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let m;if(d){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Sw(n,this.formSerializer).toString();if((m=ne.isFileList(n))||o.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Ql(m?{"files[]":n}:n,g&&new g,this.formSerializer)}}return d||c?(i.setContentType("application/json",!1),Cw(n)):n}],transformResponse:[function(n){const i=this.transitional||ai.transitional,o=i&&i.forcedJSONParsing,c=this.responseType==="json";if(ne.isResponse(n)||ne.isReadableStream(n))return n;if(n&&ne.isString(n)&&(o&&!this.responseType||c)){const h=!(i&&i.silentJSONParsing)&&c;try{return JSON.parse(n)}catch(m){if(h)throw m.name==="SyntaxError"?Oe.from(m,Oe.ERR_BAD_RESPONSE,this,null,this.response):m}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lt.classes.FormData,Blob:Lt.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],r=>{ai.headers[r]={}});const _w=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ow=r=>{const n={};let i,o,c;return r&&r.split(`
`).forEach(function(h){c=h.indexOf(":"),i=h.substring(0,c).trim().toLowerCase(),o=h.substring(c+1).trim(),!(!i||n[i]&&_w[i])&&(i==="set-cookie"?n[i]?n[i].push(o):n[i]=[o]:n[i]=n[i]?n[i]+", "+o:o)}),n},Rg=Symbol("internals");function Xs(r){return r&&String(r).trim().toLowerCase()}function Dl(r){return r===!1||r==null?r:ne.isArray(r)?r.map(Dl):String(r)}function Aw(r){const n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(r);)n[o[1]]=o[2];return n}const Rw=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function _u(r,n,i,o,c){if(ne.isFunction(o))return o.call(this,n,i);if(c&&(n=i),!!ne.isString(n)){if(ne.isString(o))return n.indexOf(o)!==-1;if(ne.isRegExp(o))return o.test(n)}}function Dw(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,i,o)=>i.toUpperCase()+o)}function kw(r,n){const i=ne.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(r,o+i,{value:function(c,d,h){return this[o].call(this,n,c,d,h)},configurable:!0})})}let Ft=class{constructor(n){n&&this.set(n)}set(n,i,o){const c=this;function d(m,g,p){const v=Xs(g);if(!v)throw new Error("header name must be a non-empty string");const x=ne.findKey(c,v);(!x||c[x]===void 0||p===!0||p===void 0&&c[x]!==!1)&&(c[x||g]=Dl(m))}const h=(m,g)=>ne.forEach(m,(p,v)=>d(p,v,g));if(ne.isPlainObject(n)||n instanceof this.constructor)h(n,i);else if(ne.isString(n)&&(n=n.trim())&&!Rw(n))h(Ow(n),i);else if(ne.isObject(n)&&ne.isIterable(n)){let m={},g,p;for(const v of n){if(!ne.isArray(v))throw TypeError("Object iterator must return a key-value pair");m[p=v[0]]=(g=m[p])?ne.isArray(g)?[...g,v[1]]:[g,v[1]]:v[1]}h(m,i)}else n!=null&&d(i,n,o);return this}get(n,i){if(n=Xs(n),n){const o=ne.findKey(this,n);if(o){const c=this[o];if(!i)return c;if(i===!0)return Aw(c);if(ne.isFunction(i))return i.call(this,c,o);if(ne.isRegExp(i))return i.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,i){if(n=Xs(n),n){const o=ne.findKey(this,n);return!!(o&&this[o]!==void 0&&(!i||_u(this,this[o],o,i)))}return!1}delete(n,i){const o=this;let c=!1;function d(h){if(h=Xs(h),h){const m=ne.findKey(o,h);m&&(!i||_u(o,o[m],m,i))&&(delete o[m],c=!0)}}return ne.isArray(n)?n.forEach(d):d(n),c}clear(n){const i=Object.keys(this);let o=i.length,c=!1;for(;o--;){const d=i[o];(!n||_u(this,this[d],d,n,!0))&&(delete this[d],c=!0)}return c}normalize(n){const i=this,o={};return ne.forEach(this,(c,d)=>{const h=ne.findKey(o,d);if(h){i[h]=Dl(c),delete i[d];return}const m=n?Dw(d):String(d).trim();m!==d&&delete i[d],i[m]=Dl(c),o[m]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const i=Object.create(null);return ne.forEach(this,(o,c)=>{o!=null&&o!==!1&&(i[c]=n&&ne.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,i])=>n+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...i){const o=new this(n);return i.forEach(c=>o.set(c)),o}static accessor(n){const o=(this[Rg]=this[Rg]={accessors:{}}).accessors,c=this.prototype;function d(h){const m=Xs(h);o[m]||(kw(c,h),o[m]=!0)}return ne.isArray(n)?n.forEach(d):d(n),this}};Ft.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(Ft.prototype,({value:r},n)=>{let i=n[0].toUpperCase()+n.slice(1);return{get:()=>r,set(o){this[i]=o}}});ne.freezeMethods(Ft);function Ou(r,n){const i=this||ai,o=n||i,c=Ft.from(o.headers);let d=o.data;return ne.forEach(r,function(m){d=m.call(i,d,c.normalize(),n?n.status:void 0)}),c.normalize(),d}function $v(r){return!!(r&&r.__CANCEL__)}function Br(r,n,i){Oe.call(this,r??"canceled",Oe.ERR_CANCELED,n,i),this.name="CanceledError"}ne.inherits(Br,Oe,{__CANCEL__:!0});function Xv(r,n,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?r(i):n(new Oe("Request failed with status code "+i.status,[Oe.ERR_BAD_REQUEST,Oe.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Mw(r){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return n&&n[1]||""}function Lw(r,n){r=r||10;const i=new Array(r),o=new Array(r);let c=0,d=0,h;return n=n!==void 0?n:1e3,function(g){const p=Date.now(),v=o[d];h||(h=p),i[c]=g,o[c]=p;let x=d,w=0;for(;x!==c;)w+=i[x++],x=x%r;if(c=(c+1)%r,c===d&&(d=(d+1)%r),p-h<n)return;const A=v&&p-v;return A?Math.round(w*1e3/A):void 0}}function Uw(r,n){let i=0,o=1e3/n,c,d;const h=(p,v=Date.now())=>{i=v,c=null,d&&(clearTimeout(d),d=null),r.apply(null,p)};return[(...p)=>{const v=Date.now(),x=v-i;x>=o?h(p,v):(c=p,d||(d=setTimeout(()=>{d=null,h(c)},o-x)))},()=>c&&h(c)]}const Il=(r,n,i=3)=>{let o=0;const c=Lw(50,250);return Uw(d=>{const h=d.loaded,m=d.lengthComputable?d.total:void 0,g=h-o,p=c(g),v=h<=m;o=h;const x={loaded:h,total:m,progress:m?h/m:void 0,bytes:g,rate:p||void 0,estimated:p&&m&&v?(m-h)/p:void 0,event:d,lengthComputable:m!=null,[n?"download":"upload"]:!0};r(x)},i)},Dg=(r,n)=>{const i=r!=null;return[o=>n[0]({lengthComputable:i,total:r,loaded:o}),n[1]]},kg=r=>(...n)=>ne.asap(()=>r(...n)),zw=Lt.hasStandardBrowserEnv?((r,n)=>i=>(i=new URL(i,Lt.origin),r.protocol===i.protocol&&r.host===i.host&&(n||r.port===i.port)))(new URL(Lt.origin),Lt.navigator&&/(msie|trident)/i.test(Lt.navigator.userAgent)):()=>!0,Iw=Lt.hasStandardBrowserEnv?{write(r,n,i,o,c,d){const h=[r+"="+encodeURIComponent(n)];ne.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),ne.isString(o)&&h.push("path="+o),ne.isString(c)&&h.push("domain="+c),d===!0&&h.push("secure"),document.cookie=h.join("; ")},read(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bw(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Hw(r,n){return n?r.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):r}function Vv(r,n,i){let o=!Bw(n);return r&&(o||i==!1)?Hw(r,n):n}const Mg=r=>r instanceof Ft?{...r}:r;function Fn(r,n){n=n||{};const i={};function o(p,v,x,w){return ne.isPlainObject(p)&&ne.isPlainObject(v)?ne.merge.call({caseless:w},p,v):ne.isPlainObject(v)?ne.merge({},v):ne.isArray(v)?v.slice():v}function c(p,v,x,w){if(ne.isUndefined(v)){if(!ne.isUndefined(p))return o(void 0,p,x,w)}else return o(p,v,x,w)}function d(p,v){if(!ne.isUndefined(v))return o(void 0,v)}function h(p,v){if(ne.isUndefined(v)){if(!ne.isUndefined(p))return o(void 0,p)}else return o(void 0,v)}function m(p,v,x){if(x in n)return o(p,v);if(x in r)return o(void 0,p)}const g={url:d,method:d,data:d,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(p,v,x)=>c(Mg(p),Mg(v),x,!0)};return ne.forEach(Object.keys(Object.assign({},r,n)),function(v){const x=g[v]||c,w=x(r[v],n[v],v);ne.isUndefined(w)&&x!==m||(i[v]=w)}),i}const Yv=r=>{const n=Fn({},r);let{data:i,withXSRFToken:o,xsrfHeaderName:c,xsrfCookieName:d,headers:h,auth:m}=n;n.headers=h=Ft.from(h),n.url=qv(Vv(n.baseURL,n.url,n.allowAbsoluteUrls),r.params,r.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let g;if(ne.isFormData(i)){if(Lt.hasStandardBrowserEnv||Lt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((g=h.getContentType())!==!1){const[p,...v]=g?g.split(";").map(x=>x.trim()).filter(Boolean):[];h.setContentType([p||"multipart/form-data",...v].join("; "))}}if(Lt.hasStandardBrowserEnv&&(o&&ne.isFunction(o)&&(o=o(n)),o||o!==!1&&zw(n.url))){const p=c&&d&&Iw.read(d);p&&h.set(c,p)}return n},qw=typeof XMLHttpRequest<"u",Pw=qw&&function(r){return new Promise(function(i,o){const c=Yv(r);let d=c.data;const h=Ft.from(c.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:p}=c,v,x,w,A,_;function T(){A&&A(),_&&_(),c.cancelToken&&c.cancelToken.unsubscribe(v),c.signal&&c.signal.removeEventListener("abort",v)}let S=new XMLHttpRequest;S.open(c.method.toUpperCase(),c.url,!0),S.timeout=c.timeout;function C(){if(!S)return;const O=Ft.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),R={data:!m||m==="text"||m==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:O,config:r,request:S};Xv(function(B){i(B),T()},function(B){o(B),T()},R),S=null}"onloadend"in S?S.onloadend=C:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(C)},S.onabort=function(){S&&(o(new Oe("Request aborted",Oe.ECONNABORTED,r,S)),S=null)},S.onerror=function(){o(new Oe("Network Error",Oe.ERR_NETWORK,r,S)),S=null},S.ontimeout=function(){let M=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const R=c.transitional||Pv;c.timeoutErrorMessage&&(M=c.timeoutErrorMessage),o(new Oe(M,R.clarifyTimeoutError?Oe.ETIMEDOUT:Oe.ECONNABORTED,r,S)),S=null},d===void 0&&h.setContentType(null),"setRequestHeader"in S&&ne.forEach(h.toJSON(),function(M,R){S.setRequestHeader(R,M)}),ne.isUndefined(c.withCredentials)||(S.withCredentials=!!c.withCredentials),m&&m!=="json"&&(S.responseType=c.responseType),p&&([w,_]=Il(p,!0),S.addEventListener("progress",w)),g&&S.upload&&([x,A]=Il(g),S.upload.addEventListener("progress",x),S.upload.addEventListener("loadend",A)),(c.cancelToken||c.signal)&&(v=O=>{S&&(o(!O||O.type?new Br(null,r,S):O),S.abort(),S=null)},c.cancelToken&&c.cancelToken.subscribe(v),c.signal&&(c.signal.aborted?v():c.signal.addEventListener("abort",v)));const E=Mw(c.url);if(E&&Lt.protocols.indexOf(E)===-1){o(new Oe("Unsupported protocol "+E+":",Oe.ERR_BAD_REQUEST,r));return}S.send(d||null)})},Gw=(r,n)=>{const{length:i}=r=r?r.filter(Boolean):[];if(n||i){let o=new AbortController,c;const d=function(p){if(!c){c=!0,m();const v=p instanceof Error?p:this.reason;o.abort(v instanceof Oe?v:new Br(v instanceof Error?v.message:v))}};let h=n&&setTimeout(()=>{h=null,d(new Oe(`timeout ${n} of ms exceeded`,Oe.ETIMEDOUT))},n);const m=()=>{r&&(h&&clearTimeout(h),h=null,r.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),r=null)};r.forEach(p=>p.addEventListener("abort",d));const{signal:g}=o;return g.unsubscribe=()=>ne.asap(m),g}},$w=function*(r,n){let i=r.byteLength;if(i<n){yield r;return}let o=0,c;for(;o<i;)c=o+n,yield r.slice(o,c),o=c},Xw=async function*(r,n){for await(const i of Vw(r))yield*$w(i,n)},Vw=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const n=r.getReader();try{for(;;){const{done:i,value:o}=await n.read();if(i)break;yield o}}finally{await n.cancel()}},Lg=(r,n,i,o)=>{const c=Xw(r,n);let d=0,h,m=g=>{h||(h=!0,o&&o(g))};return new ReadableStream({async pull(g){try{const{done:p,value:v}=await c.next();if(p){m(),g.close();return}let x=v.byteLength;if(i){let w=d+=x;i(w)}g.enqueue(new Uint8Array(v))}catch(p){throw m(p),p}},cancel(g){return m(g),c.return()}},{highWaterMark:2})},Wl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Fv=Wl&&typeof ReadableStream=="function",Yw=Wl&&(typeof TextEncoder=="function"?(r=>n=>r.encode(n))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Qv=(r,...n)=>{try{return!!r(...n)}catch{return!1}},Fw=Fv&&Qv(()=>{let r=!1;const n=new Request(Lt.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!n}),Ug=64*1024,$d=Fv&&Qv(()=>ne.isReadableStream(new Response("").body)),Bl={stream:$d&&(r=>r.body)};Wl&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Bl[n]&&(Bl[n]=ne.isFunction(r[n])?i=>i[n]():(i,o)=>{throw new Oe(`Response type '${n}' is not supported`,Oe.ERR_NOT_SUPPORT,o)})})})(new Response);const Qw=async r=>{if(r==null)return 0;if(ne.isBlob(r))return r.size;if(ne.isSpecCompliantForm(r))return(await new Request(Lt.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(r)||ne.isArrayBuffer(r))return r.byteLength;if(ne.isURLSearchParams(r)&&(r=r+""),ne.isString(r))return(await Yw(r)).byteLength},Ww=async(r,n)=>{const i=ne.toFiniteNumber(r.getContentLength());return i??Qw(n)},Jw=Wl&&(async r=>{let{url:n,method:i,data:o,signal:c,cancelToken:d,timeout:h,onDownloadProgress:m,onUploadProgress:g,responseType:p,headers:v,withCredentials:x="same-origin",fetchOptions:w}=Yv(r);p=p?(p+"").toLowerCase():"text";let A=Gw([c,d&&d.toAbortSignal()],h),_;const T=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let S;try{if(g&&Fw&&i!=="get"&&i!=="head"&&(S=await Ww(v,o))!==0){let R=new Request(n,{method:"POST",body:o,duplex:"half"}),L;if(ne.isFormData(o)&&(L=R.headers.get("content-type"))&&v.setContentType(L),R.body){const[B,D]=Dg(S,Il(kg(g)));o=Lg(R.body,Ug,B,D)}}ne.isString(x)||(x=x?"include":"omit");const C="credentials"in Request.prototype;_=new Request(n,{...w,signal:A,method:i.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:C?x:void 0});let E=await fetch(_);const O=$d&&(p==="stream"||p==="response");if($d&&(m||O&&T)){const R={};["status","statusText","headers"].forEach(z=>{R[z]=E[z]});const L=ne.toFiniteNumber(E.headers.get("content-length")),[B,D]=m&&Dg(L,Il(kg(m),!0))||[];E=new Response(Lg(E.body,Ug,B,()=>{D&&D(),T&&T()}),R)}p=p||"text";let M=await Bl[ne.findKey(Bl,p)||"text"](E,r);return!O&&T&&T(),await new Promise((R,L)=>{Xv(R,L,{data:M,headers:Ft.from(E.headers),status:E.status,statusText:E.statusText,config:r,request:_})})}catch(C){throw T&&T(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Oe("Network Error",Oe.ERR_NETWORK,r,_),{cause:C.cause||C}):Oe.from(C,C&&C.code,r,_)}}),Xd={http:fw,xhr:Pw,fetch:Jw};ne.forEach(Xd,(r,n)=>{if(r){try{Object.defineProperty(r,"name",{value:n})}catch{}Object.defineProperty(r,"adapterName",{value:n})}});const zg=r=>`- ${r}`,Zw=r=>ne.isFunction(r)||r===null||r===!1,Wv={getAdapter:r=>{r=ne.isArray(r)?r:[r];const{length:n}=r;let i,o;const c={};for(let d=0;d<n;d++){i=r[d];let h;if(o=i,!Zw(i)&&(o=Xd[(h=String(i)).toLowerCase()],o===void 0))throw new Oe(`Unknown adapter '${h}'`);if(o)break;c[h||"#"+d]=o}if(!o){const d=Object.entries(c).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=n?d.length>1?`since :
`+d.map(zg).join(`
`):" "+zg(d[0]):"as no adapter specified";throw new Oe("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return o},adapters:Xd};function Au(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Br(null,r)}function Ig(r){return Au(r),r.headers=Ft.from(r.headers),r.data=Ou.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Wv.getAdapter(r.adapter||ai.adapter)(r).then(function(o){return Au(r),o.data=Ou.call(r,r.transformResponse,o),o.headers=Ft.from(o.headers),o},function(o){return $v(o)||(Au(r),o&&o.response&&(o.response.data=Ou.call(r,r.transformResponse,o.response),o.response.headers=Ft.from(o.response.headers))),Promise.reject(o)})}const Jv="1.9.0",Jl={};["object","boolean","number","function","string","symbol"].forEach((r,n)=>{Jl[r]=function(o){return typeof o===r||"a"+(n<1?"n ":" ")+r}});const Bg={};Jl.transitional=function(n,i,o){function c(d,h){return"[Axios v"+Jv+"] Transitional option '"+d+"'"+h+(o?". "+o:"")}return(d,h,m)=>{if(n===!1)throw new Oe(c(h," has been removed"+(i?" in "+i:"")),Oe.ERR_DEPRECATED);return i&&!Bg[h]&&(Bg[h]=!0,console.warn(c(h," has been deprecated since v"+i+" and will be removed in the near future"))),n?n(d,h,m):!0}};Jl.spelling=function(n){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${n}`),!0)};function Kw(r,n,i){if(typeof r!="object")throw new Oe("options must be an object",Oe.ERR_BAD_OPTION_VALUE);const o=Object.keys(r);let c=o.length;for(;c-- >0;){const d=o[c],h=n[d];if(h){const m=r[d],g=m===void 0||h(m,d,r);if(g!==!0)throw new Oe("option "+d+" must be "+g,Oe.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Oe("Unknown option "+d,Oe.ERR_BAD_OPTION)}}const kl={assertOptions:Kw,validators:Jl},ka=kl.validators;let Vn=class{constructor(n){this.defaults=n||{},this.interceptors={request:new Ag,response:new Ag}}async request(n,i){try{return await this._request(n,i)}catch(o){if(o instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{o.stack?d&&!String(o.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+d):o.stack=d}catch{}}throw o}}_request(n,i){typeof n=="string"?(i=i||{},i.url=n):i=n||{},i=Fn(this.defaults,i);const{transitional:o,paramsSerializer:c,headers:d}=i;o!==void 0&&kl.assertOptions(o,{silentJSONParsing:ka.transitional(ka.boolean),forcedJSONParsing:ka.transitional(ka.boolean),clarifyTimeoutError:ka.transitional(ka.boolean)},!1),c!=null&&(ne.isFunction(c)?i.paramsSerializer={serialize:c}:kl.assertOptions(c,{encode:ka.function,serialize:ka.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),kl.assertOptions(i,{baseUrl:ka.spelling("baseURL"),withXsrfToken:ka.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let h=d&&ne.merge(d.common,d[i.method]);d&&ne.forEach(["delete","get","head","post","put","patch","common"],_=>{delete d[_]}),i.headers=Ft.concat(h,d);const m=[];let g=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(i)===!1||(g=g&&T.synchronous,m.unshift(T.fulfilled,T.rejected))});const p=[];this.interceptors.response.forEach(function(T){p.push(T.fulfilled,T.rejected)});let v,x=0,w;if(!g){const _=[Ig.bind(this),void 0];for(_.unshift.apply(_,m),_.push.apply(_,p),w=_.length,v=Promise.resolve(i);x<w;)v=v.then(_[x++],_[x++]);return v}w=m.length;let A=i;for(x=0;x<w;){const _=m[x++],T=m[x++];try{A=_(A)}catch(S){T.call(this,S);break}}try{v=Ig.call(this,A)}catch(_){return Promise.reject(_)}for(x=0,w=p.length;x<w;)v=v.then(p[x++],p[x++]);return v}getUri(n){n=Fn(this.defaults,n);const i=Vv(n.baseURL,n.url,n.allowAbsoluteUrls);return qv(i,n.params,n.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(n){Vn.prototype[n]=function(i,o){return this.request(Fn(o||{},{method:n,url:i,data:(o||{}).data}))}});ne.forEach(["post","put","patch"],function(n){function i(o){return function(d,h,m){return this.request(Fn(m||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:d,data:h}))}}Vn.prototype[n]=i(),Vn.prototype[n+"Form"]=i(!0)});let ej=class Zv{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(d){i=d});const o=this;this.promise.then(c=>{if(!o._listeners)return;let d=o._listeners.length;for(;d-- >0;)o._listeners[d](c);o._listeners=null}),this.promise.then=c=>{let d;const h=new Promise(m=>{o.subscribe(m),d=m}).then(c);return h.cancel=function(){o.unsubscribe(d)},h},n(function(d,h,m){o.reason||(o.reason=new Br(d,h,m),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const n=new AbortController,i=o=>{n.abort(o)};return this.subscribe(i),n.signal.unsubscribe=()=>this.unsubscribe(i),n.signal}static source(){let n;return{token:new Zv(function(c){n=c}),cancel:n}}};function tj(r){return function(i){return r.apply(null,i)}}function aj(r){return ne.isObject(r)&&r.isAxiosError===!0}const Vd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vd).forEach(([r,n])=>{Vd[n]=r});function Kv(r){const n=new Vn(r),i=Ov(Vn.prototype.request,n);return ne.extend(i,Vn.prototype,n,{allOwnKeys:!0}),ne.extend(i,n,null,{allOwnKeys:!0}),i.create=function(c){return Kv(Fn(r,c))},i}const ge=Kv(ai);ge.Axios=Vn;ge.CanceledError=Br;ge.CancelToken=ej;ge.isCancel=$v;ge.VERSION=Jv;ge.toFormData=Ql;ge.AxiosError=Oe;ge.Cancel=ge.CanceledError;ge.all=function(n){return Promise.all(n)};ge.spread=tj;ge.isAxiosError=aj;ge.mergeConfig=Fn;ge.AxiosHeaders=Ft;ge.formToJSON=r=>Gv(ne.isHTMLForm(r)?new FormData(r):r);ge.getAdapter=Wv.getAdapter;ge.HttpStatusCode=Vd;ge.default=ge;const{Axios:D3,AxiosError:k3,CanceledError:M3,isCancel:L3,CancelToken:U3,VERSION:z3,all:I3,Cancel:B3,isAxiosError:H3,spread:q3,toFormData:P3,AxiosHeaders:G3,HttpStatusCode:$3,formToJSON:X3,getAdapter:V3,mergeConfig:Y3}=ge;var Vs={},Hg;function nj(){if(Hg)return Vs;Hg=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.parse=h,Vs.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,c=Object.prototype.toString,d=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,A){const _=new d,T=w.length;if(T<2)return _;const S=(A==null?void 0:A.decode)||v;let C=0;do{const E=w.indexOf("=",C);if(E===-1)break;const O=w.indexOf(";",C),M=O===-1?T:O;if(E>M){C=w.lastIndexOf(";",E-1)+1;continue}const R=m(w,C,E),L=g(w,E,R),B=w.slice(R,L);if(_[B]===void 0){let D=m(w,E+1,M),z=g(w,M,D);const te=S(w.slice(D,z));_[B]=te}C=M+1}while(C<T);return _}function m(w,A,_){do{const T=w.charCodeAt(A);if(T!==32&&T!==9)return A}while(++A<_);return _}function g(w,A,_){for(;A>_;){const T=w.charCodeAt(--A);if(T!==32&&T!==9)return A+1}return _}function p(w,A,_){const T=(_==null?void 0:_.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const S=T(A);if(!n.test(S))throw new TypeError(`argument val is invalid: ${A}`);let C=w+"="+S;if(!_)return C;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);C+="; Max-Age="+_.maxAge}if(_.domain){if(!i.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);C+="; Domain="+_.domain}if(_.path){if(!o.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);C+="; Path="+_.path}if(_.expires){if(!x(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);C+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(C+="; HttpOnly"),_.secure&&(C+="; Secure"),_.partitioned&&(C+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return C}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function x(w){return c.call(w)==="[object Date]"}return Vs}nj();var qg="popstate";function rj(r={}){function n(o,c){let{pathname:d,search:h,hash:m}=o.location;return Yd("",{pathname:d,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){return typeof c=="string"?c:Zs(c)}return ij(n,i,null,r)}function st(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Ta(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function sj(){return Math.random().toString(36).substring(2,10)}function Pg(r,n){return{usr:r.state,key:r.key,idx:n}}function Yd(r,n,i=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?Hr(n):n,state:i,key:n&&n.key||o||sj()}}function Zs({pathname:r="/",search:n="",hash:i=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Hr(r){let n={};if(r){let i=r.indexOf("#");i>=0&&(n.hash=r.substring(i),r=r.substring(0,i));let o=r.indexOf("?");o>=0&&(n.search=r.substring(o),r=r.substring(0,o)),r&&(n.pathname=r)}return n}function ij(r,n,i,o={}){let{window:c=document.defaultView,v5Compat:d=!1}=o,h=c.history,m="POP",g=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function x(){m="POP";let S=v(),C=S==null?null:S-p;p=S,g&&g({action:m,location:T.location,delta:C})}function w(S,C){m="PUSH";let E=Yd(T.location,S,C);p=v()+1;let O=Pg(E,p),M=T.createHref(E);try{h.pushState(O,"",M)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;c.location.assign(M)}d&&g&&g({action:m,location:T.location,delta:1})}function A(S,C){m="REPLACE";let E=Yd(T.location,S,C);p=v();let O=Pg(E,p),M=T.createHref(E);h.replaceState(O,"",M),d&&g&&g({action:m,location:T.location,delta:0})}function _(S){return lj(S)}let T={get action(){return m},get location(){return r(c,h)},listen(S){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(qg,x),g=S,()=>{c.removeEventListener(qg,x),g=null}},createHref(S){return n(c,S)},createURL:_,encodeLocation(S){let C=_(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:A,go(S){return h.go(S)}};return T}function lj(r,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),st(i,"No window.location.(origin|href) available to create URL");let o=typeof r=="string"?r:Zs(r);return o=o.replace(/ $/,"%20"),!n&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function ey(r,n,i="/"){return oj(r,n,i,!1)}function oj(r,n,i,o){let c=typeof n=="string"?Hr(n):n,d=Ka(c.pathname||"/",i);if(d==null)return null;let h=ty(r);cj(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=bj(d);m=yj(h[g],p,o)}return m}function ty(r,n=[],i=[],o=""){let c=(d,h,m)=>{let g={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};g.relativePath.startsWith("/")&&(st(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length));let p=Ja([o,g.relativePath]),v=i.concat(g);d.children&&d.children.length>0&&(st(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ty(d.children,n,v,p)),!(d.path==null&&!d.index)&&n.push({path:p,score:gj(p,d.index),routesMeta:v})};return r.forEach((d,h)=>{var m;if(d.path===""||!((m=d.path)!=null&&m.includes("?")))c(d,h);else for(let g of ay(d.path))c(d,h,g)}),n}function ay(r){let n=r.split("/");if(n.length===0)return[];let[i,...o]=n,c=i.endsWith("?"),d=i.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let h=ay(o.join("/")),m=[];return m.push(...h.map(g=>g===""?d:[d,g].join("/"))),c&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function cj(r){r.sort((n,i)=>n.score!==i.score?i.score-n.score:vj(n.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var uj=/^:[\w-]+$/,dj=3,fj=2,hj=1,mj=10,pj=-2,Gg=r=>r==="*";function gj(r,n){let i=r.split("/"),o=i.length;return i.some(Gg)&&(o+=pj),n&&(o+=fj),i.filter(c=>!Gg(c)).reduce((c,d)=>c+(uj.test(d)?dj:d===""?hj:mj),o)}function vj(r,n){return r.length===n.length&&r.slice(0,-1).every((o,c)=>o===n[c])?r[r.length-1]-n[n.length-1]:0}function yj(r,n,i=!1){let{routesMeta:o}=r,c={},d="/",h=[];for(let m=0;m<o.length;++m){let g=o[m],p=m===o.length-1,v=d==="/"?n:n.slice(d.length)||"/",x=Hl({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),w=g.route;if(!x&&p&&i&&!o[o.length-1].route.index&&(x=Hl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!x)return null;Object.assign(c,x.params),h.push({params:c,pathname:Ja([d,x.pathname]),pathnameBase:Sj(Ja([d,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(d=Ja([d,x.pathnameBase]))}return h}function Hl(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,o]=xj(r.path,r.caseSensitive,r.end),c=n.match(i);if(!c)return null;let d=c[0],h=d.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:o.reduce((p,{paramName:v,isOptional:x},w)=>{if(v==="*"){let _=m[w]||"";h=d.slice(0,d.length-_.length).replace(/(.)\/+$/,"$1")}const A=m[w];return x&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:h,pattern:r}}function xj(r,n=!1,i=!0){Ta(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(o.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),o]}function bj(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Ta(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function Ka(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,o=r.charAt(i);return o&&o!=="/"?null:r.slice(i)||"/"}function wj(r,n="/"){let{pathname:i,search:o="",hash:c=""}=typeof r=="string"?Hr(r):r;return{pathname:i?i.startsWith("/")?i:jj(i,n):n,search:Tj(o),hash:Ej(c)}}function jj(r,n){let i=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Ru(r,n,i,o){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nj(r){return r.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function df(r){let n=Nj(r);return n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase)}function ff(r,n,i,o=!1){let c;typeof r=="string"?c=Hr(r):(c={...r},st(!c.pathname||!c.pathname.includes("?"),Ru("?","pathname","search",c)),st(!c.pathname||!c.pathname.includes("#"),Ru("#","pathname","hash",c)),st(!c.search||!c.search.includes("#"),Ru("#","search","hash",c)));let d=r===""||c.pathname==="",h=d?"/":c.pathname,m;if(h==null)m=i;else{let x=n.length-1;if(!o&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),x-=1;c.pathname=w.join("/")}m=x>=0?n[x]:"/"}let g=wj(c,m),p=h&&h!=="/"&&h.endsWith("/"),v=(d||h===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var Ja=r=>r.join("/").replace(/\/\/+/g,"/"),Sj=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Tj=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ej=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Cj(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var ny=["POST","PUT","PATCH","DELETE"];new Set(ny);var _j=["GET",...ny];new Set(_j);var qr=b.createContext(null);qr.displayName="DataRouter";var Zl=b.createContext(null);Zl.displayName="DataRouterState";var ry=b.createContext({isTransitioning:!1});ry.displayName="ViewTransition";var Oj=b.createContext(new Map);Oj.displayName="Fetchers";var Aj=b.createContext(null);Aj.displayName="Await";var Ca=b.createContext(null);Ca.displayName="Navigation";var ni=b.createContext(null);ni.displayName="Location";var ya=b.createContext({outlet:null,matches:[],isDataRoute:!1});ya.displayName="Route";var hf=b.createContext(null);hf.displayName="RouteError";function Rj(r,{relative:n}={}){st(Pr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=b.useContext(Ca),{hash:c,pathname:d,search:h}=ri(r,{relative:n}),m=d;return i!=="/"&&(m=d==="/"?i:Ja([i,d])),o.createHref({pathname:m,search:h,hash:c})}function Pr(){return b.useContext(ni)!=null}function Wt(){return st(Pr(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(ni).location}var sy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iy(r){b.useContext(Ca).static||b.useLayoutEffect(r)}function Ut(){let{isDataRoute:r}=b.useContext(ya);return r?Vj():Dj()}function Dj(){st(Pr(),"useNavigate() may be used only in the context of a <Router> component.");let r=b.useContext(qr),{basename:n,navigator:i}=b.useContext(Ca),{matches:o}=b.useContext(ya),{pathname:c}=Wt(),d=JSON.stringify(df(o)),h=b.useRef(!1);return iy(()=>{h.current=!0}),b.useCallback((g,p={})=>{if(Ta(h.current,sy),!h.current)return;if(typeof g=="number"){i.go(g);return}let v=ff(g,JSON.parse(d),c,p.relative==="path");r==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:Ja([n,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[n,i,d,c,r])}var kj=b.createContext(null);function Mj(r){let n=b.useContext(ya).outlet;return n&&b.createElement(kj.Provider,{value:r},n)}function ly(){let{matches:r}=b.useContext(ya),n=r[r.length-1];return n?n.params:{}}function ri(r,{relative:n}={}){let{matches:i}=b.useContext(ya),{pathname:o}=Wt(),c=JSON.stringify(df(i));return b.useMemo(()=>ff(r,JSON.parse(c),o,n==="path"),[r,c,o,n])}function Lj(r,n){return oy(r,n)}function oy(r,n,i,o){var E;st(Pr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c,static:d}=b.useContext(Ca),{matches:h}=b.useContext(ya),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",x=m&&m.route;{let O=x&&x.path||"";cy(p,!x||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let w=Wt(),A;if(n){let O=typeof n=="string"?Hr(n):n;st(v==="/"||((E=O.pathname)==null?void 0:E.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${O.pathname}" was given in the \`location\` prop.`),A=O}else A=w;let _=A.pathname||"/",T=_;if(v!=="/"){let O=v.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=!d&&i&&i.matches&&i.matches.length>0?i.matches:ey(r,{pathname:T});Ta(x||S!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ta(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Hj(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},g,O.params),pathname:Ja([v,c.encodeLocation?c.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?v:Ja([v,c.encodeLocation?c.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),h,i,o);return n&&C?b.createElement(ni.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},C):C}function Uj(){let r=Xj(),n=Cj(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:d},"ErrorBoundary")," or"," ",b.createElement("code",{style:d},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},n),i?b.createElement("pre",{style:c},i):null,h)}var zj=b.createElement(Uj,null),Ij=class extends b.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?b.createElement(ya.Provider,{value:this.props.routeContext},b.createElement(hf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Bj({routeContext:r,match:n,children:i}){let o=b.useContext(qr);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(ya.Provider,{value:r},i)}function Hj(r,n=[],i=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,d=i==null?void 0:i.errors;if(d!=null){let g=c.findIndex(p=>p.route.id&&(d==null?void 0:d[p.route.id])!==void 0);st(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let h=!1,m=-1;if(i)for(let g=0;g<c.length;g++){let p=c[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:v,errors:x}=i,w=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,p,v)=>{let x,w=!1,A=null,_=null;i&&(x=d&&p.route.id?d[p.route.id]:void 0,A=p.route.errorElement||zj,h&&(m<0&&v===0?(cy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):m===v&&(w=!0,_=p.route.hydrateFallbackElement||null)));let T=n.concat(c.slice(0,v+1)),S=()=>{let C;return x?C=A:w?C=_:p.route.Component?C=b.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=g,b.createElement(Bj,{match:p,routeContext:{outlet:g,matches:T,isDataRoute:i!=null},children:C})};return i&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?b.createElement(Ij,{location:i.location,revalidation:i.revalidation,component:A,error:x,children:S(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):S()},null)}function mf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qj(r){let n=b.useContext(qr);return st(n,mf(r)),n}function Pj(r){let n=b.useContext(Zl);return st(n,mf(r)),n}function Gj(r){let n=b.useContext(ya);return st(n,mf(r)),n}function pf(r){let n=Gj(r),i=n.matches[n.matches.length-1];return st(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function $j(){return pf("useRouteId")}function Xj(){var o;let r=b.useContext(hf),n=Pj("useRouteError"),i=pf("useRouteError");return r!==void 0?r:(o=n.errors)==null?void 0:o[i]}function Vj(){let{router:r}=qj("useNavigate"),n=pf("useNavigate"),i=b.useRef(!1);return iy(()=>{i.current=!0}),b.useCallback(async(c,d={})=>{Ta(i.current,sy),i.current&&(typeof c=="number"?r.navigate(c):await r.navigate(c,{fromRouteId:n,...d}))},[r,n])}var $g={};function cy(r,n,i){!n&&!$g[r]&&($g[r]=!0,Ta(!1,i))}b.memo(Yj);function Yj({routes:r,future:n,state:i}){return oy(r,void 0,i,n)}function Fd({to:r,replace:n,state:i,relative:o}){st(Pr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=b.useContext(Ca);Ta(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=b.useContext(ya),{pathname:h}=Wt(),m=Ut(),g=ff(r,df(d),h,o==="path"),p=JSON.stringify(g);return b.useEffect(()=>{m(JSON.parse(p),{replace:n,state:i,relative:o})},[m,p,o,n,i]),null}function Fj(r){return Mj(r.context)}function ht(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qj({basename:r="/",children:n=null,location:i,navigationType:o="POP",navigator:c,static:d=!1}){st(!Pr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:h,navigator:c,static:d,future:{}}),[h,c,d]);typeof i=="string"&&(i=Hr(i));let{pathname:g="/",search:p="",hash:v="",state:x=null,key:w="default"}=i,A=b.useMemo(()=>{let _=Ka(g,h);return _==null?null:{location:{pathname:_,search:p,hash:v,state:x,key:w},navigationType:o}},[h,g,p,v,x,w,o]);return Ta(A!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:b.createElement(Ca.Provider,{value:m},b.createElement(ni.Provider,{children:n,value:A}))}function Wj({children:r,location:n}){return Lj(Qd(r),n)}function Qd(r,n=[]){let i=[];return b.Children.forEach(r,(o,c)=>{if(!b.isValidElement(o))return;let d=[...n,c];if(o.type===b.Fragment){i.push.apply(i,Qd(o.props.children,d));return}st(o.type===ht,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=Qd(o.props.children,d)),i.push(h)}),i}var Ml="get",Ll="application/x-www-form-urlencoded";function Kl(r){return r!=null&&typeof r.tagName=="string"}function Jj(r){return Kl(r)&&r.tagName.toLowerCase()==="button"}function Zj(r){return Kl(r)&&r.tagName.toLowerCase()==="form"}function Kj(r){return Kl(r)&&r.tagName.toLowerCase()==="input"}function eN(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function tN(r,n){return r.button===0&&(!n||n==="_self")&&!eN(r)}var wl=null;function aN(){if(wl===null)try{new FormData(document.createElement("form"),0),wl=!1}catch{wl=!0}return wl}var nN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Du(r){return r!=null&&!nN.has(r)?(Ta(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ll}"`),null):r}function rN(r,n){let i,o,c,d,h;if(Zj(r)){let m=r.getAttribute("action");o=m?Ka(m,n):null,i=r.getAttribute("method")||Ml,c=Du(r.getAttribute("enctype"))||Ll,d=new FormData(r)}else if(Jj(r)||Kj(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(o=g?Ka(g,n):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||Ml,c=Du(r.getAttribute("formenctype"))||Du(m.getAttribute("enctype"))||Ll,d=new FormData(m,r),!aN()){let{name:p,type:v,value:x}=r;if(v==="image"){let w=p?`${p}.`:"";d.append(`${w}x`,"0"),d.append(`${w}y`,"0")}else p&&d.append(p,x)}}else{if(Kl(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ml,o=null,c=Ll,h=r}return d&&c==="text/plain"&&(h=d,d=void 0),{action:o,method:i.toLowerCase(),encType:c,formData:d,body:h}}function gf(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}async function sN(r,n){if(r.id in n)return n[r.id];try{let i=await import(r.module);return n[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iN(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function lN(r,n,i){let o=await Promise.all(r.map(async c=>{let d=n.routes[c.route.id];if(d){let h=await sN(d,i);return h.links?h.links():[]}return[]}));return dN(o.flat(1).filter(iN).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Xg(r,n,i,o,c,d){let h=(g,p)=>i[p]?g.route.id!==i[p].route.id:!0,m=(g,p)=>{var v;return i[p].pathname!==g.pathname||((v=i[p].route.path)==null?void 0:v.endsWith("*"))&&i[p].params["*"]!==g.params["*"]};return d==="assets"?n.filter((g,p)=>h(g,p)||m(g,p)):d==="data"?n.filter((g,p)=>{var x;let v=o.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((x=i[0])==null?void 0:x.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function oN(r,n,{includeHydrateFallback:i}={}){return cN(r.map(o=>{let c=n.routes[o.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function cN(r){return[...new Set(r)]}function uN(r){let n={},i=Object.keys(r).sort();for(let o of i)n[o]=r[o];return n}function dN(r,n){let i=new Set;return new Set(n),r.reduce((o,c)=>{let d=JSON.stringify(uN(c));return i.has(d)||(i.add(d),o.push({key:d,link:c})),o},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fN=new Set([100,101,204,205]);function hN(r,n){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":n&&Ka(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function uy(){let r=b.useContext(qr);return gf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function mN(){let r=b.useContext(Zl);return gf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var vf=b.createContext(void 0);vf.displayName="FrameworkContext";function dy(){let r=b.useContext(vf);return gf(r,"You must render this element inside a <HydratedRouter> element"),r}function pN(r,n){let i=b.useContext(vf),[o,c]=b.useState(!1),[d,h]=b.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=n,w=b.useRef(null);b.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let T=C=>{C.forEach(E=>{h(E.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return w.current&&S.observe(w.current),()=>{S.disconnect()}}},[r]),b.useEffect(()=>{if(o){let T=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(T)}}},[o]);let A=()=>{c(!0)},_=()=>{c(!1),h(!1)};return i?r!=="intent"?[d,w,{}]:[d,w,{onFocus:Ys(m,A),onBlur:Ys(g,_),onMouseEnter:Ys(p,A),onMouseLeave:Ys(v,_),onTouchStart:Ys(x,A)}]:[!1,w,{}]}function Ys(r,n){return i=>{r&&r(i),i.defaultPrevented||n(i)}}function gN({page:r,...n}){let{router:i}=uy(),o=b.useMemo(()=>ey(i.routes,r,i.basename),[i.routes,r,i.basename]);return o?b.createElement(yN,{page:r,matches:o,...n}):null}function vN(r){let{manifest:n,routeModules:i}=dy(),[o,c]=b.useState([]);return b.useEffect(()=>{let d=!1;return lN(r,n,i).then(h=>{d||c(h)}),()=>{d=!0}},[r,n,i]),o}function yN({page:r,matches:n,...i}){let o=Wt(),{manifest:c,routeModules:d}=dy(),{basename:h}=uy(),{loaderData:m,matches:g}=mN(),p=b.useMemo(()=>Xg(r,n,g,c,o,"data"),[r,n,g,c,o]),v=b.useMemo(()=>Xg(r,n,g,c,o,"assets"),[r,n,g,c,o]),x=b.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let _=new Set,T=!1;if(n.forEach(C=>{var O;let E=c.routes[C.route.id];!E||!E.hasLoader||(!p.some(M=>M.route.id===C.route.id)&&C.route.id in m&&((O=d[C.route.id])!=null&&O.shouldRevalidate)||E.hasClientLoader?T=!0:_.add(C.route.id))}),_.size===0)return[];let S=hN(r,h);return T&&_.size>0&&S.searchParams.set("_routes",n.filter(C=>_.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[h,m,o,c,p,n,r,d]),w=b.useMemo(()=>oN(v,c),[v,c]),A=vN(v);return b.createElement(b.Fragment,null,x.map(_=>b.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...i})),w.map(_=>b.createElement("link",{key:_,rel:"modulepreload",href:_,...i})),A.map(({key:_,link:T})=>b.createElement("link",{key:_,...T})))}function xN(...r){return n=>{r.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var fy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fy&&(window.__reactRouterVersion="7.6.0")}catch{}function bN({basename:r,children:n,window:i}){let o=b.useRef();o.current==null&&(o.current=rj({window:i,v5Compat:!0}));let c=o.current,[d,h]=b.useState({action:c.action,location:c.location}),m=b.useCallback(g=>{b.startTransition(()=>h(g))},[h]);return b.useLayoutEffect(()=>c.listen(m),[c,m]),b.createElement(Qj,{basename:r,children:n,location:d.location,navigationType:d.action,navigator:c})}var hy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wa=b.forwardRef(function({onClick:n,discover:i="render",prefetch:o="none",relative:c,reloadDocument:d,replace:h,state:m,target:g,to:p,preventScrollReset:v,viewTransition:x,...w},A){let{basename:_}=b.useContext(Ca),T=typeof p=="string"&&hy.test(p),S,C=!1;if(typeof p=="string"&&T&&(S=p,fy))try{let z=new URL(window.location.href),te=p.startsWith("//")?new URL(z.protocol+p):new URL(p),ie=Ka(te.pathname,_);te.origin===z.origin&&ie!=null?p=ie+te.search+te.hash:C=!0}catch{Ta(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Rj(p,{relative:c}),[O,M,R]=pN(o,w),L=NN(p,{replace:h,state:m,target:g,preventScrollReset:v,relative:c,viewTransition:x});function B(z){n&&n(z),z.defaultPrevented||L(z)}let D=b.createElement("a",{...w,...R,href:S||E,onClick:C||d?n:B,ref:xN(A,M),target:g,"data-discover":!T&&i==="render"?"true":void 0});return O&&!T?b.createElement(b.Fragment,null,D,b.createElement(gN,{page:E})):D});Wa.displayName="Link";var Ul=b.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:o="",end:c=!1,style:d,to:h,viewTransition:m,children:g,...p},v){let x=ri(h,{relative:p.relative}),w=Wt(),A=b.useContext(Zl),{navigator:_,basename:T}=b.useContext(Ca),S=A!=null&&_N(x)&&m===!0,C=_.encodeLocation?_.encodeLocation(x).pathname:x.pathname,E=w.pathname,O=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;i||(E=E.toLowerCase(),O=O?O.toLowerCase():null,C=C.toLowerCase()),O&&T&&(O=Ka(O,T)||O);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let R=E===C||!c&&E.startsWith(C)&&E.charAt(M)==="/",L=O!=null&&(O===C||!c&&O.startsWith(C)&&O.charAt(C.length)==="/"),B={isActive:R,isPending:L,isTransitioning:S},D=R?n:void 0,z;typeof o=="function"?z=o(B):z=[o,R?"active":null,L?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let te=typeof d=="function"?d(B):d;return b.createElement(Wa,{...p,"aria-current":D,className:z,ref:v,style:te,to:h,viewTransition:m},typeof g=="function"?g(B):g)});Ul.displayName="NavLink";var wN=b.forwardRef(({discover:r="render",fetcherKey:n,navigate:i,reloadDocument:o,replace:c,state:d,method:h=Ml,action:m,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:x,...w},A)=>{let _=EN(),T=CN(m,{relative:p}),S=h.toLowerCase()==="get"?"get":"post",C=typeof m=="string"&&hy.test(m),E=O=>{if(g&&g(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,R=(M==null?void 0:M.getAttribute("formmethod"))||h;_(M||O.currentTarget,{fetcherKey:n,method:R,navigate:i,replace:c,state:d,relative:p,preventScrollReset:v,viewTransition:x})};return b.createElement("form",{ref:A,method:S,action:T,onSubmit:o?g:E,...w,"data-discover":!C&&r==="render"?"true":void 0})});wN.displayName="Form";function jN(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function my(r){let n=b.useContext(qr);return st(n,jN(r)),n}function NN(r,{target:n,replace:i,state:o,preventScrollReset:c,relative:d,viewTransition:h}={}){let m=Ut(),g=Wt(),p=ri(r,{relative:d});return b.useCallback(v=>{if(tN(v,n)){v.preventDefault();let x=i!==void 0?i:Zs(g)===Zs(p);m(r,{replace:x,state:o,preventScrollReset:c,relative:d,viewTransition:h})}},[g,m,p,i,o,n,r,c,d,h])}var SN=0,TN=()=>`__${String(++SN)}__`;function EN(){let{router:r}=my("useSubmit"),{basename:n}=b.useContext(Ca),i=$j();return b.useCallback(async(o,c={})=>{let{action:d,method:h,encType:m,formData:g,body:p}=rN(o,n);if(c.navigate===!1){let v=c.fetcherKey||TN();await r.fetch(v,i,c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await r.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,n,i])}function CN(r,{relative:n}={}){let{basename:i}=b.useContext(Ca),o=b.useContext(ya);st(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),d={...ri(r||".",{relative:n})},h=Wt();if(r==null){d.search=h.search;let m=new URLSearchParams(d.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(x=>x).forEach(x=>m.append("index",x));let v=m.toString();d.search=v?`?${v}`:""}}return(!r||r===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:Ja([i,d.pathname])),Zs(d)}function _N(r,n={}){let i=b.useContext(ry);st(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=my("useViewTransitionState"),c=ri(r,{relative:n.relative});if(!i.isTransitioning)return!1;let d=Ka(i.currentLocation.pathname,o)||i.currentLocation.pathname,h=Ka(i.nextLocation.pathname,o)||i.nextLocation.pathname;return Hl(c.pathname,h)!=null||Hl(c.pathname,d)!=null}[...fN];function ON(){const r=Ut(),[n,i]=b.useState(""),[o,c]=b.useState(""),[d,h]=b.useState(""),m=async g=>{g.preventDefault();try{const p=await ge.post("http://localhost:8080/api/auth/login",{email:n,password:o},{withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}),v=p.data.token,x=p.data.role,w=p.data.name;localStorage.setItem("token",v),localStorage.setItem("role",x),localStorage.setItem("username",w),h("Đăng nhập thành công!"),console.log("Token:",v),console.log("Role:",x),console.log("UserName:",w),x==="ADMIN"?window.location.href="/admin":x==="TEACHER"?window.location.href="/teacher":x==="STUDENT"&&(window.location.href="/student")}catch(p){h("Đăng nhập thất bại!"),console.error("Login error:",p)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-2xl",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"mt-6 text-4xl font-bold text-gray-900",children:"Welcome Back"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to your account to continue"})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your email",value:n,onChange:g=>i(g.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your password",value:o,onChange:g=>c(g.target.value)})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out",children:"Sign in"})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx("button",{onClick:()=>r("/signup"),className:"font-medium text-indigo-600 hover:text-indigo-500 transition duration-150 ease-in-out",children:"Sign up"})]})}),d&&s.jsx("div",{className:"mt-4 text-center",children:s.jsx("p",{className:`text-sm font-medium ${d.includes("thành công")?"text-green-600 bg-green-50 p-2 rounded-lg":"text-red-600 bg-red-50 p-2 rounded-lg"}`,children:d})})]})})}const AN=()=>{const r=Ut(),[n,i]=b.useState({email:"",username:"",displayName:"",password:"",role:""}),[o,c]=b.useState({email:"",username:"",displayName:"",password:"",role:""}),[d,h]=b.useState({email:!1,username:!1,displayName:!1,password:!1,role:!1}),[m,g]=b.useState(!1),[p,v]=b.useState(""),x=E=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E),w=E=>/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$/.test(E),A=(E,O)=>{switch(E){case"email":return O?x(O)?"":"Invalid email format":"Email is required";case"username":return O?O.length<3?"Username must be at least 3 characters":"":"Username is required";case"displayName":return O?"":"Display name is required";case"password":return O?w(O)?"":"Password must be minimum eight characters, at least one upper case English letter, one lower case English letter, one number and one special character":"Password is required";case"role":return O?"":"Please select a role";default:return""}};b.useEffect(()=>{(()=>{const O={...o};Object.keys(d).forEach(M=>{const R=M;d[R]&&(O[R]=A(M,n[R]))}),c(O)})()},[n,d,o]);const _=E=>{const{name:O,value:M}=E.target;i(R=>({...R,[O]:M})),h(R=>({...R,[O]:!0}))},T=E=>{const{name:O}=E.target;h(M=>({...M,[O]:!0}))},S=()=>{h({email:!0,username:!0,displayName:!0,password:!0,role:!0});const O={email:"",username:"",displayName:"",password:"",role:""};return Object.keys(n).forEach(M=>{const R=M;O[R]=A(M,n[R])}),c(O),!Object.values(O).some(M=>M!=="")},C=async E=>{if(E.preventDefault(),!!S()){g(!0),v("");try{(await ge.post("http://localhost:8080/api/auth/register",n)).status===200&&(v("Mã OTP đã được gửi đến email của bạn. Vui lòng kiểm tra email."),r("/checkotp",{state:{email:n.email}}))}catch(O){O.response?v(O.response.data):v("An error occurred during registration")}finally{g(!1)}}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-2xl",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"mt-6 text-4xl font-bold text-gray-900",children:"Create your account"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign up to get started"})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:C,noValidate:!0,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:`mt-1 block w-full px-4 py-3 border ${d.email&&o.email?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,placeholder:"Enter your email",value:n.email,onChange:_,onBlur:T}),d.email&&o.email&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),s.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:`mt-1 block w-full px-4 py-3 border ${d.username&&o.username?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,placeholder:"Enter your username",value:n.username,onChange:_,onBlur:T}),d.username&&o.username&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.username})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Display Name"}),s.jsx("input",{id:"displayName",name:"displayName",type:"text",required:!0,className:`mt-1 block w-full px-4 py-3 border ${d.displayName&&o.displayName?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,placeholder:"Enter your display name",value:n.displayName,onChange:_,onBlur:T}),d.displayName&&o.displayName&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.displayName})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:`mt-1 block w-full px-4 py-3 border ${d.password&&o.password?"border-red-500":"border-gray-300"} rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,placeholder:"Enter your password",value:n.password,onChange:_,onBlur:T}),d.password&&o.password&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.password})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Role"}),s.jsxs("select",{id:"role",name:"role",className:`mt-1 block w-full px-4 py-3 border ${d.role&&o.role?"border-red-500":"border-gray-300"} rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,value:n.role,onChange:_,onBlur:T,children:[s.jsx("option",{value:"",children:"Select a role"}),s.jsx("option",{value:"STUDENT",children:"Student"}),s.jsx("option",{value:"TEACHER",children:"Teacher"})]}),d.role&&o.role&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.role})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Đang xử lý...":"Sign up"})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx("button",{onClick:()=>r("/login"),className:"font-medium text-indigo-600 hover:text-indigo-500 transition duration-150 ease-in-out",children:"Sign in"})]})}),p&&s.jsx("div",{className:"mt-4 text-center",children:s.jsx("p",{className:`text-sm font-medium ${p.includes("OTP")?"text-green-600 bg-green-50 p-2 rounded-lg":"text-red-600 bg-red-50 p-2 rounded-lg"}`,children:p})})]})})},RN=()=>s.jsx("h1",{children:"Trang quản trị viên"}),Qn=()=>s.jsxs("div",{className:"sidebar",children:[s.jsxs("div",{className:"nav-links",children:[s.jsxs(Ul,{to:"/teacher",className:({isActive:r})=>r?"nav-item active":"nav-item",children:[s.jsx("div",{className:"nav-icon",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),s.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),s.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),s.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),"Dashboard"]}),s.jsxs(Ul,{to:"/game-management",className:({isActive:r})=>r?"nav-item active":"nav-item",children:[s.jsx("div",{className:"nav-icon",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),s.jsx("circle",{cx:"10",cy:"13",r:"2"}),s.jsx("path",{d:"M14 13h4"}),s.jsx("path",{d:"M14 17h4"}),s.jsx("path",{d:"M10 9H6"})]})}),"Quiz management",s.jsx("span",{className:"icon-container",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M5 12h14"}),s.jsx("path",{d:"M12 5l7 7-7 7"})]})})]}),s.jsxs(Ul,{to:"/class-management",className:({isActive:r})=>r?"nav-item active":"nav-item",children:[s.jsx("div",{className:"nav-icon",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),"Class management",s.jsx("span",{className:"icon-container",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M5 12h14"}),s.jsx("path",{d:"M12 5l7 7-7 7"})]})})]})]}),s.jsxs("div",{className:"upgrade-section",children:[s.jsxs("div",{className:"upgrade-text",children:[s.jsx("span",{className:"upgrade-icon",children:"⭐"}),"Upgrade your account for more features"]}),s.jsxs("button",{className:"upgrade-button",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),s.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"UPGRADE"]})]})]}),py=b.createContext(null),DN=({children:r})=>{const[n,i]=b.useState(localStorage.getItem("token")),[o,c]=b.useState(localStorage.getItem("role")),[d,h]=b.useState(localStorage.getItem("username")),m=Ut();b.useEffect(()=>{n?localStorage.setItem("token",n):localStorage.removeItem("token"),o?localStorage.setItem("role",o):localStorage.removeItem("role"),d?localStorage.setItem("username",d):localStorage.removeItem("username")},[n,o,d]);const g=(v,x,w)=>{i(v),c(x),h(w)},p=()=>{i(null),c(null),h(null),localStorage.clear(),m("/login")};return s.jsx(py.Provider,{value:{token:n,role:o,name:d,login:g,logout:p},children:r})},Qt=()=>{const r=b.useContext(py);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},Gr=()=>{var x;const{name:r,role:n,token:i}=Qt(),[o,c]=b.useState(localStorage.getItem("avatarUrl")),d=Wt(),[h,m]=b.useState(!1),g=b.useRef(null),{logout:p}=Qt();b.useEffect(()=>{const w=()=>{c(localStorage.getItem("avatarUrl"))};return window.addEventListener("avatarUpdated",w),()=>window.removeEventListener("avatarUpdated",w)},[]),b.useEffect(()=>{i&&(async()=>{try{const A=await ge.get("http://localhost:8080/api/user/profile",{headers:{Authorization:`Bearer ${i}`}});c(A.data.avatarUrl)}catch(A){console.error("Failed to fetch avatar",A)}})()},[i]),b.useEffect(()=>{const w=A=>{g.current&&!g.current.contains(A.target)&&m(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const v=()=>{const w=d.pathname.toLowerCase();if(w.startsWith("/class-management")||w.startsWith("/class%20management")||w.startsWith("/classes"))return"Class Management";switch(w){case"/teacher":return"Dashboard";case"/quizzes":return"Quizzes";case"/profile":return"Your Profile";default:return"Home"}};return s.jsxs("header",{className:"dashboard-header",children:[s.jsxs("div",{className:"header-left",children:[s.jsx("div",{className:"logo-wrapper",children:s.jsxs("div",{className:"logo-container",children:[s.jsx("div",{className:"logo-circle",children:"Q"}),s.jsx("span",{className:"logo-text",children:"uiz"})]})}),s.jsx("h1",{className:"header-title",children:v()})]}),s.jsx("div",{className:"header-right",ref:g,children:s.jsxs("div",{className:"user-profile",children:[s.jsxs("div",{className:"user-info",children:[s.jsx("span",{className:"user-name",children:r||"Guest"}),s.jsx("span",{className:"user-role",children:n||"Unknown"})]}),s.jsxs("div",{className:"avatar-dropdown-container",children:[s.jsx("div",{className:"avatar-wrapper",onClick:()=>m(!h),children:o?s.jsx("img",{src:o,alt:"User avatar",className:"avatar"}):s.jsx("div",{className:"avatar",children:s.jsx("span",{children:((x=r==null?void 0:r.charAt(0))==null?void 0:x.toUpperCase())||"G"})})}),h&&s.jsxs("div",{className:"dropdown-menu",children:[s.jsxs(Wa,{to:"/profile",className:"dropdown-item",children:[s.jsx("i",{className:"icon-user"})," Profile"]}),s.jsxs("div",{className:"dropdown-item",children:[s.jsx("i",{className:"icon-settings"})," Settings"]}),s.jsx("div",{className:"dropdown-divider"}),s.jsxs("div",{className:"dropdown-item",onClick:p,children:[s.jsx("i",{className:"icon-logout"})," Logout"]})]})]})]})})]})},kN=()=>{const[r,n]=b.useState("September 2021"),[i,o]=b.useState(4),c={title:"Statistics Math Quiz",subject:"Math",questions:12,completion:76},d=[{id:1,title:"Math Quizzes",subject:"Math",questions:12,color:"multi"},{id:2,title:"Classic Novel",subject:"Literature",questions:12,color:"multi-blue"},{id:3,title:"Earth Vocabulary",subject:"English",questions:20,color:"blue"},{id:4,title:"Tenses Grammar",subject:"English",questions:30,color:"multi-green"}],h=["SUN","MON","TUE","WED","THU","FRI","SAT"],m=[1,2,3,4,5,6,7],g=()=>{console.log("Previous month")},p=()=>{console.log("Next month")},v=x=>{o(x)};return s.jsxs("div",{className:"dashboard-container",children:[s.jsx(Gr,{}),s.jsxs("div",{className:"dashboard-content",children:[s.jsx(Qn,{}),s.jsxs("main",{className:"main-content",children:[s.jsxs("div",{className:"hero-section",children:[s.jsx("h2",{className:"hero-title",children:"What Are You Teaching Today?"}),s.jsxs("div",{className:"search-container",children:[s.jsx("i",{className:"icon-search"}),s.jsx("input",{type:"text",className:"search-input",placeholder:"Search for any topic...."})]})]}),s.jsxs("div",{className:"dashboard-grid",children:[s.jsxs("section",{className:"dashboard-card recent-quiz",children:[s.jsx("h3",{className:"section-title",children:"Recent Quiz"}),s.jsxs("div",{className:"recent-quiz-card",children:[s.jsxs("div",{className:"quiz-info",children:[s.jsx("h4",{className:"quiz-title",children:c.title}),s.jsxs("p",{className:"quiz-meta",children:[c.subject," • ",c.questions," Questions"]})]}),s.jsx("div",{className:"completion-circle",children:s.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:[s.jsx("circle",{cx:"30",cy:"30",r:"24",fill:"none",stroke:"#e0e0e0",strokeWidth:"6"}),s.jsx("circle",{cx:"30",cy:"30",r:"24",fill:"none",stroke:"#2196f3",strokeWidth:"6",strokeDasharray:"150.8",strokeDashoffset:150.8-150.8*c.completion/100,transform:"rotate(-90 30 30)"}),s.jsxs("text",{x:"30",y:"30",textAnchor:"middle",dy:".3em",fontSize:"12",fontWeight:"bold",children:[c.completion,"%"]})]})})]})]}),s.jsxs("section",{className:"dashboard-card ongoing-quiz",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h3",{className:"section-title",children:"Ongoing Quiz"}),s.jsx("a",{href:"#",className:"see-all-link",children:"See all"})]}),s.jsxs("div",{className:"calendar",children:[s.jsxs("div",{className:"calendar-header",children:[s.jsx("button",{className:"calendar-nav-btn",onClick:g,children:"<"}),s.jsx("h4",{className:"calendar-month",children:r}),s.jsx("button",{className:"calendar-nav-btn",onClick:p,children:">"})]}),s.jsxs("div",{className:"calendar-grid",children:[s.jsx("div",{className:"calendar-days",children:h.map((x,w)=>s.jsx("div",{className:"calendar-day-name",children:x},w))}),s.jsx("div",{className:"calendar-dates",children:m.map(x=>s.jsx("div",{className:`calendar-date ${x===i?"selected":""}`,onClick:()=>v(x),children:x},x))})]})]})]}),s.jsxs("section",{className:"dashboard-card live-quiz",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h3",{className:"section-title",children:"Live Quiz"}),s.jsx("a",{href:"#",className:"see-all-link",children:"See all"})]}),s.jsx("div",{className:"quiz-grid",children:d.map(x=>s.jsxs("div",{className:"quiz-card",children:[s.jsx("div",{className:`quiz-logo ${x.color}`,children:s.jsx("span",{children:"QUIZ"})}),s.jsxs("div",{className:"quiz-details",children:[s.jsx("h4",{className:"quiz-card-title",children:x.title}),s.jsxs("p",{className:"quiz-card-meta",children:[x.subject," • ",x.questions," questions"]})]}),s.jsx("button",{className:"quiz-menu-btn",children:"•••"})]},x.id))})]})]})]})]})]})},MN=()=>s.jsxs("div",{style:{textAlign:"center",marginTop:"5rem"},children:[s.jsx("h1",{children:"🚫 Unauthorized"}),s.jsx("p",{children:"Bạn không có quyền truy cập trang này."}),s.jsx(Wa,{to:"/login",style:{color:"#007bff",textDecoration:"underline"},children:"Quay lại trang đăng nhập"})]}),pa=({children:r,allowedRoles:n})=>{const i=localStorage.getItem("token"),o=localStorage.getItem("role");return i?n.includes(o)?r:s.jsx(Fd,{to:"/unauthorized"}):s.jsx(Fd,{to:"/login"})};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,o)=>o?o.toUpperCase():i.toLowerCase()),Vg=r=>{const n=UN(r);return n.charAt(0).toUpperCase()+n.slice(1)},gy=(...r)=>r.filter((n,i,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===i).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=b.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:h,...m},g)=>b.createElement("svg",{ref:g,...zN,width:n,height:n,stroke:r,strokeWidth:o?Number(i)*24/Number(n):i,className:gy("lucide",c),...m},[...h.map(([p,v])=>b.createElement(p,v)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(r,n)=>{const i=b.forwardRef(({className:o,...c},d)=>b.createElement(IN,{ref:d,iconNode:n,className:gy(`lucide-${LN(Vg(r))}`,`lucide-${r}`,o),...c}));return i.displayName=Vg(r),i};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Yg=Xe("arrow-down",BN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qN=Xe("arrow-right",HN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],GN=Xe("arrow-up",PN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ku=Xe("award",$N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ql=Xe("book-open",XN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Wd=Xe("book",VN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],FN=Xe("calendar",YN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],WN=Xe("chevron-down",QN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yf=Xe("chevron-right",JN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jd=Xe("circle-check-big",ZN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eS=Xe("circle-help",KN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],Fg=Xe("circle-play",tS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Qg=Xe("clock",aS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vy=Xe("eye-off",nS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yy=Xe("eye",rS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],iS=Xe("file-plus",sS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],Zd=Xe("gamepad",lS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Wg=Xe("image",oS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],uS=Xe("layers",cS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],fS=Xe("lightbulb",dS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],mS=Xe("list-ordered",hS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rt=Xe("plus",pS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xy=Xe("refresh-cw",gS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],yS=Xe("save",vS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bS=Xe("settings",xS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Jg=Xe("square-pen",wS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Za=Xe("trash-2",jS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Mu=Xe("trophy",NS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],TS=Xe("users",SS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sa=Xe("x",ES),CS=()=>{const{token:r}=Qt(),n=Ut(),[i,o]=b.useState([]),[c,d]=b.useState(!1),[h,m]=b.useState(!1),[g,p]=b.useState(""),[v,x]=b.useState(null),[w,A]=b.useState(""),[_,T]=b.useState(""),[S,C]=b.useState(""),[E,O]=b.useState(""),[M,R]=b.useState(""),[L,B]=b.useState(!1),[D,z]=b.useState([]),[te,ie]=b.useState(""),[J,Y]=b.useState([]),[pe,he]=b.useState(""),[q,de]=b.useState(!1),[G,F]=b.useState(1),[N]=b.useState(6),k=G*N,H=k-N,le=i.slice(H,k),P=Math.ceil(i.length/N),Z=()=>{F(Q=>Math.max(1,Q-1))},re=()=>{F(Q=>Math.min(P,Q+1))},[ve,we]=b.useState({powerUpsEnabled:!0,randomizeActivities:!1,teamBased:!1,globalTimeLimit:0,pointsStrategy:"CUMULATIVE",adaptiveDifficulty:!1,showFeedbackImmediately:!0,allowRetries:!0,maxRetries:3,powerUpSettings:{baseThreshold:100,thresholdIncrement:50,maxPowerUpsPerPlayer:3,enabledPowerUpIds:[]}});b.useEffect(()=>{(async()=>{try{m(!0);const X=await ge.get("http://localhost:8080/api/games/teacher",{headers:{Authorization:`Bearer ${r}`}}),se=Array.isArray(X.data)?X.data:[];o(se)}catch(X){console.error("Failed to fetch games",X),p("Failed to load games. Please try again later."),o([])}finally{m(!1)}})()},[w,r]);const Ne=()=>{te.trim()&&!D.includes(te.trim())&&(z([...D,te.trim()]),ie(""))},ze=Q=>{z(D.filter(X=>X!==Q))},vt=()=>{pe.trim()&&!J.includes(pe.trim())&&(Y([...J,pe.trim()]),he(""))},ut=Q=>{Y(J.filter(X=>X!==Q))},jt=async Q=>{var X;if(Q.preventDefault(),de(!0),p(""),A(""),!_.trim()){p("Game title is required"),de(!1);return}try{const se={title:_,description:S,isPublic:L,tags:D,subject:E,gradeLevel:M,topics:J,settings:ve,activities:[]},fe=await ge.post("http://localhost:8080/api/games",se,{headers:{Authorization:`Bearer ${r}`}});x(fe.data.id),A(`Game "${fe.data.title}" created successfully!`),T(""),C(""),O(""),R(""),B(!1),z([]),Y([]),setTimeout(()=>{d(!1),n(`/games/edit/${fe.data.id}`)},1500)}catch(se){console.error("Failed to create game",se),p(((X=se.response)==null?void 0:X.data)||"Failed to create game. Please try again.")}finally{de(!1)}},et=Q=>{n(`/games/${Q}`)},mt=Q=>{n(`/games/edit/${Q}`)};return s.jsxs(s.Fragment,{children:[s.jsx(Gr,{}),s.jsxs("div",{className:"game-management-app",children:[s.jsx(Qn,{}),s.jsx("div",{className:"game-main-content",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex justify-between items-center px-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Games"}),s.jsxs("button",{onClick:()=>d(!0),className:"create-quiz-button bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[s.jsx(Rt,{className:"w-5 h-5"}),"Create New Game"]})]}),i.length>N&&s.jsxs("div",{className:"flex justify-between items-center px-4",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",(G-1)*N+1," - ",Math.min(G*N,i.length)," of ",i.length," games"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:Z,disabled:G===1,className:"px-3 py-1 rounded-md bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-gray-700",children:["Page ",G," of ",P]}),s.jsx("button",{onClick:re,disabled:G===P,className:"px-3 py-1 rounded-md bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),h?s.jsx("div",{className:"game-loading-container",children:s.jsxs("svg",{className:"game-spinner text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):Array.isArray(i)&&i.length===0?s.jsxs("div",{className:"game-empty-state",children:[s.jsx(Zd,{className:"game-empty-icon text-gray-300"}),s.jsx("p",{children:"You haven't created any games yet."})]}):s.jsx("div",{className:"game-list-container",children:s.jsx("div",{className:"game-card-grid",children:le.map(Q=>{var X;return s.jsxs("div",{className:"game-item-card bg-white rounded-lg shadow p-4",children:[s.jsxs("div",{className:"game-header-section mb-2",children:[s.jsx("h3",{className:"game-card-title font-semibold text-lg",children:Q.title}),Q.description&&s.jsx("p",{className:"game-description text-gray-600 text-sm line-clamp-2",children:Q.description})]}),s.jsxs("div",{className:"game-meta-section mt-auto",children:[s.jsxs("div",{className:"game-meta flex items-center text-xs text-gray-500 mb-2",children:[s.jsx(Wd,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:Q.subject}),s.jsx(uS,{className:"h-4 w-4 ml-3 mr-1"}),s.jsxs("span",{children:[((X=Q.activities)==null?void 0:X.length)||0," activities"]})]}),Q.tags&&Q.tags.length>0&&s.jsxs("div",{className:"game-tags-container flex flex-wrap  ",children:[Q.tags.slice(0,3).map((se,fe)=>s.jsx("span",{className:"game-tag bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded mr-2 mb-2",children:se},fe)),Q.tags.length>3&&s.jsxs("span",{className:"game-more-tag bg-gray-200 text-gray-600 text-xs px-2 py-1 rounded italic",children:["+",Q.tags.length-3]})]})]}),s.jsxs("div",{className:"game-actions-section flex justify-end items-center mt-3 pt-3 border-t border-gray-100",children:[s.jsxs("button",{onClick:()=>mt(Q.id),className:"game-edit-button flex items-center bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:[s.jsx(bS,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"Edit"})]}),s.jsxs("button",{onClick:()=>et(Q.id),className:"game-edit-button flex items-center bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm",children:[s.jsx("span",{children:"Detail"}),s.jsx(yf,{className:"h-5 w-5"})]})]})]},Q.id)})})})]})})]}),c&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-container",children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("div",{className:"modal-title-container",children:[s.jsx(Zd,{className:"modal-title-icon"}),s.jsx("h2",{className:"modal-title",children:"Create New Game"})]}),s.jsx("button",{onClick:()=>d(!1),className:"modal-close-button",children:s.jsx(sa,{className:"modal-close-icon"})})]}),s.jsxs("div",{className:"modal-alerts-container",children:[g&&s.jsx("div",{className:"modal-overlay ",children:s.jsxs("div",{className:"compact-alert",children:[s.jsx("svg",{className:"compact-alert-icon",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"compact-alert-message",children:g}),s.jsx("button",{onClick:()=>p(null),className:"compact-alert-close",children:s.jsx(sa,{className:"w-3 h-3"})})]})]})}),w&&s.jsx("div",{className:"compact-alert alert-success",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"compact-alert-icon",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"compact-alert-message",children:w}),s.jsx("button",{onClick:()=>A(null),className:"compact-alert-close",children:s.jsx(sa,{className:"w-3 h-3"})})]})]})})]}),s.jsxs("form",{onSubmit:jt,className:"modal-form",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",htmlFor:"title",children:"Game Title*"}),s.jsx("input",{type:"text",id:"title",className:"form-input",value:_,onChange:Q=>T(Q.target.value),placeholder:"Enter game title",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",htmlFor:"description",children:"Description"}),s.jsx("textarea",{id:"description",className:"form-textarea",rows:"3",value:S,onChange:Q=>C(Q.target.value),placeholder:"Describe your game (optional)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",htmlFor:"subject",children:"Subject"}),s.jsxs("select",{id:"subject",className:"form-select",value:E,onChange:Q=>O(Q.target.value),children:[s.jsx("option",{value:"",children:"Select a subject"}),s.jsx("option",{value:"Math",children:"Math"}),s.jsx("option",{value:"Science",children:"Science"}),s.jsx("option",{value:"English",children:"English"}),s.jsx("option",{value:"History",children:"History"}),s.jsx("option",{value:"Geography",children:"Geography"}),s.jsx("option",{value:"Art",children:"Art"}),s.jsx("option",{value:"Music",children:"Music"}),s.jsx("option",{value:"Physical Education",children:"Physical Education"}),s.jsx("option",{value:"Computer Science",children:"Computer Science"}),s.jsx("option",{value:"Foreign Language",children:"Foreign Language"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",htmlFor:"gradeLevel",children:"Grade Level"}),s.jsxs("select",{id:"gradeLevel",className:"form-select",value:M,onChange:Q=>R(Q.target.value),children:[s.jsx("option",{value:"",children:"Select grade level"}),s.jsx("option",{value:"K",children:"Kindergarten"}),s.jsx("option",{value:"1",children:"1st Grade"}),s.jsx("option",{value:"2",children:"2nd Grade"}),s.jsx("option",{value:"3",children:"3rd Grade"}),s.jsx("option",{value:"4",children:"4th Grade"}),s.jsx("option",{value:"5",children:"5th Grade"}),s.jsx("option",{value:"6",children:"6th Grade"}),s.jsx("option",{value:"7",children:"7th Grade"}),s.jsx("option",{value:"8",children:"8th Grade"}),s.jsx("option",{value:"9",children:"9th Grade"}),s.jsx("option",{value:"10",children:"10th Grade"}),s.jsx("option",{value:"11",children:"11th Grade"}),s.jsx("option",{value:"12",children:"12th Grade"}),s.jsx("option",{value:"College",children:"College"}),s.jsx("option",{value:"Adult",children:"Adult Education"})]})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",htmlFor:"tags",children:"Tags"}),s.jsxs("div",{className:"tags-input-container",children:[s.jsx("div",{className:"tags-display",children:D.map((Q,X)=>s.jsxs("div",{className:"tag-pill",children:[s.jsx("span",{children:Q}),s.jsx("button",{type:"button",onClick:()=>ze(Q),className:"tag-remove",children:s.jsx(sa,{className:"tag-remove-icon"})})]},X))}),s.jsxs("div",{className:"tag-input-wrapper",children:[s.jsx("input",{type:"text",id:"tags",className:"tag-input",value:te,onChange:Q=>ie(Q.target.value),placeholder:"Add a tag and press +",onKeyPress:Q=>{Q.key==="Enter"&&(Q.preventDefault(),Ne())}}),s.jsx("button",{type:"button",onClick:Ne,className:"tag-add-button",children:s.jsx(Rt,{className:"tag-add-icon"})})]})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",htmlFor:"topics",children:"Topics"}),s.jsxs("div",{className:"tags-input-container",children:[s.jsx("div",{className:"tags-display",children:J.map((Q,X)=>s.jsxs("div",{className:"tag-pill topic-pill",children:[s.jsx("span",{children:Q}),s.jsx("button",{type:"button",onClick:()=>ut(Q),className:"tag-remove",children:s.jsx(sa,{className:"tag-remove-icon"})})]},X))}),s.jsxs("div",{className:"tag-input-wrapper",children:[s.jsx("input",{type:"text",id:"topics",className:"tag-input",value:pe,onChange:Q=>he(Q.target.value),placeholder:"Add a topic and +",onKeyPress:Q=>{Q.key==="Enter"&&(Q.preventDefault(),vt())}}),s.jsx("button",{type:"button",onClick:vt,className:"tag-add-button",children:s.jsx(Rt,{className:"tag-add-icon"})})]})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("div",{className:"public-toggle-container",children:[s.jsx("label",{className:"form-toggle-label",htmlFor:"isPublic",children:"Make this game public for other teachers"}),s.jsxs("label",{className:"switch",children:[s.jsx("input",{type:"checkbox",id:"isPublic",checked:L,onChange:Q=>B(Q.target.checked)}),s.jsx("span",{className:"slider round"})]})]}),s.jsx("p",{className:"toggle-help-text",children:"Public games can be discovered and used by other teachers in the platform."})]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{type:"button",onClick:()=>d(!1),className:"modal-cancel-button",children:"Cancel"}),s.jsx("button",{type:"submit",className:"modal-submit-button",disabled:q,children:w&&v?s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{onClick:()=>n(`/games/edit/${v}`),className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Continue to Editor"})}):q?"Creating...":"Create"})]})]})]})})]})};var Lu={exports:{}},jl={},Zg;function _S(){return Zg||(Zg=1,globalThis.crypto&&globalThis.crypto.getRandomValues?jl.randomBytes=function(r){var n=new Uint8Array(r);return globalThis.crypto.getRandomValues(n),n}:jl.randomBytes=function(r){for(var n=new Array(r),i=0;i<r;i++)n[i]=Math.floor(Math.random()*256);return n}),jl}var Uu,Kg;function $r(){if(Kg)return Uu;Kg=1;var r=_S(),n="abcdefghijklmnopqrstuvwxyz012345";return Uu={string:function(i){for(var o=n.length,c=r.randomBytes(i),d=[],h=0;h<i;h++)d.push(n.substr(c[h]%o,1));return d.join("")},number:function(i){return Math.floor(Math.random()*i)},numberString:function(i){var o=(""+(i-1)).length,c=new Array(o+1).join("0");return(c+this.number(i)).slice(-o)}},Uu}var e0;function En(){return e0||(e0=1,function(r){var n=$r(),i={},o=!1,c=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;r.exports={attachEvent:function(h,m){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(h,m,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+h,m),globalThis.attachEvent("on"+h,m))},detachEvent:function(h,m){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(h,m,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+h,m),globalThis.detachEvent("on"+h,m))},unloadAdd:function(h){if(c)return null;var m=n.string(8);return i[m]=h,o&&setTimeout(this.triggerUnloadCallbacks,0),m},unloadDel:function(h){h in i&&delete i[h]},triggerUnloadCallbacks:function(){for(var h in i)i[h](),delete i[h]}};var d=function(){o||(o=!0,r.exports.triggerUnloadCallbacks())};c||r.exports.attachEvent("unload",d)}(Lu)),Lu.exports}var zu,t0;function OS(){return t0||(t0=1,zu=function(n,i){if(i=i.split(":")[0],n=+n,!n)return!1;switch(i){case"http":case"ws":return n!==80;case"https":case"wss":return n!==443;case"ftp":return n!==21;case"gopher":return n!==70;case"file":return!1}return n!==0}),zu}var Nl={},a0;function AS(){if(a0)return Nl;a0=1;var r=Object.prototype.hasOwnProperty,n;function i(h){try{return decodeURIComponent(h.replace(/\+/g," "))}catch{return null}}function o(h){try{return encodeURIComponent(h)}catch{return null}}function c(h){for(var m=/([^=?#&]+)=?([^&]*)/g,g={},p;p=m.exec(h);){var v=i(p[1]),x=i(p[2]);v===null||x===null||v in g||(g[v]=x)}return g}function d(h,m){m=m||"";var g=[],p,v;typeof m!="string"&&(m="?");for(v in h)if(r.call(h,v)){if(p=h[v],!p&&(p===null||p===n||isNaN(p))&&(p=""),v=o(v),p=o(p),v===null||p===null)continue;g.push(v+"="+p)}return g.length?m+g.join("&"):""}return Nl.stringify=d,Nl.parse=c,Nl}var Iu,n0;function by(){if(n0)return Iu;n0=1;var r=OS(),n=AS(),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,o=/[\n\r\t]/g,c=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,d=/:\d+$/,h=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,m=/^[a-zA-Z]:/;function g(E){return(E||"").toString().replace(i,"")}var p=[["#","hash"],["?","query"],function(O,M){return w(M.protocol)?O.replace(/\\/g,"/"):O},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],v={hash:1,query:1};function x(E){var O;typeof window<"u"?O=window:typeof globalThis<"u"?O=globalThis:typeof self<"u"?O=self:O={};var M=O.location||{};E=E||M;var R={},L=typeof E,B;if(E.protocol==="blob:")R=new T(unescape(E.pathname),{});else if(L==="string"){R=new T(E,{});for(B in v)delete R[B]}else if(L==="object"){for(B in E)B in v||(R[B]=E[B]);R.slashes===void 0&&(R.slashes=c.test(E.href))}return R}function w(E){return E==="file:"||E==="ftp:"||E==="http:"||E==="https:"||E==="ws:"||E==="wss:"}function A(E,O){E=g(E),E=E.replace(o,""),O=O||{};var M=h.exec(E),R=M[1]?M[1].toLowerCase():"",L=!!M[2],B=!!M[3],D=0,z;return L?B?(z=M[2]+M[3]+M[4],D=M[2].length+M[3].length):(z=M[2]+M[4],D=M[2].length):B?(z=M[3]+M[4],D=M[3].length):z=M[4],R==="file:"?D>=2&&(z=z.slice(2)):w(R)?z=M[4]:R?L&&(z=z.slice(2)):D>=2&&w(O.protocol)&&(z=M[4]),{protocol:R,slashes:L||w(R),slashesCount:D,rest:z}}function _(E,O){if(E==="")return O;for(var M=(O||"/").split("/").slice(0,-1).concat(E.split("/")),R=M.length,L=M[R-1],B=!1,D=0;R--;)M[R]==="."?M.splice(R,1):M[R]===".."?(M.splice(R,1),D++):D&&(R===0&&(B=!0),M.splice(R,1),D--);return B&&M.unshift(""),(L==="."||L==="..")&&M.push(""),M.join("/")}function T(E,O,M){if(E=g(E),E=E.replace(o,""),!(this instanceof T))return new T(E,O,M);var R,L,B,D,z,te,ie=p.slice(),J=typeof O,Y=this,pe=0;for(J!=="object"&&J!=="string"&&(M=O,O=null),M&&typeof M!="function"&&(M=n.parse),O=x(O),L=A(E||"",O),R=!L.protocol&&!L.slashes,Y.slashes=L.slashes||R&&O.slashes,Y.protocol=L.protocol||O.protocol||"",E=L.rest,(L.protocol==="file:"&&(L.slashesCount!==2||m.test(E))||!L.slashes&&(L.protocol||L.slashesCount<2||!w(Y.protocol)))&&(ie[3]=[/(.*)/,"pathname"]);pe<ie.length;pe++){if(D=ie[pe],typeof D=="function"){E=D(E,Y);continue}B=D[0],te=D[1],B!==B?Y[te]=E:typeof B=="string"?(z=B==="@"?E.lastIndexOf(B):E.indexOf(B),~z&&(typeof D[2]=="number"?(Y[te]=E.slice(0,z),E=E.slice(z+D[2])):(Y[te]=E.slice(z),E=E.slice(0,z)))):(z=B.exec(E))&&(Y[te]=z[1],E=E.slice(0,z.index)),Y[te]=Y[te]||R&&D[3]&&O[te]||"",D[4]&&(Y[te]=Y[te].toLowerCase())}M&&(Y.query=M(Y.query)),R&&O.slashes&&Y.pathname.charAt(0)!=="/"&&(Y.pathname!==""||O.pathname!=="")&&(Y.pathname=_(Y.pathname,O.pathname)),Y.pathname.charAt(0)!=="/"&&w(Y.protocol)&&(Y.pathname="/"+Y.pathname),r(Y.port,Y.protocol)||(Y.host=Y.hostname,Y.port=""),Y.username=Y.password="",Y.auth&&(z=Y.auth.indexOf(":"),~z?(Y.username=Y.auth.slice(0,z),Y.username=encodeURIComponent(decodeURIComponent(Y.username)),Y.password=Y.auth.slice(z+1),Y.password=encodeURIComponent(decodeURIComponent(Y.password))):Y.username=encodeURIComponent(decodeURIComponent(Y.auth)),Y.auth=Y.password?Y.username+":"+Y.password:Y.username),Y.origin=Y.protocol!=="file:"&&w(Y.protocol)&&Y.host?Y.protocol+"//"+Y.host:"null",Y.href=Y.toString()}function S(E,O,M){var R=this;switch(E){case"query":typeof O=="string"&&O.length&&(O=(M||n.parse)(O)),R[E]=O;break;case"port":R[E]=O,r(O,R.protocol)?O&&(R.host=R.hostname+":"+O):(R.host=R.hostname,R[E]="");break;case"hostname":R[E]=O,R.port&&(O+=":"+R.port),R.host=O;break;case"host":R[E]=O,d.test(O)?(O=O.split(":"),R.port=O.pop(),R.hostname=O.join(":")):(R.hostname=O,R.port="");break;case"protocol":R.protocol=O.toLowerCase(),R.slashes=!M;break;case"pathname":case"hash":if(O){var L=E==="pathname"?"/":"#";R[E]=O.charAt(0)!==L?L+O:O}else R[E]=O;break;case"username":case"password":R[E]=encodeURIComponent(O);break;case"auth":var B=O.indexOf(":");~B?(R.username=O.slice(0,B),R.username=encodeURIComponent(decodeURIComponent(R.username)),R.password=O.slice(B+1),R.password=encodeURIComponent(decodeURIComponent(R.password))):R.username=encodeURIComponent(decodeURIComponent(O))}for(var D=0;D<p.length;D++){var z=p[D];z[4]&&(R[z[1]]=R[z[1]].toLowerCase())}return R.auth=R.password?R.username+":"+R.password:R.username,R.origin=R.protocol!=="file:"&&w(R.protocol)&&R.host?R.protocol+"//"+R.host:"null",R.href=R.toString(),R}function C(E){(!E||typeof E!="function")&&(E=n.stringify);var O,M=this,R=M.host,L=M.protocol;L&&L.charAt(L.length-1)!==":"&&(L+=":");var B=L+(M.protocol&&M.slashes||w(M.protocol)?"//":"");return M.username?(B+=M.username,M.password&&(B+=":"+M.password),B+="@"):M.password?(B+=":"+M.password,B+="@"):M.protocol!=="file:"&&w(M.protocol)&&!R&&M.pathname!=="/"&&(B+="@"),(R[R.length-1]===":"||d.test(M.hostname)&&!M.port)&&(R+=":"),B+=R+M.pathname,O=typeof M.query=="object"?E(M.query):M.query,O&&(B+=O.charAt(0)!=="?"?"?"+O:O),M.hash&&(B+=M.hash),B}return T.prototype={set:S,toString:C},T.extractProtocol=A,T.location=x,T.trimLeft=g,T.qs=n,Iu=T,Iu}var Bu,r0;function xa(){if(r0)return Bu;r0=1;var r=by();return Bu={getOrigin:function(n){if(!n)return null;var i=new r(n);if(i.protocol==="file:")return null;var o=i.port;return o||(o=i.protocol==="https:"?"443":"80"),i.protocol+"//"+i.hostname+":"+o},isOriginEqual:function(n,i){var o=this.getOrigin(n)===this.getOrigin(i);return o},isSchemeEqual:function(n,i){return n.split(":")[0]===i.split(":")[0]},addPath:function(n,i){var o=n.split("?");return o[0]+i+(o[1]?"?"+o[1]:"")},addQuery:function(n,i){return n+(n.indexOf("?")===-1?"?"+i:"&"+i)},isLoopbackAddr:function(n){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(n)||/^\[::1\]$/.test(n)}},Bu}var Sl={exports:{}},s0;function Ge(){return s0||(s0=1,typeof Object.create=="function"?Sl.exports=function(n,i){i&&(n.super_=i,n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:Sl.exports=function(n,i){if(i){n.super_=i;var o=function(){};o.prototype=i.prototype,n.prototype=new o,n.prototype.constructor=n}}),Sl.exports}var Hu={},qu,i0;function wy(){if(i0)return qu;i0=1;function r(){this._listeners={}}return r.prototype.addEventListener=function(n,i){n in this._listeners||(this._listeners[n]=[]);var o=this._listeners[n];o.indexOf(i)===-1&&(o=o.concat([i])),this._listeners[n]=o},r.prototype.removeEventListener=function(n,i){var o=this._listeners[n];if(o){var c=o.indexOf(i);if(c!==-1){o.length>1?this._listeners[n]=o.slice(0,c).concat(o.slice(c+1)):delete this._listeners[n];return}}},r.prototype.dispatchEvent=function(){var n=arguments[0],i=n.type,o=arguments.length===1?[n]:Array.apply(null,arguments);if(this["on"+i]&&this["on"+i].apply(this,o),i in this._listeners)for(var c=this._listeners[i],d=0;d<c.length;d++)c[d].apply(this,o)},qu=r,qu}var l0;function Bt(){if(l0)return Hu;l0=1;var r=Ge(),n=wy();function i(){n.call(this)}return r(i,n),i.prototype.removeAllListeners=function(o){o?delete this._listeners[o]:this._listeners={}},i.prototype.once=function(o,c){var d=this,h=!1;function m(){d.removeListener(o,m),h||(h=!0,c.apply(this,arguments))}this.on(o,m)},i.prototype.emit=function(){var o=arguments[0],c=this._listeners[o];if(c){for(var d=arguments.length,h=new Array(d-1),m=1;m<d;m++)h[m-1]=arguments[m];for(var g=0;g<c.length;g++)c[g].apply(this,h)}},i.prototype.on=i.prototype.addListener=n.prototype.addEventListener,i.prototype.removeListener=n.prototype.removeEventListener,Hu.EventEmitter=i,Hu}var Tl={exports:{}},o0;function RS(){if(o0)return Tl.exports;o0=1;var r=globalThis.WebSocket||globalThis.MozWebSocket;return r?Tl.exports=function(i){return new r(i)}:Tl.exports=void 0,Tl.exports}var Pu,c0;function DS(){if(c0)return Pu;c0=1;var r=En(),n=xa(),i=Ge(),o=Bt().EventEmitter,c=RS(),d=function(){};function h(m,g,p){if(!h.enabled())throw new Error("Transport created when disabled");o.call(this);var v=this,x=n.addPath(m,"/websocket");x.slice(0,5)==="https"?x="wss"+x.slice(5):x="ws"+x.slice(4),this.url=x,this.ws=new c(this.url,[],p),this.ws.onmessage=function(w){d("message event",w.data),v.emit("message",w.data)},this.unloadRef=r.unloadAdd(function(){v.ws.close()}),this.ws.onclose=function(w){d("close event",w.code,w.reason),v.emit("close",w.code,w.reason),v._cleanup()},this.ws.onerror=function(w){v.emit("close",1006,"WebSocket connection broken"),v._cleanup()}}return i(h,o),h.prototype.send=function(m){var g="["+m+"]";this.ws.send(g)},h.prototype.close=function(){var m=this.ws;this._cleanup(),m&&m.close()},h.prototype._cleanup=function(){var m=this.ws;m&&(m.onmessage=m.onclose=m.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},h.enabled=function(){return!!c},h.transportName="websocket",h.roundTrips=2,Pu=h,Pu}var Gu,u0;function kS(){if(u0)return Gu;u0=1;var r=Ge(),n=Bt().EventEmitter,i=function(){};function o(c,d){n.call(this),this.sendBuffer=[],this.sender=d,this.url=c}return r(o,n),o.prototype.send=function(c){this.sendBuffer.push(c),this.sendStop||this.sendSchedule()},o.prototype.sendScheduleWait=function(){var c=this,d;this.sendStop=function(){c.sendStop=null,clearTimeout(d)},d=setTimeout(function(){c.sendStop=null,c.sendSchedule()},25)},o.prototype.sendSchedule=function(){i("sendSchedule",this.sendBuffer.length);var c=this;if(this.sendBuffer.length>0){var d="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,d,function(h){c.sendStop=null,h?(c.emit("close",h.code||1006,"Sending error: "+h),c.close()):c.sendScheduleWait()}),this.sendBuffer=[]}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},Gu=o,Gu}var $u,d0;function MS(){if(d0)return $u;d0=1;var r=Ge(),n=Bt().EventEmitter,i=function(){};function o(c,d,h){n.call(this),this.Receiver=c,this.receiveUrl=d,this.AjaxObject=h,this._scheduleReceiver()}return r(o,n),o.prototype._scheduleReceiver=function(){var c=this,d=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);d.on("message",function(h){c.emit("message",h)}),d.once("close",function(h,m){i("close",h,m,c.pollIsClosing),c.poll=d=null,c.pollIsClosing||(m==="network"?c._scheduleReceiver():(c.emit("close",h||1006,m),c.removeAllListeners()))})},o.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},$u=o,$u}var Xu,f0;function jy(){if(f0)return Xu;f0=1;var r=Ge(),n=xa(),i=kS(),o=MS();function c(d,h,m,g,p){var v=n.addPath(d,h),x=this;i.call(this,d,m),this.poll=new o(g,v,p),this.poll.on("message",function(w){x.emit("message",w)}),this.poll.once("close",function(w,A){x.poll=null,x.emit("close",w,A),x.close()})}return r(c,i),c.prototype.close=function(){i.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},Xu=c,Xu}var Vu,h0;function Xr(){if(h0)return Vu;h0=1;var r=Ge(),n=xa(),i=jy();function o(d){return function(h,m,g){var p={};typeof m=="string"&&(p.headers={"Content-type":"text/plain"});var v=n.addPath(h,"/xhr_send"),x=new d("POST",v,m,p);return x.once("finish",function(w){if(x=null,w!==200&&w!==204)return g(new Error("http status "+w));g()}),function(){x.close(),x=null;var w=new Error("Aborted");w.code=1e3,g(w)}}}function c(d,h,m,g){i.call(this,d,h,o(g),m,g)}return r(c,i),Vu=c,Vu}var Yu,m0;function eo(){if(m0)return Yu;m0=1;var r=Ge(),n=Bt().EventEmitter;function i(o,c){n.call(this);var d=this;this.bufferPosition=0,this.xo=new c("POST",o,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(h,m){d._chunkHandler(h,m),d.xo=null;var g=h===200?"network":"permanent";d.emit("close",null,g),d._cleanup()})}return r(i,n),i.prototype._chunkHandler=function(o,c){if(!(o!==200||!c))for(var d=-1;;this.bufferPosition+=d+1){var h=c.slice(this.bufferPosition);if(d=h.indexOf(`
`),d===-1)break;var m=h.slice(0,d);m&&this.emit("message",m)}},i.prototype._cleanup=function(){this.removeAllListeners()},i.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},Yu=i,Yu}var Fu,p0;function Ny(){if(p0)return Fu;p0=1;var r=Bt().EventEmitter,n=Ge(),i=En(),o=xa(),c=globalThis.XMLHttpRequest,d=function(){};function h(p,v,x,w){var A=this;r.call(this),setTimeout(function(){A._start(p,v,x,w)},0)}n(h,r),h.prototype._start=function(p,v,x,w){var A=this;try{this.xhr=new c}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}v=o.addQuery(v,"t="+ +new Date),this.unloadRef=i.unloadAdd(function(){A._cleanup(!0)});try{this.xhr.open(p,v,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){d("xhr timeout"),A.emit("finish",0,""),A._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!w||!w.noCredentials)&&h.supportsCORS&&(this.xhr.withCredentials=!0),w&&w.headers)for(var _ in w.headers)this.xhr.setRequestHeader(_,w.headers[_]);this.xhr.onreadystatechange=function(){if(A.xhr){var T=A.xhr,S,C;switch(d("readyState",T.readyState),T.readyState){case 3:try{C=T.status,S=T.responseText}catch{}C===1223&&(C=204),C===200&&S&&S.length>0&&A.emit("chunk",C,S);break;case 4:C=T.status,C===1223&&(C=204),(C===12005||C===12029)&&(C=0),d("finish",C,T.responseText),A.emit("finish",C,T.responseText),A._cleanup(!1);break}}};try{A.xhr.send(x)}catch{A.emit("finish",0,""),A._cleanup(!1)}},h.prototype._cleanup=function(p){if(this.xhr){if(this.removeAllListeners(),i.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),p)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},h.prototype.close=function(){this._cleanup(!0)},h.enabled=!!c;var m=["Active"].concat("Object").join("X");!h.enabled&&m in globalThis&&(c=function(){try{return new globalThis[m]("Microsoft.XMLHTTP")}catch{return null}},h.enabled=!!new c);var g=!1;try{g="withCredentials"in new c}catch{}return h.supportsCORS=g,Fu=h,Fu}var Qu,g0;function to(){if(g0)return Qu;g0=1;var r=Ge(),n=Ny();function i(o,c,d,h){n.call(this,o,c,d,h)}return r(i,n),i.enabled=n.enabled&&n.supportsCORS,Qu=i,Qu}var Wu,v0;function si(){if(v0)return Wu;v0=1;var r=Ge(),n=Ny();function i(o,c,d){n.call(this,o,c,d,{noCredentials:!0})}return r(i,n),i.enabled=n.enabled,Wu=i,Wu}var Ju,y0;function ii(){return y0||(y0=1,Ju={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}}),Ju}var Zu,x0;function LS(){if(x0)return Zu;x0=1;var r=Ge(),n=Xr(),i=eo(),o=to(),c=si(),d=ii();function h(m){if(!c.enabled&&!o.enabled)throw new Error("Transport created when disabled");n.call(this,m,"/xhr_streaming",i,o)}return r(h,n),h.enabled=function(m){return m.nullOrigin||d.isOpera()?!1:o.enabled},h.transportName="xhr-streaming",h.roundTrips=2,h.needBody=!!globalThis.document,Zu=h,Zu}var Ku,b0;function xf(){if(b0)return Ku;b0=1;var r=Bt().EventEmitter,n=Ge(),i=En(),o=ii(),c=xa(),d=function(){};function h(m,g,p){var v=this;r.call(this),setTimeout(function(){v._start(m,g,p)},0)}return n(h,r),h.prototype._start=function(m,g,p){var v=this,x=new globalThis.XDomainRequest;g=c.addQuery(g,"t="+ +new Date),x.onerror=function(){v._error()},x.ontimeout=function(){v._error()},x.onprogress=function(){d("progress",x.responseText),v.emit("chunk",200,x.responseText)},x.onload=function(){v.emit("finish",200,x.responseText),v._cleanup(!1)},this.xdr=x,this.unloadRef=i.unloadAdd(function(){v._cleanup(!0)});try{this.xdr.open(m,g),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(p)}catch{this._error()}},h.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},h.prototype._cleanup=function(m){if(this.xdr){if(this.removeAllListeners(),i.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,m)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},h.prototype.close=function(){this._cleanup(!0)},h.enabled=!!(globalThis.XDomainRequest&&o.hasDomain()),Ku=h,Ku}var ed,w0;function Sy(){if(w0)return ed;w0=1;var r=Ge(),n=Xr(),i=eo(),o=xf();function c(d){if(!o.enabled)throw new Error("Transport created when disabled");n.call(this,d,"/xhr_streaming",i,o)}return r(c,n),c.enabled=function(d){return d.cookie_needed||d.nullOrigin?!1:o.enabled&&d.sameScheme},c.transportName="xdr-streaming",c.roundTrips=2,ed=c,ed}var td,j0;function Ty(){return j0||(j0=1,td=globalThis.EventSource),td}var ad,N0;function US(){if(N0)return ad;N0=1;var r=Ge(),n=Bt().EventEmitter,i=Ty(),o=function(){};function c(d){n.call(this);var h=this,m=this.es=new i(d);m.onmessage=function(g){o("message",g.data),h.emit("message",decodeURI(g.data))},m.onerror=function(g){o("error",m.readyState);var p=m.readyState!==2?"network":"permanent";h._cleanup(),h._close(p)}}return r(c,n),c.prototype.abort=function(){this._cleanup(),this._close("user")},c.prototype._cleanup=function(){var d=this.es;d&&(d.onmessage=d.onerror=null,d.close(),this.es=null)},c.prototype._close=function(d){var h=this;setTimeout(function(){h.emit("close",null,d),h.removeAllListeners()},200)},ad=c,ad}var nd,S0;function T0(){if(S0)return nd;S0=1;var r=Ge(),n=Xr(),i=US(),o=to(),c=Ty();function d(h){if(!d.enabled())throw new Error("Transport created when disabled");n.call(this,h,"/eventsource",i,o)}return r(d,n),d.enabled=function(){return!!c},d.transportName="eventsource",d.roundTrips=2,nd=d,nd}var rd,E0;function Ey(){return E0||(E0=1,rd="1.6.1"),rd}var sd={exports:{}},C0;function li(){return C0||(C0=1,function(r){var n=En(),i=ii();r.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){r.exports.WPrefix in globalThis||(globalThis[r.exports.WPrefix]={})},postMessage:function(o,c){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:r.exports.currentWindowId,type:o,data:c||""}),"*")},createIframe:function(o,c){var d=globalThis.document.createElement("iframe"),h,m,g=function(){clearTimeout(h);try{d.onload=null}catch{}d.onerror=null},p=function(){d&&(g(),setTimeout(function(){d&&d.parentNode.removeChild(d),d=null},0),n.unloadDel(m))},v=function(w){d&&(p(),c(w))},x=function(w,A){setTimeout(function(){try{d&&d.contentWindow&&d.contentWindow.postMessage(w,A)}catch{}},0)};return d.src=o,d.style.display="none",d.style.position="absolute",d.onerror=function(){v("onerror")},d.onload=function(){clearTimeout(h),h=setTimeout(function(){v("onload timeout")},2e3)},globalThis.document.body.appendChild(d),h=setTimeout(function(){v("timeout")},15e3),m=n.unloadAdd(p),{post:x,cleanup:p,loaded:g}},createHtmlfile:function(o,c){var d=["Active"].concat("Object").join("X"),h=new globalThis[d]("htmlfile"),m,g,p,v=function(){clearTimeout(m),p.onerror=null},x=function(){h&&(v(),n.unloadDel(g),p.parentNode.removeChild(p),p=h=null,CollectGarbage())},w=function(T){h&&(x(),c(T))},A=function(T,S){try{setTimeout(function(){p&&p.contentWindow&&p.contentWindow.postMessage(T,S)},0)}catch{}};h.open(),h.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),h.close(),h.parentWindow[r.exports.WPrefix]=globalThis[r.exports.WPrefix];var _=h.createElement("div");return h.body.appendChild(_),p=h.createElement("iframe"),_.appendChild(p),p.src=o,p.onerror=function(){w("onerror")},m=setTimeout(function(){w("timeout")},15e3),g=n.unloadAdd(x),{post:A,cleanup:x,loaded:v}}},r.exports.iframeEnabled=!1,globalThis.document&&(r.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!i.isKonqueror())}(sd)),sd.exports}var id,_0;function Cy(){if(_0)return id;_0=1;var r=Ge(),n=Bt().EventEmitter,i=Ey(),o=xa(),c=li(),d=En(),h=$r(),m=function(){};function g(p,v,x){if(!g.enabled())throw new Error("Transport created when disabled");n.call(this);var w=this;this.origin=o.getOrigin(x),this.baseUrl=x,this.transUrl=v,this.transport=p,this.windowId=h.string(8);var A=o.addPath(x,"/iframe.html")+"#"+this.windowId;this.iframeObj=c.createIframe(A,function(_){w.emit("close",1006,"Unable to load an iframe ("+_+")"),w.close()}),this.onmessageCallback=this._message.bind(this),d.attachEvent("message",this.onmessageCallback)}return r(g,n),g.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){d.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},g.prototype._message=function(p){if(m("message",p.data),!o.isOriginEqual(p.origin,this.origin)){m("not same origin",p.origin,this.origin);return}var v;try{v=JSON.parse(p.data)}catch{m("bad json",p.data);return}if(v.windowId!==this.windowId){m("mismatched window id",v.windowId,this.windowId);return}switch(v.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([i,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",v.data);break;case"c":var x;try{x=JSON.parse(v.data)}catch{m("bad json",v.data);return}this.emit("close",x[0],x[1]),this.close();break}},g.prototype.postMessage=function(p,v){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:p,data:v||""}),this.origin)},g.prototype.send=function(p){this.postMessage("m",p)},g.enabled=function(){return c.iframeEnabled},g.transportName="iframe",g.roundTrips=2,id=g,id}var ld,O0;function bf(){return O0||(O0=1,ld={isObject:function(r){var n=typeof r;return n==="function"||n==="object"&&!!r},extend:function(r){if(!this.isObject(r))return r;for(var n,i,o=1,c=arguments.length;o<c;o++){n=arguments[o];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r}}),ld}var od,A0;function cd(){if(A0)return od;A0=1;var r=Ge(),n=Cy(),i=bf();return od=function(o){function c(d,h){n.call(this,o.transportName,d,h)}return r(c,n),c.enabled=function(d,h){if(!globalThis.document)return!1;var m=i.extend({},h);return m.sameOrigin=!0,o.enabled(m)&&n.enabled()},c.transportName="iframe-"+o.transportName,c.needBody=!0,c.roundTrips=n.roundTrips+o.roundTrips-1,c.facadeTransport=o,c},od}var ud,R0;function zS(){if(R0)return ud;R0=1;var r=Ge(),n=li(),i=xa(),o=Bt().EventEmitter,c=$r(),d=function(){};function h(g){o.call(this);var p=this;n.polluteGlobalNamespace(),this.id="a"+c.string(6),g=i.addQuery(g,"c="+decodeURIComponent(n.WPrefix+"."+this.id)),d("using htmlfile",h.htmlfileEnabled);var v=h.htmlfileEnabled?n.createHtmlfile:n.createIframe;globalThis[n.WPrefix][this.id]={start:function(){p.iframeObj.loaded()},message:function(x){p.emit("message",x)},stop:function(){p._cleanup(),p._close("network")}},this.iframeObj=v(g,function(){p._cleanup(),p._close("permanent")})}r(h,o),h.prototype.abort=function(){this._cleanup(),this._close("user")},h.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[n.WPrefix][this.id]},h.prototype._close=function(g){this.emit("close",null,g),this.removeAllListeners()},h.htmlfileEnabled=!1;var m=["Active"].concat("Object").join("X");if(m in globalThis)try{h.htmlfileEnabled=!!new globalThis[m]("htmlfile")}catch{}return h.enabled=h.htmlfileEnabled||n.iframeEnabled,ud=h,ud}var dd,D0;function k0(){if(D0)return dd;D0=1;var r=Ge(),n=zS(),i=si(),o=Xr();function c(d){if(!n.enabled)throw new Error("Transport created when disabled");o.call(this,d,"/htmlfile",n,i)}return r(c,o),c.enabled=function(d){return n.enabled&&d.sameOrigin},c.transportName="htmlfile",c.roundTrips=2,dd=c,dd}var fd,M0;function L0(){if(M0)return fd;M0=1;var r=Ge(),n=Xr(),i=eo(),o=to(),c=si();function d(h){if(!c.enabled&&!o.enabled)throw new Error("Transport created when disabled");n.call(this,h,"/xhr",i,o)}return r(d,n),d.enabled=function(h){return h.nullOrigin?!1:c.enabled&&h.sameOrigin?!0:o.enabled},d.transportName="xhr-polling",d.roundTrips=2,fd=d,fd}var hd,U0;function IS(){if(U0)return hd;U0=1;var r=Ge(),n=Xr(),i=Sy(),o=eo(),c=xf();function d(h){if(!c.enabled)throw new Error("Transport created when disabled");n.call(this,h,"/xhr",o,c)}return r(d,n),d.enabled=i.enabled,d.transportName="xdr-polling",d.roundTrips=2,hd=d,hd}var md,z0;function BS(){if(z0)return md;z0=1;var r=li(),n=$r(),i=ii(),o=xa(),c=Ge(),d=Bt().EventEmitter,h=function(){};function m(g){var p=this;d.call(this),r.polluteGlobalNamespace(),this.id="a"+n.string(6);var v=o.addQuery(g,"c="+encodeURIComponent(r.WPrefix+"."+this.id));globalThis[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(v),this.timeoutId=setTimeout(function(){p._abort(new Error("JSONP script loaded abnormally (timeout)"))},m.timeout)}return c(m,d),m.prototype.abort=function(){if(globalThis[r.WPrefix][this.id]){var g=new Error("JSONP user aborted read");g.code=1e3,this._abort(g)}},m.timeout=35e3,m.scriptErrorTimeout=1e3,m.prototype._callback=function(g){this._cleanup(),!this.aborting&&(g&&this.emit("message",g),this.emit("close",null,"network"),this.removeAllListeners())},m.prototype._abort=function(g){this._cleanup(),this.aborting=!0,this.emit("close",g.code,g.message),this.removeAllListeners()},m.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var g=this.script;g.parentNode.removeChild(g),g.onreadystatechange=g.onerror=g.onload=g.onclick=null,this.script=null}delete globalThis[r.WPrefix][this.id]},m.prototype._scriptError=function(){var g=this;this.errorTimer||(this.errorTimer=setTimeout(function(){g.loadedOkay||g._abort(new Error("JSONP script loaded abnormally (onerror)"))},m.scriptErrorTimeout))},m.prototype._createScript=function(g){var p=this,v=this.script=globalThis.document.createElement("script"),x;if(v.id="a"+n.string(8),v.src=g,v.type="text/javascript",v.charset="UTF-8",v.onerror=this._scriptError.bind(this),v.onload=function(){p._abort(new Error("JSONP script loaded abnormally (onload)"))},v.onreadystatechange=function(){if(h("onreadystatechange",v.readyState),/loaded|closed/.test(v.readyState)){if(v&&v.htmlFor&&v.onclick){p.loadedOkay=!0;try{v.onclick()}catch{}}v&&p._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof v.async>"u"&&globalThis.document.attachEvent)if(i.isOpera())x=this.script2=globalThis.document.createElement("script"),x.text="try{var a = document.getElementById('"+v.id+"'); if(a)a.onerror();}catch(x){};",v.async=x.async=!1;else{try{v.htmlFor=v.id,v.event="onclick"}catch{}v.async=!0}typeof v.async<"u"&&(v.async=!0);var w=globalThis.document.getElementsByTagName("head")[0];w.insertBefore(v,w.firstChild),x&&w.insertBefore(x,w.firstChild)},md=m,md}var pd,I0;function HS(){if(I0)return pd;I0=1;var r=$r(),n=xa(),i=function(){},o,c;function d(m){try{return globalThis.document.createElement('<iframe name="'+m+'">')}catch{var g=globalThis.document.createElement("iframe");return g.name=m,g}}function h(){o=globalThis.document.createElement("form"),o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",c=globalThis.document.createElement("textarea"),c.name="d",o.appendChild(c),globalThis.document.body.appendChild(o)}return pd=function(m,g,p){o||h();var v="a"+r.string(8);o.target=v,o.action=n.addQuery(n.addPath(m,"/jsonp_send"),"i="+v);var x=d(v);x.id=v,x.style.display="none",o.appendChild(x);try{c.value=g}catch{}o.submit();var w=function(A){x.onerror&&(x.onreadystatechange=x.onerror=x.onload=null,setTimeout(function(){x.parentNode.removeChild(x),x=null},500),c.value="",p(A))};return x.onerror=function(){w()},x.onload=function(){w()},x.onreadystatechange=function(A){i("onreadystatechange",v,x.readyState),x.readyState==="complete"&&w()},function(){w(new Error("Aborted"))}},pd}var gd,B0;function qS(){if(B0)return gd;B0=1;var r=Ge(),n=jy(),i=BS(),o=HS();function c(d){if(!c.enabled())throw new Error("Transport created when disabled");n.call(this,d,"/jsonp",o,i)}return r(c,n),c.enabled=function(){return!!globalThis.document},c.transportName="jsonp-polling",c.roundTrips=1,c.needBody=!0,gd=c,gd}var vd,H0;function PS(){return H0||(H0=1,vd=[DS(),LS(),Sy(),T0(),cd()(T0()),k0(),cd()(k0()),L0(),IS(),cd()(L0()),qS()]),vd}var q0={},P0;function GS(){if(P0)return q0;P0=1;var r=Array.prototype,n=Object.prototype,i=Function.prototype,o=String.prototype,c=r.slice,d=n.toString,h=function(B){return n.toString.call(B)==="[object Function]"},m=function(D){return d.call(D)==="[object Array]"},g=function(D){return d.call(D)==="[object String]"},p=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),v;p?v=function(B,D,z,te){!te&&D in B||Object.defineProperty(B,D,{configurable:!0,enumerable:!1,writable:!0,value:z})}:v=function(B,D,z,te){!te&&D in B||(B[D]=z)};var x=function(B,D,z){for(var te in D)n.hasOwnProperty.call(D,te)&&v(B,te,D[te],z)},w=function(B){if(B==null)throw new TypeError("can't convert "+B+" to object");return Object(B)};function A(B){var D=+B;return D!==D?D=0:D!==0&&D!==1/0&&D!==-1/0&&(D=(D>0||-1)*Math.floor(Math.abs(D))),D}function _(B){return B>>>0}function T(){}x(i,{bind:function(D){var z=this;if(!h(z))throw new TypeError("Function.prototype.bind called on incompatible "+z);for(var te=c.call(arguments,1),ie=function(){if(this instanceof he){var q=z.apply(this,te.concat(c.call(arguments)));return Object(q)===q?q:this}else return z.apply(D,te.concat(c.call(arguments)))},J=Math.max(0,z.length-te.length),Y=[],pe=0;pe<J;pe++)Y.push("$"+pe);var he=Function("binder","return function ("+Y.join(",")+"){ return binder.apply(this, arguments); }")(ie);return z.prototype&&(T.prototype=z.prototype,he.prototype=new T,T.prototype=null),he}}),x(Array,{isArray:m});var S=Object("a"),C=S[0]!=="a"||!(0 in S),E=function(D){var z=!0,te=!0;return D&&(D.call("foo",function(ie,J,Y){typeof Y!="object"&&(z=!1)}),D.call([1],function(){te=typeof this=="string"},"x")),!!D&&z&&te};x(r,{forEach:function(D){var z=w(this),te=C&&g(this)?this.split(""):z,ie=arguments[1],J=-1,Y=te.length>>>0;if(!h(D))throw new TypeError;for(;++J<Y;)J in te&&D.call(ie,te[J],J,z)}},!E(r.forEach));var O=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;x(r,{indexOf:function(D){var z=C&&g(this)?this.split(""):w(this),te=z.length>>>0;if(!te)return-1;var ie=0;for(arguments.length>1&&(ie=A(arguments[1])),ie=ie>=0?ie:Math.max(0,te+ie);ie<te;ie++)if(ie in z&&z[ie]===D)return ie;return-1}},O);var M=o.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var B=/()??/.exec("")[1]===void 0;o.split=function(D,z){var te=this;if(D===void 0&&z===0)return[];if(d.call(D)!=="[object RegExp]")return M.call(this,D,z);var ie=[],J=(D.ignoreCase?"i":"")+(D.multiline?"m":"")+(D.extended?"x":"")+(D.sticky?"y":""),Y=0,pe,he,q,de;for(D=new RegExp(D.source,J+"g"),te+="",B||(pe=new RegExp("^"+D.source+"$(?!\\s)",J)),z=z===void 0?-1>>>0:_(z);(he=D.exec(te))&&(q=he.index+he[0].length,!(q>Y&&(ie.push(te.slice(Y,he.index)),!B&&he.length>1&&he[0].replace(pe,function(){for(var G=1;G<arguments.length-2;G++)arguments[G]===void 0&&(he[G]=void 0)}),he.length>1&&he.index<te.length&&r.push.apply(ie,he.slice(1)),de=he[0].length,Y=q,ie.length>=z)));)D.lastIndex===he.index&&D.lastIndex++;return Y===te.length?(de||!D.test(""))&&ie.push(""):ie.push(te.slice(Y)),ie.length>z?ie.slice(0,z):ie}}():"0".split(void 0,0).length&&(o.split=function(D,z){return D===void 0&&z===0?[]:M.call(this,D,z)});var R=o.substr,L="".substr&&"0b".substr(-1)!=="b";return x(o,{substr:function(D,z){return R.call(this,D<0&&(D=this.length+D)<0?0:D,z)}},L),q0}var yd,G0;function $S(){if(G0)return yd;G0=1;var r=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,n,i=function(o){var c,d={},h=[];for(c=0;c<65536;c++)h.push(String.fromCharCode(c));return o.lastIndex=0,h.join("").replace(o,function(m){return d[m]="\\u"+("0000"+m.charCodeAt(0).toString(16)).slice(-4),""}),o.lastIndex=0,d};return yd={quote:function(o){var c=JSON.stringify(o);return r.lastIndex=0,r.test(c)?(n||(n=i(r)),c.replace(r,function(d){return n[d]})):c}},yd}var xd,$0;function XS(){if($0)return xd;$0=1;var r=function(){};return xd=function(n){return{filterToEnabled:function(i,o){var c={main:[],facade:[]};return i?typeof i=="string"&&(i=[i]):i=[],n.forEach(function(d){if(d&&!(d.transportName==="websocket"&&o.websocket===!1)){if(i.length&&i.indexOf(d.transportName)===-1){r("not in whitelist",d.transportName);return}d.enabled(o)?(r("enabled",d.transportName),c.main.push(d),d.facadeTransport&&c.facade.push(d.facadeTransport)):r("disabled",d.transportName)}}),c}}},xd}var bd,X0;function VS(){if(X0)return bd;X0=1;var r={};return["log","debug","warn"].forEach(function(n){var i;try{i=globalThis.console&&globalThis.console[n]&&globalThis.console[n].apply}catch{}r[n]=i?function(){return globalThis.console[n].apply(globalThis.console,arguments)}:n==="log"?function(){}:r.log}),bd=r,bd}var wd,V0;function wf(){if(V0)return wd;V0=1;function r(n){this.type=n}return r.prototype.initEvent=function(n,i,o){return this.type=n,this.bubbles=i,this.cancelable=o,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,wd=r,wd}var jd,Y0;function _y(){return Y0||(Y0=1,jd=globalThis.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}),jd}var Nd,F0;function YS(){if(F0)return Nd;F0=1;var r=Ge(),n=wf();function i(){n.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}return r(i,n),Nd=i,Nd}var Sd,Q0;function FS(){if(Q0)return Sd;Q0=1;var r=Ge(),n=wf();function i(o){n.call(this),this.initEvent("message",!1,!1),this.data=o}return r(i,n),Sd=i,Sd}var Td,W0;function QS(){if(W0)return Td;W0=1;var r=Bt().EventEmitter,n=Ge();function i(){var o=this;r.call(this),this.to=setTimeout(function(){o.emit("finish",200,"{}")},i.timeout)}return n(i,r),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,Td=i,Td}var Ed,J0;function Oy(){if(J0)return Ed;J0=1;var r=Bt().EventEmitter,n=Ge(),i=bf();function o(c,d){r.call(this);var h=this,m=+new Date;this.xo=new d("GET",c),this.xo.once("finish",function(g,p){var v,x;if(g===200){if(x=+new Date-m,p)try{v=JSON.parse(p)}catch{}i.isObject(v)||(v={})}h.emit("finish",v,x),h.removeAllListeners()})}return n(o,r),o.prototype.close=function(){this.removeAllListeners(),this.xo.close()},Ed=o,Ed}var Cd,Z0;function Ay(){if(Z0)return Cd;Z0=1;var r=Ge(),n=Bt().EventEmitter,i=si(),o=Oy();function c(d){var h=this;n.call(this),this.ir=new o(d,i),this.ir.once("finish",function(m,g){h.ir=null,h.emit("message",JSON.stringify([m,g]))})}return r(c,n),c.transportName="iframe-info-receiver",c.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Cd=c,Cd}var _d,K0;function WS(){if(K0)return _d;K0=1;var r=Bt().EventEmitter,n=Ge(),i=En(),o=Cy(),c=Ay();function d(h,m){var g=this;r.call(this);var p=function(){var v=g.ifr=new o(c.transportName,m,h);v.once("message",function(x){if(x){var w;try{w=JSON.parse(x)}catch{g.emit("finish"),g.close();return}var A=w[0],_=w[1];g.emit("finish",A,_)}g.close()}),v.once("close",function(){g.emit("finish"),g.close()})};globalThis.document.body?p():i.attachEvent("load",p)}return n(d,r),d.enabled=function(){return o.enabled()},d.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},_d=d,_d}var Od,ev;function JS(){if(ev)return Od;ev=1;var r=Bt().EventEmitter,n=Ge(),i=xa(),o=xf(),c=to(),d=si(),h=QS(),m=WS(),g=Oy();function p(v,x){var w=this;r.call(this),setTimeout(function(){w.doXhr(v,x)},0)}return n(p,r),p._getReceiver=function(v,x,w){return w.sameOrigin?new g(x,d):c.enabled?new g(x,c):o.enabled&&w.sameScheme?new g(x,o):m.enabled()?new m(v,x):new g(x,h)},p.prototype.doXhr=function(v,x){var w=this,A=i.addPath(v,"/info");this.xo=p._getReceiver(v,A,x),this.timeoutRef=setTimeout(function(){w._cleanup(!1),w.emit("finish")},p.timeout),this.xo.once("finish",function(_,T){w._cleanup(!0),w.emit("finish",_,T)})},p.prototype._cleanup=function(v){clearTimeout(this.timeoutRef),this.timeoutRef=null,!v&&this.xo&&this.xo.close(),this.xo=null},p.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},p.timeout=8e3,Od=p,Od}var Ad,tv;function ZS(){if(tv)return Ad;tv=1;var r=li();function n(i){this._transport=i,i.on("message",this._transportMessage.bind(this)),i.on("close",this._transportClose.bind(this))}return n.prototype._transportClose=function(i,o){r.postMessage("c",JSON.stringify([i,o]))},n.prototype._transportMessage=function(i){r.postMessage("t",i)},n.prototype._send=function(i){this._transport.send(i)},n.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Ad=n,Ad}var Rd,av;function KS(){if(av)return Rd;av=1;var r=xa(),n=En(),i=ZS(),o=Ay(),c=li(),d=_y(),h=function(){};return Rd=function(m,g){var p={};g.forEach(function(x){x.facadeTransport&&(p[x.facadeTransport.transportName]=x.facadeTransport)}),p[o.transportName]=o;var v;m.bootstrap_iframe=function(){var x;c.currentWindowId=d.hash.slice(1);var w=function(A){if(A.source===parent&&(typeof v>"u"&&(v=A.origin),A.origin===v)){var _;try{_=JSON.parse(A.data)}catch{h("bad json",A.data);return}if(_.windowId===c.currentWindowId)switch(_.type){case"s":var T;try{T=JSON.parse(_.data)}catch{h("bad json",_.data);break}var S=T[0],C=T[1],E=T[2],O=T[3];if(S!==m.version)throw new Error('Incompatible SockJS! Main site uses: "'+S+'", the iframe: "'+m.version+'".');if(!r.isOriginEqual(E,d.href)||!r.isOriginEqual(O,d.href))throw new Error("Can't connect to different domain from within an iframe. ("+d.href+", "+E+", "+O+")");x=new i(new p[C](E,O));break;case"m":x._send(_.data);break;case"c":x&&x._close(),x=null;break}}};n.attachEvent("message",w),c.postMessage("s")}},Rd}var Dd,nv;function eT(){if(nv)return Dd;nv=1,GS();var r=by(),n=Ge(),i=$r(),o=$S(),c=xa(),d=En(),h=XS(),m=bf(),g=ii(),p=VS(),v=wf(),x=wy(),w=_y(),A=YS(),_=FS(),T=JS(),S=function(){},C;function E(M,R,L){if(!(this instanceof E))return new E(M,R,L);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");x.call(this),this.readyState=E.CONNECTING,this.extensions="",this.protocol="",L=L||{},L.protocols_whitelist&&p.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=L.transports,this._transportOptions=L.transportOptions||{},this._timeout=L.timeout||0;var B=L.sessionId||8;if(typeof B=="function")this._generateSessionId=B;else if(typeof B=="number")this._generateSessionId=function(){return i.string(B)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=L.server||i.numberString(1e3);var D=new r(M);if(!D.host||!D.protocol)throw new SyntaxError("The URL '"+M+"' is invalid");if(D.hash)throw new SyntaxError("The URL must not contain a fragment");if(D.protocol!=="http:"&&D.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+D.protocol+"' is not allowed.");var z=D.protocol==="https:";if(w.protocol==="https:"&&!z&&!c.isLoopbackAddr(D.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");R?Array.isArray(R)||(R=[R]):R=[];var te=R.sort();te.forEach(function(J,Y){if(!J)throw new SyntaxError("The protocols entry '"+J+"' is invalid.");if(Y<te.length-1&&J===te[Y+1])throw new SyntaxError("The protocols entry '"+J+"' is duplicated.")});var ie=c.getOrigin(w.href);this._origin=ie?ie.toLowerCase():null,D.set("pathname",D.pathname.replace(/\/+$/,"")),this.url=D.href,S("using url",this.url),this._urlInfo={nullOrigin:!g.hasDomain(),sameOrigin:c.isOriginEqual(this.url,w.href),sameScheme:c.isSchemeEqual(this.url,w.href)},this._ir=new T(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}n(E,x);function O(M){return M===1e3||M>=3e3&&M<=4999}return E.prototype.close=function(M,R){if(M&&!O(M))throw new Error("InvalidAccessError: Invalid code");if(R&&R.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===E.CLOSING||this.readyState===E.CLOSED)){var L=!0;this._close(M||1e3,R||"Normal closure",L)}},E.prototype.send=function(M){if(typeof M!="string"&&(M=""+M),this.readyState===E.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===E.OPEN&&this._transport.send(o.quote(M))},E.version=Ey(),E.CONNECTING=0,E.OPEN=1,E.CLOSING=2,E.CLOSED=3,E.prototype._receiveInfo=function(M,R){if(this._ir=null,!M){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(R),this._transUrl=M.base_url?M.base_url:this.url,M=m.extend(M,this._urlInfo);var L=C.filterToEnabled(this._transportsWhitelist,M);this._transports=L.main,S(this._transports.length+" enabled transports"),this._connect()},E.prototype._connect=function(){for(var M=this._transports.shift();M;M=this._transports.shift()){if(S("attempt",M.transportName),M.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(M),d.attachEvent("load",this._connect.bind(this));return}var R=Math.max(this._timeout,this._rto*M.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),R);var L=c.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),B=this._transportOptions[M.transportName],D=new M(L,this._transUrl,B);D.on("message",this._transportMessage.bind(this)),D.once("close",this._transportClose.bind(this)),D.transportName=M.transportName,this._transport=D;return}this._close(2e3,"All transports failed",!1)},E.prototype._transportTimeout=function(){this.readyState===E.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},E.prototype._transportMessage=function(M){var R=this,L=M.slice(0,1),B=M.slice(1),D;switch(L){case"o":this._open();return;case"h":this.dispatchEvent(new v("heartbeat")),S("heartbeat",this.transport);return}if(B)try{D=JSON.parse(B)}catch{}if(!(typeof D>"u"))switch(L){case"a":Array.isArray(D)&&D.forEach(function(z){S("message",R.transport),R.dispatchEvent(new _(z))});break;case"m":S("message",this.transport),this.dispatchEvent(new _(D));break;case"c":Array.isArray(D)&&D.length===2&&this._close(D[0],D[1],!0);break}},E.prototype._transportClose=function(M,R){if(S("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!O(M)&&M!==2e3&&this.readyState===E.CONNECTING){this._connect();return}this._close(M,R)},E.prototype._open=function(){S("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===E.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=E.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new v("open")),S("connected",this.transport)):this._close(1006,"Server lost session")},E.prototype._close=function(M,R,L){S("_close",this.transport,M,R,L,this.readyState);var B=!1;if(this._ir&&(B=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===E.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=E.CLOSING,setTimeout((function(){this.readyState=E.CLOSED,B&&this.dispatchEvent(new v("error"));var D=new A("close");D.wasClean=L||!1,D.code=M||1e3,D.reason=R,this.dispatchEvent(D),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},E.prototype.countRTO=function(M){return M>100?4*M:300+M},Dd=function(M){return C=h(M),KS()(E,M),E},Dd}var kd,rv;function tT(){if(rv)return kd;rv=1;var r=PS();return kd=eT()(r),"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1),kd}var aT=tT();const oi=sf(aT);function nT(r,n){r.terminate=function(){const i=()=>{};this.onerror=i,this.onmessage=i,this.onopen=i;const o=new Date,c=Math.random().toString().substring(2,8),d=this.onclose;this.onclose=h=>{const m=new Date().getTime()-o.getTime();n(`Discarded socket (#${c})  closed after ${m}ms, with code/reason: ${h.code}/${h.reason}`)},this.close(),d==null||d.call(r,{code:4001,reason:`Quick discarding socket (#${c}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Qs={LF:`
`,NULL:"\0"};class Sn{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(n){const{command:i,headers:o,body:c,binaryBody:d,escapeHeaderValues:h,skipContentLengthHeader:m}=n;this.command=i,this.headers=Object.assign({},o||{}),d?(this._binaryBody=d,this.isBinaryBody=!0):(this._body=c||"",this.isBinaryBody=!1),this.escapeHeaderValues=h||!1,this.skipContentLengthHeader=m||!1}static fromRawFrame(n,i){const o={},c=d=>d.replace(/^\s+|\s+$/g,"");for(const d of n.headers.reverse()){d.indexOf(":");const h=c(d[0]);let m=c(d[1]);i&&n.command!=="CONNECT"&&n.command!=="CONNECTED"&&(m=Sn.hdrValueUnEscape(m)),o[h]=m}return new Sn({command:n.command,headers:o,binaryBody:n.binaryBody,escapeHeaderValues:i})}toString(){return this.serializeCmdAndHeaders()}serialize(){const n=this.serializeCmdAndHeaders();return this.isBinaryBody?Sn.toUnit8Array(n,this._binaryBody).buffer:n+this._body+Qs.NULL}serializeCmdAndHeaders(){const n=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const i of Object.keys(this.headers||{})){const o=this.headers[i];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?n.push(`${i}:${Sn.hdrValueEscape(`${o}`)}`):n.push(`${i}:${o}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&n.push(`content-length:${this.bodyLength()}`),n.join(Qs.LF)+Qs.LF+Qs.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const n=this.binaryBody;return n?n.length:0}static sizeOfUTF8(n){return n?new TextEncoder().encode(n).length:0}static toUnit8Array(n,i){const o=new TextEncoder().encode(n),c=new Uint8Array([0]),d=new Uint8Array(o.length+i.length+c.length);return d.set(o),d.set(i,o.length),d.set(c,o.length+i.length),d}static marshall(n){return new Sn(n).serialize()}static hdrValueEscape(n){return n.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(n){return n.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const sv=0,El=10,Cl=13,rT=58;class sT{constructor(n,i){this.onFrame=n,this.onIncomingPing=i,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(n,i=!1){let o;if(typeof n=="string"?o=this._encoder.encode(n):o=new Uint8Array(n),i&&o[o.length-1]!==0){const c=new Uint8Array(o.length+1);c.set(o,0),c[o.length]=0,o=c}for(let c=0;c<o.length;c++){const d=o[c];this._onByte(d)}}_collectFrame(n){if(n!==sv&&n!==Cl){if(n===El){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(n)}}_collectCommand(n){if(n!==Cl){if(n===El){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(n)}}_collectHeaders(n){if(n!==Cl){if(n===El){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(n)}}_reinjectByte(n){this._onByte(n)}_collectHeaderKey(n){if(n===rT){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(n)}_collectHeaderValue(n){if(n!==Cl){if(n===El){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(n)}}_setupCollectBody(){const n=this._results.headers.filter(i=>i[0]==="content-length")[0];n?(this._bodyBytesRemaining=parseInt(n[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(n){if(n===sv){this._retrievedBody();return}this._consumeByte(n)}_collectBodyFixedSize(n){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(n)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(n){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",n)}this._initState()}_consumeByte(n){this._token.push(n)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const n=new Uint8Array(this._token);return this._token=[],n}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Tn;(function(r){r[r.CONNECTING=0]="CONNECTING",r[r.OPEN=1]="OPEN",r[r.CLOSING=2]="CLOSING",r[r.CLOSED=3]="CLOSED"})(Tn||(Tn={}));var Sa;(function(r){r[r.ACTIVE=0]="ACTIVE",r[r.DEACTIVATING=1]="DEACTIVATING",r[r.INACTIVE=2]="INACTIVE"})(Sa||(Sa={}));var Pl;(function(r){r[r.LINEAR=0]="LINEAR",r[r.EXPONENTIAL=1]="EXPONENTIAL"})(Pl||(Pl={}));var Ks;(function(r){r.Interval="interval",r.Worker="worker"})(Ks||(Ks={}));class iT{constructor(n,i=Ks.Interval,o){this._interval=n,this._strategy=i,this._debug=o,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(n){this.stop(),this.shouldUseWorker()?this.runWorker(n):this.runInterval(n)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Ks.Worker}runWorker(n){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=i=>n(i.data))}runInterval(n){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const i=Date.now();this._timer=setInterval(()=>{n(Date.now()-i)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class It{constructor(n){this.versions=n}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(n=>`v${n.replace(".","")}.stomp`)}}It.V1_0="1.0";It.V1_1="1.1";It.V1_2="1.2";It.default=new It([It.V1_2,It.V1_1,It.V1_0]);class lT{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(n,i,o){this._client=n,this._webSocket=i,this._connected=!1,this._serverFrameHandlers={CONNECTED:c=>{this.debug(`connected to server ${c.headers.server}`),this._connected=!0,this._connectedVersion=c.headers.version,this._connectedVersion===It.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(c.headers),this.onConnect(c)},MESSAGE:c=>{const d=c.headers.subscription,h=this._subscriptions[d]||this.onUnhandledMessage,m=c,g=this,p=this._connectedVersion===It.V1_2?m.headers.ack:m.headers["message-id"];m.ack=(v={})=>g.ack(p,d,v),m.nack=(v={})=>g.nack(p,d,v),h(m)},RECEIPT:c=>{const d=this._receiptWatchers[c.headers["receipt-id"]];d?(d(c),delete this._receiptWatchers[c.headers["receipt-id"]]):this.onUnhandledReceipt(c)},ERROR:c=>{this.onStompError(c)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=o.debug,this.stompVersions=o.stompVersions,this.connectHeaders=o.connectHeaders,this.disconnectHeaders=o.disconnectHeaders,this.heartbeatIncoming=o.heartbeatIncoming,this.heartbeatOutgoing=o.heartbeatOutgoing,this.splitLargeFrames=o.splitLargeFrames,this.maxWebSocketChunkSize=o.maxWebSocketChunkSize,this.forceBinaryWSFrames=o.forceBinaryWSFrames,this.logRawCommunication=o.logRawCommunication,this.appendMissingNULLonIncoming=o.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=o.discardWebsocketOnCommFailure,this.onConnect=o.onConnect,this.onDisconnect=o.onDisconnect,this.onStompError=o.onStompError,this.onWebSocketClose=o.onWebSocketClose,this.onWebSocketError=o.onWebSocketError,this.onUnhandledMessage=o.onUnhandledMessage,this.onUnhandledReceipt=o.onUnhandledReceipt,this.onUnhandledFrame=o.onUnhandledFrame}start(){const n=new sT(i=>{const o=Sn.fromRawFrame(i,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${o}`),(this._serverFrameHandlers[o.command]||this.onUnhandledFrame)(o)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=i=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const o=i.data instanceof ArrayBuffer?new TextDecoder().decode(i.data):i.data;this.debug(`<<< ${o}`)}n.parseChunk(i.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=i=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(i)},this._webSocket.onerror=i=>{this.onWebSocketError(i)},this._webSocket.onopen=()=>{const i=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),i["accept-version"]=this.stompVersions.supportedVersions(),i["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:i})}}_setupHeartbeat(n){if(n.version!==It.V1_1&&n.version!==It.V1_2||!n["heart-beat"])return;const[i,o]=n["heart-beat"].split(",").map(c=>parseInt(c,10));if(this.heartbeatOutgoing!==0&&o!==0){const c=Math.max(this.heartbeatOutgoing,o);this.debug(`send PING every ${c}ms`),this._pinger=new iT(c,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Tn.OPEN&&(this._webSocket.send(Qs.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&i!==0){const c=Math.max(this.heartbeatIncoming,i);this.debug(`check PONG every ${c}ms`),this._ponger=setInterval(()=>{const d=Date.now()-this._lastServerActivityTS;d>c*2&&(this.debug(`did not receive server activity for the last ${d}ms`),this._closeOrDiscardWebsocket())},c)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Tn.CONNECTING||this._webSocket.readyState===Tn.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&nT(this._webSocket,n=>this.debug(n)),this._webSocket.terminate()}_transmit(n){const{command:i,headers:o,body:c,binaryBody:d,skipContentLengthHeader:h}=n,m=new Sn({command:i,headers:o,body:c,binaryBody:d,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:h});let g=m.serialize();if(this.logRawCommunication?this.debug(`>>> ${g}`):this.debug(`>>> ${m}`),this.forceBinaryWSFrames&&typeof g=="string"&&(g=new TextEncoder().encode(g)),typeof g!="string"||!this.splitLargeFrames)this._webSocket.send(g);else{let p=g;for(;p.length>0;){const v=p.substring(0,this.maxWebSocketChunkSize);p=p.substring(this.maxWebSocketChunkSize),this._webSocket.send(v),this.debug(`chunk sent = ${v.length}, remaining = ${p.length}`)}}}dispose(){if(this.connected)try{const n=Object.assign({},this.disconnectHeaders);n.receipt||(n.receipt=`close-${this._counter++}`),this.watchForReceipt(n.receipt,i=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(i)}),this._transmit({command:"DISCONNECT",headers:n})}catch(n){this.debug(`Ignoring error during disconnect ${n}`)}else(this._webSocket.readyState===Tn.CONNECTING||this._webSocket.readyState===Tn.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(n){const{destination:i,headers:o,body:c,binaryBody:d,skipContentLengthHeader:h}=n,m=Object.assign({destination:i},o);this._transmit({command:"SEND",headers:m,body:c,binaryBody:d,skipContentLengthHeader:h})}watchForReceipt(n,i){this._receiptWatchers[n]=i}subscribe(n,i,o={}){o=Object.assign({},o),o.id||(o.id=`sub-${this._counter++}`),o.destination=n,this._subscriptions[o.id]=i,this._transmit({command:"SUBSCRIBE",headers:o});const c=this;return{id:o.id,unsubscribe(d){return c.unsubscribe(o.id,d)}}}unsubscribe(n,i={}){i=Object.assign({},i),delete this._subscriptions[n],i.id=n,this._transmit({command:"UNSUBSCRIBE",headers:i})}begin(n){const i=n||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:i}});const o=this;return{id:i,commit(){o.commit(i)},abort(){o.abort(i)}}}commit(n){this._transmit({command:"COMMIT",headers:{transaction:n}})}abort(n){this._transmit({command:"ABORT",headers:{transaction:n}})}ack(n,i,o={}){o=Object.assign({},o),this._connectedVersion===It.V1_2?o.id=n:o["message-id"]=n,o.subscription=i,this._transmit({command:"ACK",headers:o})}nack(n,i,o={}){return o=Object.assign({},o),this._connectedVersion===It.V1_2?o.id=n:o["message-id"]=n,o.subscription=i,this._transmit({command:"NACK",headers:o})}}class ci{get webSocket(){var n;return(n=this._stompHandler)==null?void 0:n._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(n){this._disconnectHeaders=n,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Sa.ACTIVE}_changeState(n){this.state=n,this.onChangeState(n)}constructor(n={}){this.stompVersions=It.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=Pl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Ks.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Sa.INACTIVE;const i=()=>{};this.debug=i,this.beforeConnect=i,this.onConnect=i,this.onDisconnect=i,this.onUnhandledMessage=i,this.onUnhandledReceipt=i,this.onUnhandledFrame=i,this.onStompError=i,this.onWebSocketClose=i,this.onWebSocketError=i,this.logRawCommunication=!1,this.onChangeState=i,this.connectHeaders={},this._disconnectHeaders={},this.configure(n)}configure(n){Object.assign(this,n),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const n=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(Sa.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===Sa.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{n()})):n()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const n=this._createWebSocket();this._stompHandler=new lT(this,n,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:i=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(i)},onDisconnect:i=>{this.onDisconnect(i)},onStompError:i=>{this.onStompError(i)},onWebSocketClose:i=>{this._stompHandler=void 0,this.state===Sa.DEACTIVATING&&this._changeState(Sa.INACTIVE),this.onWebSocketClose(i),this.active&&this._schedule_reconnect()},onWebSocketError:i=>{this.onWebSocketError(i)},onUnhandledMessage:i=>{this.onUnhandledMessage(i)},onUnhandledReceipt:i=>{this.onUnhandledReceipt(i)},onUnhandledFrame:i=>{this.onUnhandledFrame(i)}}),this._stompHandler.start()}_createWebSocket(){let n;if(this.webSocketFactory)n=this.webSocketFactory();else if(this.brokerURL)n=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return n.binaryType="arraybuffer",n}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Pl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(n={}){var d;const i=n.force||!1,o=this.active;let c;if(this.state===Sa.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(Sa.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Tn.CLOSED){const h=this._stompHandler.onWebSocketClose;c=new Promise((m,g)=>{this._stompHandler.onWebSocketClose=p=>{h(p),m()}})}else return this._changeState(Sa.INACTIVE),Promise.resolve();return i?(d=this._stompHandler)==null||d.discardWebsocket():o&&this._disposeStompHandler(),c}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(n){this._checkConnection(),this._stompHandler.publish(n)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(n,i){this._checkConnection(),this._stompHandler.watchForReceipt(n,i)}subscribe(n,i,o={}){return this._checkConnection(),this._stompHandler.subscribe(n,i,o)}unsubscribe(n,i={}){this._checkConnection(),this._stompHandler.unsubscribe(n,i)}begin(n){return this._checkConnection(),this._stompHandler.begin(n)}commit(n){this._checkConnection(),this._stompHandler.commit(n)}abort(n){this._checkConnection(),this._stompHandler.abort(n)}ack(n,i,o={}){this._checkConnection(),this._stompHandler.ack(n,i,o)}nack(n,i,o={}){this._checkConnection(),this._stompHandler.nack(n,i,o)}}const oT=()=>{const{token:r}=Qt(),[n,i]=b.useState(""),[o,c]=b.useState(""),[d,h]=b.useState([]),[m,g]=b.useState(null),[p,v]=b.useState("SETUP"),[x,w]=b.useState([]),[A,_]=b.useState([]),[T,S]=b.useState(""),[C,E]=b.useState(""),[O,M]=b.useState(!0),[R,L]=b.useState(null),[B,D]=b.useState(!1);Ut();const z=Wt(),te=()=>{try{return JSON.parse(atob(r.split(".")[1])).sub}catch(P){return console.error("Failed to extract teacher ID from token:",P),null}};b.useEffect(()=>{const P=localStorage.getItem("teacherSessionId"),Z=localStorage.getItem("teacherAccessCode"),re=localStorage.getItem("teacherGameState");P&&Z&&re&&(i(P),c(Z),v(re),(re==="LOBBY"||re==="ACTIVE")&&ie(Z))},[]),b.useEffect(()=>{const P=new URLSearchParams(z.search),Z=P.get("classId"),re=P.get("gameId");Z&&E(Z),re&&S(re)},[z.search]),b.useEffect(()=>{Y()},[r]),b.useEffect(()=>{if(C&&T&&!B&&!O&&p==="SETUP"){const Z=setTimeout(()=>{console.log("Auto-creating game session..."),D(!0),he()},100);return()=>clearTimeout(Z)}},[C,T,O,B,p]),b.useEffect(()=>(o&&(p==="LOBBY"||p==="ACTIVE")&&pe(),()=>{m&&m.deactivate()}),[o,p]);const ie=async P=>{try{const re=(await ge.get(`http://localhost:8080/api/sessions/${P}`,{headers:{Authorization:`Bearer ${r}`}})).data;h(re.participants||[]);const ve=await ge.get(`http://localhost:8080/api/sessions/${P}/participants`,{headers:{Authorization:`Bearer ${r}`}});ve.data&&h(ve.data)}catch(Z){console.error("Failed to fetch session details:",Z),J()}},J=()=>{i(""),c(""),v("SETUP"),h([]),localStorage.removeItem("teacherSessionId"),localStorage.removeItem("teacherAccessCode"),localStorage.removeItem("teacherGameState")},Y=async()=>{M(!0),L(null);try{console.log("Starting API calls to fetch games and classes");const P=te();if(!P)throw new Error("Could not determine teacher ID from token");let Z=[];try{console.log("Fetching games...");const ve=await ge.get("http://localhost:8080/api/games/teacher",{headers:{Authorization:`Bearer ${r}`,"X-Teacher-Id":P},timeout:5e3});console.log("Games response received:",ve),Z=Array.isArray(ve.data)?ve.data:[]}catch(ve){console.error("Games fetch error:",ve)}let re=[];try{console.log("Fetching classes...");const ve=await ge.get("http://localhost:8080/api/classes/teacher",{headers:{Authorization:`Bearer ${r}`,"X-Teacher-Id":P},timeout:5e3});console.log("Classes response received:",ve),re=Array.isArray(ve.data)?ve.data:[]}catch(ve){console.error("Classes fetch error:",ve)}w(Z),_(re),M(!1),Z.length===0&&re.length===0&&L("Could not load games or classes. Check console for details.")}catch(P){console.error("General error fetching games and classes:",P),L("Failed to load data. Please check your connection and try again."),M(!1)}},pe=()=>{console.log("Setting up WebSocket with access code:",o);const P=new ci({webSocketFactory:()=>new oi("http://localhost:8080/ws-sessions"),connectHeaders:{Authorization:`Bearer ${r}`},onConnect:()=>{console.log("WebSocket Connected!"),ie(o),P.subscribe(`/topic/session/${o}/participants`,Z=>{try{const re=JSON.parse(Z.body);h(re)}catch(re){console.error("Error parsing participants update:",re)}}),P.subscribe(`/topic/session/${o}/status`,Z=>{console.log("Received status update:",Z.body),v(Z.body),localStorage.setItem("teacherGameState",Z.body),Z.body==="COMPLETED"&&setTimeout(()=>{J()},3e5)}),P.subscribe(`/topic/session/${o}/leaderboard`,Z=>{try{const re=JSON.parse(Z.body);console.log("Received leaderboard update:",re),h(ve=>ve.map(we=>{const Ne=re.find(ze=>ze.userId===we.userId);return Ne?{...we,totalScore:Ne.score}:we}))}catch(re){console.error("Error parsing leaderboard update:",re)}})},onStompError:Z=>{console.error("STOMP Error:",Z),L("Connection error: "+Z.headers.message)},onWebSocketError:Z=>{console.error("WebSocket Error:",Z),L("WebSocket connection error. Please try again.")},onWebSocketClose:Z=>{console.log("WebSocket Closed:",Z),console.log("Close Code:",Z.code),console.log("Close Reason:",Z.reason)},debug:Z=>{console.log("STOMP Debug:",Z)},reconnectDelay:5e3,heartbeatIncoming:4e3,heartbeatOutgoing:4e3});P.activate(),g(P)},he=async()=>{const P=te();if(!P){L("Unable to identify teacher. Please login again.");return}try{M(!0),console.log(`Creating room with gameId: ${T} and classId: ${C}`);const re=(await ge.post("http://localhost:8080/api/sessions/create",null,{headers:{Authorization:`Bearer ${r}`,"X-Teacher-Id":P},params:{gameId:T,classId:C}})).data;console.log("Room created successfully:",re),i(re.sessionId),c(re.accessCode),v("LOBBY"),localStorage.setItem("teacherSessionId",re.sessionId),localStorage.setItem("teacherAccessCode",re.accessCode),localStorage.setItem("teacherGameState","LOBBY")}catch(Z){console.error("Room creation failed:",Z),L("Failed to create room. Please try again.")}finally{M(!1)}},q=async()=>{const P=te();try{await ge.post(`http://localhost:8080/api/sessions/start/${n}`,null,{headers:{Authorization:`Bearer ${r}`,"X-Teacher-Id":P}}),v("ACTIVE"),localStorage.setItem("teacherGameState","ACTIVE")}catch(Z){console.error("Failed to start game:",Z),L("Failed to start game. Please try again.")}},de=async()=>{const P=te();try{await ge.post(`http://localhost:8080/api/sessions/end/${n}`,null,{headers:{Authorization:`Bearer ${r}`,"X-Teacher-Id":P}}),v("COMPLETED"),localStorage.setItem("teacherGameState","COMPLETED")}catch(Z){console.error("Failed to end game:",Z),L("Failed to end game. Please try again.")}},G=()=>{J(),D(!1)},F=()=>s.jsxs("div",{className:"!bg-white !rounded-2xl !shadow-lg !p-8 !max-w-md !w-full !mx-auto !border !border-gray-100 !animate-fade-in",children:[s.jsxs("h2",{className:"!text-2xl !font-bold !text-gray-800 !mb-6 !text-center !relative",children:[s.jsx("span",{className:"!relative !z-10",children:"Create New Game Session"}),s.jsx("span",{className:"!absolute !bottom-0 !left-0 !right-0 !h-3 !bg-emerald-100 !opacity-50 !-z-10 !transform !-rotate-1"})]}),O?s.jsxs("div",{className:"!flex !flex-col !items-center !justify-center !py-8 !animate-fade-in",children:[s.jsxs("svg",{className:"!w-12 !h-12 !text-emerald-600 !animate-spin !mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"!opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"!opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("p",{className:"!text-gray-600 !animate-pulse",children:"Loading games and classes..."})]}):R?s.jsxs("div",{className:"!bg-red-50 !border-l-4 !border-red-500 !p-4 !rounded-r-lg !mb-6 !animate-slide-up",children:[s.jsxs("div",{className:"!flex !items-center",children:[s.jsx("svg",{className:"!w-6 !h-6 !text-red-500 !mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"!text-red-700",children:R})]}),s.jsxs("button",{onClick:Y,className:"!mt-3 !bg-red-100 !text-red-700 !px-4 !py-2 !rounded-lg !font-medium !hover:bg-red-200 !transition-colors !duration-300 !flex !items-center !text-sm",children:[s.jsx("svg",{className:"!w-4 !h-4 !mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Try Again"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"!mb-6 !animate-slide-up",children:[s.jsx("label",{className:"!block !text-gray-700 !font-medium !mb-2",children:"Select Game:"}),s.jsxs("div",{className:"!relative",children:[s.jsxs("select",{value:T,onChange:P=>S(P.target.value),className:"!appearance-none !block !w-full !px-4 !py-3 !bg-gray-50 !border !border-gray-200 !rounded-lg !text-gray-700 !focus:outline-none !focus:ring-2 !focus:ring-emerald-500 !focus:border-transparent !transition-all !duration-300",children:[s.jsx("option",{value:"",children:"-- Select a Game --"}),x.map(P=>s.jsx("option",{value:P.id,children:P.title},P.id))]}),s.jsx("div",{className:"!pointer-events-none !absolute !inset-y-0 !right-0 !flex !items-center !px-3 !text-gray-500",children:s.jsx("svg",{className:"!w-5 !h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),x.length===0&&s.jsxs("p",{className:"!mt-2 !text-amber-600 !text-sm !flex !items-center",children:[s.jsx("svg",{className:"!w-4 !h-4 !mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"No games available. Create games first."]})]}),s.jsxs("div",{className:"!mb-8 !animate-slide-up !delay-100",children:[s.jsx("label",{className:"!block !text-gray-700 !font-medium !mb-2",children:"Select Class:"}),s.jsxs("div",{className:"!relative",children:[s.jsxs("select",{value:C,onChange:P=>E(P.target.value),className:"!appearance-none !block !w-full !px-4 !py-3 !bg-gray-50 !border !border-gray-200 !rounded-lg !text-gray-700 !focus:outline-none !focus:ring-2 !focus:ring-emerald-500 !focus:border-transparent !transition-all !duration-300",children:[s.jsx("option",{value:"",children:"-- Select a Class --"}),A.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))]}),s.jsx("div",{className:"!pointer-events-none !absolute !inset-y-0 !right-0 !flex !items-center !px-3 !text-gray-500",children:s.jsx("svg",{className:"!w-5 !h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),A.length===0&&s.jsxs("p",{className:"!mt-2 !text-amber-600 !text-sm !flex !items-center",children:[s.jsx("svg",{className:"!w-4 !h-4 !mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"No classes available. Create a class first."]})]}),s.jsxs("button",{onClick:he,disabled:!T||!C||O,className:"!w-full !py-4 !bg-gradient-to-r !from-emerald-500 !to-teal-500 !text-white !font-medium !rounded-xl !shadow-md !hover:shadow-lg !transform !transition-all !duration-300 !hover:-translate-y-1 !active:translate-y-0 !disabled:opacity-50 !disabled:cursor-not-allowed !disabled:hover:transform-none !animate-slide-up !delay-200 !relative !overflow-hidden",children:[s.jsx("span",{className:"!relative !z-10",children:O?s.jsxs("span",{className:"!flex !items-center !justify-center",children:[s.jsxs("svg",{className:"!animate-spin !-ml-1 !mr-2 !h-5 !w-5 !text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"!opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"!opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Game Session"}),s.jsx("span",{className:"!absolute !inset-0 !bg-gradient-to-r !from-emerald-400/0 !via-white/20 !to-emerald-400/0 !transform !translate-x-[-100%] !animate-shimmer"})]})]})]}),N=()=>s.jsx("div",{className:"!min-h-screen !flex !items-center !justify-center !p-4",children:s.jsxs("div",{className:"!bg-white !rounded-2xl !shadow-lg !p-8 !max-w-md !w-full !mx-auto !border !border-gray-100 !animate-fade-in",children:[s.jsxs("h2",{className:"!text-2xl !font-bold !text-gray-800 !mb-6 !text-center !relative",children:[s.jsx("span",{className:"!relative !z-10",children:"Game Lobby"}),s.jsx("span",{className:"!absolute !bottom-0 !left-0 !right-0 !h-3 !bg-indigo-100 !opacity-50 !-z-10 !transform !-rotate-1"})]}),s.jsxs("div",{className:"!bg-gradient-to-r !from-indigo-50 !to-purple-50 !rounded-xl !p-6 !mb-8 !text-center !animate-slide-up",children:[s.jsx("h3",{className:"!text-gray-700 !mb-2 !font-medium",children:"Access Code:"}),s.jsxs("div",{className:"!flex !items-center !justify-center !mb-3",children:[s.jsx("span",{className:"!bg-white !px-4 !py-3 !rounded-lg !text-2xl !font-bold !tracking-wider !text-indigo-700 !shadow-sm !border !border-indigo-100 !animate-pulse-slow",children:o}),s.jsx("button",{className:"!ml-2 !p-2 !bg-indigo-100 !text-indigo-600 !rounded-lg !hover:bg-indigo-200 !transition-colors !duration-300",onClick:()=>{navigator.clipboard.writeText(o)},title:"Copy to clipboard",children:s.jsx("svg",{className:"!w-5 !h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})})]}),s.jsxs("p",{className:"!text-gray-600 !text-sm !flex !items-center !justify-center",children:[s.jsx("svg",{className:"!w-4 !h-4 !mr-1 !text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Share this code with your students to join the session"]})]}),s.jsxs("div",{className:"!mb-8 !animate-slide-up !delay-100",children:[s.jsxs("div",{className:"!flex !items-center !justify-between !mb-4",children:[s.jsx("h3",{className:"!text-lg !font-semibold !text-gray-800",children:"Participants"}),s.jsx("span",{className:"!bg-indigo-100 !text-indigo-800 !px-2.5 !py-0.5 !rounded-full !text-sm !font-medium",children:d.length})]}),d.length===0?s.jsxs("div",{className:"!bg-gray-50 !rounded-xl !p-6 !flex !flex-col !items-center !justify-center !text-gray-500",children:[s.jsx("svg",{className:"!w-12 !h-12 !text-gray-300 !mb-3 !animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),s.jsx("p",{className:"!text-center",children:"Waiting for students to join..."})]}):s.jsx("div",{className:"!max-h-60 !overflow-y-auto !pr-2 !scrollbar-thin !scrollbar-thumb-gray-300 !scrollbar-track-gray-100 !rounded-lg",children:s.jsx("ul",{className:"!space-y-2",children:d.map((P,Z)=>s.jsxs("li",{className:"!flex !items-center !p-3 !bg-white !border !border-gray-100 !rounded-xl !shadow-sm !hover:shadow-md !transition-all !duration-300 !animate-slide-right",style:{animationDelay:`${Z*.05}s`},children:[P.avatarUrl?s.jsx("img",{src:P.avatarUrl||"/placeholder.svg",alt:"avatar",className:"!w-10 !h-10 !rounded-full !mr-3 !border-2 !border-gray-200"}):s.jsx("div",{className:"!w-10 !h-10 !rounded-full !bg-gradient-to-r !from-indigo-300 !to-purple-300 !mr-3 !flex !items-center !justify-center !text-white !font-bold",children:P.displayName.charAt(0).toUpperCase()}),s.jsx("span",{className:"!text-gray-800 !font-medium !flex-1",children:P.displayName}),s.jsx("span",{className:`!w-3 !h-3 !rounded-full ${P.active?"!bg-green-500 !animate-pulse":"!bg-gray-400"}`})]},P.userId))})})]}),s.jsxs("button",{onClick:q,disabled:d.length===0,className:"!w-full !py-4 !bg-gradient-to-r !from-indigo-500 !to-purple-500 !text-white !font-medium !rounded-xl !shadow-md !hover:shadow-lg !transform !transition-all !duration-300 !hover:-translate-y-1 !active:translate-y-0 !disabled:opacity-50 !disabled:cursor-not-allowed !disabled:hover:transform-none !animate-slide-up !delay-200 !relative !overflow-hidden",children:[s.jsx("span",{className:"!relative !z-10",children:"Start Game"}),s.jsx("span",{className:"!absolute !inset-0 !bg-gradient-to-r !from-indigo-400/0 !via-white/20 !to-indigo-400/0 !transform !translate-x-[-100%] !animate-shimmer"})]})]})}),k=()=>s.jsx("div",{className:"!min-h-screen !flex !items-center !justify-center !p-4",children:s.jsxs("div",{className:"!bg-white !rounded-2xl !shadow-lg !p-8 !max-w-md !w-full !mx-auto !border !border-gray-100 !animate-fade-in",children:[s.jsx("div",{className:"!flex !items-center !justify-center !mb-6",children:s.jsxs("div",{className:"!relative",children:[s.jsx("h2",{className:"!text-2xl !font-bold !text-gray-800 !relative !z-10",children:"Game in Progress"}),s.jsx("span",{className:"!absolute !bottom-0 !left-0 !right-0 !h-3 !bg-green-100 !opacity-50 !-z-10 !transform !-rotate-1"})]})}),s.jsxs("div",{className:"!mb-8 !animate-slide-up",children:[s.jsxs("div",{className:"!flex !items-center !justify-between !mb-4",children:[s.jsx("h3",{className:"!text-lg !font-semibold !text-gray-800",children:"Participants"}),s.jsx("span",{className:"!bg-green-100 !text-green-800 !px-2.5 !py-0.5 !rounded-full !text-sm !font-medium",children:d.length})]}),s.jsx("div",{className:"!max-h-80 !overflow-y-auto !pr-2 !scrollbar-thin !scrollbar-thumb-gray-300 !scrollbar-track-gray-100 !rounded-lg",children:d.length===0?s.jsx("div",{className:"!bg-gray-50 !rounded-xl !p-6 !flex !flex-col !items-center !justify-center !text-gray-500",children:s.jsx("p",{className:"!text-center",children:"No participants in the game."})}):s.jsx("ul",{className:"!space-y-3",children:d.map((P,Z)=>s.jsxs("li",{className:"!flex !items-center !p-3 !bg-white !border !border-gray-100 !rounded-xl !shadow-sm !hover:shadow-md !transition-all !duration-300 !animate-slide-right",style:{animationDelay:`${Z*.05}s`},children:[s.jsxs("div",{className:"!flex !items-center !flex-1",children:[P.avatarUrl?s.jsx("img",{src:P.avatarUrl||"/placeholder.svg",alt:"avatar",className:"!w-10 !h-10 !rounded-full !mr-3 !border-2 !border-gray-200"}):s.jsx("div",{className:"!w-10 !h-10 !rounded-full !bg-gradient-to-r !from-green-300 !to-teal-300 !mr-3 !flex !items-center !justify-center !text-white !font-bold",children:P.displayName.charAt(0).toUpperCase()}),s.jsxs("div",{className:"!flex-1",children:[s.jsx("span",{className:"!text-gray-800 !font-medium !block",children:P.displayName}),s.jsxs("div",{className:"!flex !items-center !mt-1",children:[s.jsx("div",{className:"!w-full !max-w-[100px] !bg-gray-200 !rounded-full !h-2",children:s.jsx("div",{className:"!bg-gradient-to-r !from-green-500 !to-teal-500 !h-2 !rounded-full",style:{width:`${Math.min(100,P.totalScore/Math.max(...d.map(re=>re.totalScore||1))*100)}%`,transition:"width 1s ease-in-out"}})}),s.jsx("span",{className:"!text-sm !font-semibold !text-green-600 !ml-2",children:P.totalScore})]})]})]}),s.jsx("span",{className:`!w-3 !h-3 !rounded-full !ml-2 ${P.active?"!bg-green-500 !animate-pulse":"!bg-gray-400"}`})]},P.userId))})})]}),s.jsxs("button",{onClick:de,className:"!w-full !py-4 !bg-gradient-to-r !from-red-500 !to-pink-500 !text-white !font-medium !rounded-xl !shadow-md !hover:shadow-lg !transform !transition-all !duration-300 !hover:-translate-y-1 !active:translate-y-0 !animate-slide-up !delay-200 !relative !overflow-hidden !flex !items-center !justify-center",children:[s.jsxs("svg",{className:"!w-5 !h-5 !mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 10v4m0 0h6m-6 0H9"})]}),s.jsx("span",{className:"!relative !z-10",children:"End Game"}),s.jsx("span",{className:"!absolute !inset-0 !bg-gradient-to-r !from-red-400/0 !via-white/20 !to-red-400/0 !transform !translate-x-[-100%] !animate-shimmer"})]}),s.jsx("style",{jsx:!0,children:`
          @keyframes fade-in {
            0% { opacity: 0; }
            100% { opacity: 1; }
          }
          
          @keyframes slide-up {
            0% { transform: translateY(10px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
          }
          
          @keyframes slide-right {
            0% { transform: translateX(-10px); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
          }
          
          @keyframes shimmer {
            100% { transform: translateX(100%); }
          }
          
          .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
          .animate-slide-up { animation: slide-up 0.5s ease-out forwards; }
          .animate-slide-right { animation: slide-right 0.4s ease-out forwards; }
          .animate-shimmer { animation: shimmer 2s infinite; }
          
          .delay-100 { animation-delay: 0.1s; }
          .delay-200 { animation-delay: 0.2s; }
          
          .scrollbar-thin::-webkit-scrollbar {
            width: 6px;
          }
          
          .scrollbar-thumb-gray-300::-webkit-scrollbar-thumb {
            background-color: #d1d5db;
            border-radius: 3px;
          }
          
          .scrollbar-track-gray-100::-webkit-scrollbar-track {
            background-color: #f3f4f6;
            border-radius: 3px;
          }
        `})]})}),H=()=>s.jsx("div",{className:"!min-h-screen !flex !items-center !justify-center !p-4",children:s.jsxs("div",{className:"!bg-white !rounded-2xl !shadow-lg !p-8 !max-w-md !w-full !mx-auto !border !border-gray-100 !animate-fade-in",children:[s.jsx("div",{className:"!flex !items-center !justify-center !mb-8",children:s.jsxs("div",{className:"!relative",children:[s.jsxs("h2",{className:"!text-2xl !font-bold !text-gray-800 !relative !z-10 !flex !items-center",children:[s.jsx("svg",{className:"!w-7 !h-7 !text-yellow-500 !mr-2 !animate-bounce-slow",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Game Completed",s.jsx("svg",{className:"!w-7 !h-7 !text-yellow-500 !ml-2 !animate-bounce-slow",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z",clipRule:"evenodd"})})]}),s.jsx("span",{className:"!absolute !bottom-0 !left-0 !right-0 !h-3 !bg-yellow-100 !opacity-50 !-z-10 !transform !-rotate-1"})]})}),s.jsxs("div",{className:"!bg-gradient-to-r !from-yellow-50 !to-amber-50 !rounded-xl !p-6 !mb-6 !animate-slide-up",children:[s.jsxs("h3",{className:"!text-lg !font-semibold !text-gray-800 !mb-4 !flex !items-center",children:[s.jsx("svg",{className:"!w-5 !h-5 !text-yellow-500 !mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Results Summary"]}),s.jsxs("div",{className:"!grid !grid-cols-2 !gap-4",children:[s.jsxs("div",{className:"!bg-white !rounded-lg !p-4 !text-center !shadow-sm",children:[s.jsx("p",{className:"!text-gray-500 !text-sm !mb-1",children:"Total Participants"}),s.jsx("p",{className:"!text-2xl !font-bold !text-gray-800",children:d.length})]}),s.jsxs("div",{className:"!bg-white !rounded-lg !p-4 !text-center !shadow-sm",children:[s.jsx("p",{className:"!text-gray-500 !text-sm !mb-1",children:"Avg. Score"}),s.jsx("p",{className:"!text-2xl !font-bold !text-gray-800",children:d.length>0?Math.round(d.reduce((P,Z)=>P+(Z.totalScore||0),0)/d.length):0})]}),s.jsxs("div",{className:"!bg-white !rounded-lg !p-4 !text-center !shadow-sm",children:[s.jsx("p",{className:"!text-gray-500 !text-sm !mb-1",children:"Highest Score"}),s.jsx("p",{className:"!text-2xl !font-bold !text-yellow-600",children:d.length>0?Math.max(...d.map(P=>P.totalScore||0)):0})]}),s.jsxs("div",{className:"!bg-white !rounded-lg !p-4 !text-center !shadow-sm",children:[s.jsx("p",{className:"!text-gray-500 !text-sm !mb-1",children:"Completion Time"}),s.jsx("p",{className:"!text-2xl !font-bold !text-gray-800",children:"10:25"})]})]})]}),s.jsxs("div",{className:"!mb-8 !animate-slide-up !delay-100",children:[s.jsxs("h3",{className:"!text-lg !font-semibold !text-gray-800 !mb-4 !flex !items-center",children:[s.jsx("svg",{className:"!w-5 !h-5 !text-yellow-500 !mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),"Participant Results"]}),s.jsx("div",{className:"!max-h-80 !overflow-y-auto !pr-2 !scrollbar-thin !scrollbar-thumb-gray-300 !scrollbar-track-gray-100 !rounded-lg",children:d.length===0?s.jsx("div",{className:"!bg-gray-50 !rounded-xl !p-6 !flex !flex-col !items-center !justify-center !text-gray-500",children:s.jsx("p",{className:"!text-center",children:"No participants in the game."})}):s.jsx("ul",{className:"!space-y-3",children:[...d].sort((P,Z)=>(Z.totalScore||0)-(P.totalScore||0)).map((P,Z)=>s.jsxs("li",{className:`!flex !items-center !p-3 !rounded-xl !shadow-sm !transition-all !duration-300 !animate-slide-right ${Z===0?"!bg-gradient-to-r !from-yellow-100 !to-yellow-50 !border-l-4 !border-yellow-400":Z===1?"!bg-gradient-to-r !from-gray-100 !to-gray-50 !border-l-4 !border-gray-400":Z===2?"!bg-gradient-to-r !from-amber-100 !to-amber-50 !border-l-4 !border-amber-600":"!bg-white !border !border-gray-100"}`,style:{animationDelay:`${Z*.05}s`},children:[s.jsx("div",{className:"!w-8 !h-8 !flex !items-center !justify-center !rounded-full !mr-3 !font-bold !text-sm !shadow-inner !bg-white !text-gray-700",children:Z+1}),s.jsxs("div",{className:"!flex !items-center !flex-1",children:[P.avatarUrl?s.jsx("img",{src:P.avatarUrl||"/placeholder.svg",alt:"avatar",className:"!w-10 !h-10 !rounded-full !mr-3 !border-2 !border-gray-200"}):s.jsx("div",{className:"!w-10 !h-10 !rounded-full !bg-gradient-to-r !from-yellow-300 !to-amber-300 !mr-3 !flex !items-center !justify-center !text-white !font-bold",children:P.displayName.charAt(0).toUpperCase()}),s.jsx("span",{className:"!text-gray-800 !font-medium !flex-1",children:P.displayName}),s.jsxs("div",{className:"!flex !items-center",children:[Z===0&&s.jsx("span",{className:"!text-yellow-500 !mr-2 !animate-bounce-slow",children:"👑"}),s.jsx("span",{className:`!px-3 !py-1 !rounded-full !text-sm !font-semibold ${Z===0?"!bg-yellow-200 !text-yellow-800":Z===1?"!bg-gray-200 !text-gray-800":Z===2?"!bg-amber-200 !text-amber-800":"!bg-gray-100 !text-gray-800"}`,children:P.totalScore!==void 0?P.totalScore:0})]})]})]},P.userId))})})]}),s.jsxs("button",{onClick:G,className:"!w-full !py-4 !bg-gradient-to-r !from-blue-500 !to-indigo-500 !text-white !font-medium !rounded-xl !shadow-md !hover:shadow-lg !transform !transition-all !duration-300 !hover:-translate-y-1 !active:translate-y-0 !animate-slide-up !delay-200 !relative !overflow-hidden !flex !items-center !justify-center",children:[s.jsx("svg",{className:"!w-5 !h-5 !mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),s.jsx("span",{className:"!relative !z-10",children:"Create New Game"}),s.jsx("span",{className:"!absolute !inset-0 !bg-gradient-to-r !from-blue-400/0 !via-white/20 !to-blue-400/0 !transform !translate-x-[-100%] !animate-shimmer"})]}),s.jsx("div",{className:"!fixed !inset-0 !pointer-events-none !z-50",children:Array.from({length:50}).map((P,Z)=>s.jsx("div",{className:"!absolute !animate-confetti",style:{left:`${Math.random()*100}%`,top:"-20px",width:`${Math.random()*10+5}px`,height:`${Math.random()*10+5}px`,backgroundColor:["#FFD700","#FFC0CB","#87CEFA","#90EE90","#FF6347"][Math.floor(Math.random()*5)],borderRadius:Math.random()>.5?"50%":"0",animationDuration:`${Math.random()*3+2}s`,animationDelay:`${Math.random()*.5}s`}},Z))}),s.jsx("style",{jsx:!0,children:`
          @keyframes fade-in {
            0% { opacity: 0; }
            100% { opacity: 1; }
          }
          
          @keyframes slide-up {
            0% { transform: translateY(10px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
          }
          
          @keyframes slide-right {
            0% { transform: translateX(-10px); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
          }
          
          @keyframes bounce-slow {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
          }
          
          @keyframes shimmer {
            100% { transform: translateX(100%); }
          }
          
          @keyframes confetti {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
          }
          
          .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
          .animate-slide-up { animation: slide-up 0.5s ease-out forwards; }
          .animate-slide-right { animation: slide-right 0.4s ease-out forwards; }
          .animate-bounce-slow { animation: bounce-slow 2s infinite; }
          .animate-shimmer { animation: shimmer 2s infinite; }
          .animate-confetti { animation: confetti 3s ease-out forwards; }
          
          .delay-100 { animation-delay: 0.1s; }
          .delay-200 { animation-delay: 0.2s; }
          
          .scrollbar-thin::-webkit-scrollbar {
            width: 6px;
          }
          
          .scrollbar-thumb-gray-300::-webkit-scrollbar-thumb {
            background-color: #d1d5db;
            border-radius: 3px;
          }
          
          .scrollbar-track-gray-100::-webkit-scrollbar-track {
            background-color: #f3f4f6;
            border-radius: 3px;
          }
        `})]})}),le=()=>{switch(p){case"SETUP":return F();case"LOBBY":return N();case"ACTIVE":return k();case"COMPLETED":return H();default:return F()}};return s.jsx("div",{className:"teacher-game-session-container",children:le()})},cT=()=>{const{token:r}=Qt(),[n,i]=b.useState(""),[o,c]=b.useState([]),[d,h]=b.useState(null),[m,g]=b.useState(null),[p,v]=b.useState(!1),[x,w]=b.useState(!1),[A,_]=b.useState("LOBBY"),T=Ut(),S=Wt();b.useEffect(()=>{const L=localStorage.getItem("studentSessionAccessCode"),B=localStorage.getItem("studentJoinedStatus")==="true";if(L&&B)i(L),v(!0),O(L),E(L);else{const z=new URLSearchParams(S.search).get("accessCode");z&&i(z.toUpperCase())}},[S.search]);const C=()=>{try{return JSON.parse(atob(r.split(".")[1])).sub}catch(L){return console.error("Failed to extract student ID from token:",L),g("Authentication error. Please log in again."),null}},E=async L=>{var B,D,z,te;try{console.log(`Fetching participants for session with code: ${L}`);const ie=await ge.get(`http://localhost:8080/api/sessions/${L}/participants`,{headers:{Authorization:`Bearer ${r}`}});console.log("Participants received:",ie.data),c(ie.data)}catch(ie){console.error("Failed to fetch participants:",ie);const J=((D=(B=ie.response)==null?void 0:B.data)==null?void 0:D.message)||((te=(z=ie.response)==null?void 0:z.data)==null?void 0:te.error)||"Failed to fetch participants, session may have ended";g(J),v(!1),localStorage.removeItem("studentSessionAccessCode"),localStorage.removeItem("studentJoinedStatus")}},O=L=>{console.log("Setting up WebSocket with access code:",L);const B=new ci({webSocketFactory:()=>new oi("http://localhost:8080/ws-sessions"),connectHeaders:{Authorization:`Bearer ${r}`},onConnect:()=>{console.log("WebSocket Connected!"),E(L),B.subscribe(`/topic/session/${L}/participants`,z=>{const te=JSON.parse(z.body);console.log("Received participants update:",te),c(te)}),B.subscribe(`/topic/session/${L}/status`,z=>{const te=z.body;_(te),console.log(`Session status changed to: ${te}`),te==="COMPLETED"&&(v(!1),localStorage.removeItem("studentSessionAccessCode"),localStorage.removeItem("studentJoinedStatus"),d&&d.deactivate(),c([]),i(""),g("This session has ended."))});const D=C();if(D){const z=setInterval(()=>{B.connected&&(console.log("Sending heartbeat..."),B.publish({destination:`/app/heartbeat/${L}`,body:D}))},3e4);return()=>clearInterval(z)}},onStompError:D=>{console.error("STOMP Error:",D),g("Connection error: "+D.headers.message)},onWebSocketClose:()=>{console.log("WebSocket disconnected")},reconnectDelay:5e3,heartbeatIncoming:4e3,heartbeatOutgoing:4e3});B.activate(),h(B)};b.useEffect(()=>{A==="ACTIVE"&&p&&T(`/student/play?accessCode=${n}`)},[A,p,n,T]);const M=async L=>{var D,z,te,ie;L.preventDefault();const B=C();w(!0),g(null);try{if(!B)throw new Error("Unable to identify student. Please login again.");const J=n.toUpperCase();console.log(`Attempting to join session with code: ${J}, student ID: ${B}`);const Y=await ge.post(`http://localhost:8080/api/sessions/join/${J}`,null,{headers:{Authorization:`Bearer ${r}`,"X-Student-Id":B}});console.log("Join response:",Y.data),Y.data.success?(v(!0),O(J),E(J),localStorage.setItem("studentSessionAccessCode",J),localStorage.setItem("studentJoinedStatus","true"),i(J)):g(Y.data.message||"Failed to join session.")}catch(J){console.error("Join session failed:",J);const Y=((z=(D=J.response)==null?void 0:D.data)==null?void 0:z.message)||((ie=(te=J.response)==null?void 0:te.data)==null?void 0:ie.error)||"Failed to join session. Check access code and try again.";g(Y)}finally{w(!1)}},R=async()=>{var B,D,z,te;const L=C();try{console.log(`Leaving session with code: ${n}, student ID: ${L}`),await ge.post(`http://localhost:8080/api/sessions/leave/${n}`,null,{headers:{Authorization:`Bearer ${r}`,"X-Student-Id":L}}),d&&d.deactivate(),v(!1),c([]),i(""),g(null),localStorage.removeItem("studentSessionAccessCode"),localStorage.removeItem("studentJoinedStatus"),console.log("Successfully left session")}catch(ie){console.error("Leave session failed:",ie);const J=((D=(B=ie.response)==null?void 0:B.data)==null?void 0:D.message)||((te=(z=ie.response)==null?void 0:z.data)==null?void 0:te.error)||"Failed to leave session.";g(J)}};return b.useEffect(()=>()=>{d&&d.deactivate()},[d]),s.jsxs("div",{className:"student-session-container",children:[s.jsx("h1",{children:"Join Game Session"}),p?s.jsxs("div",{className:"session-lobby",children:[s.jsx("div",{className:"session-info",children:s.jsxs("h2",{children:["Session Code: ",n]})}),s.jsxs("div",{className:"session-status",children:[s.jsxs("h2",{children:["Session Status: ",A]}),A==="LOBBY"&&s.jsx("p",{children:"Waiting for teacher to start the game..."}),A==="ACTIVE"&&s.jsx("p",{children:"Game is in progress!"})]}),s.jsxs("div",{className:"participants-list",children:[s.jsxs("h2",{children:["Participants in Session (",o.length,")"]}),o.length===0?s.jsx("p",{children:"Loading participants..."}):s.jsx("ul",{children:o.map(L=>s.jsxs("li",{className:"participant-item",children:[L.avatarUrl&&s.jsx("img",{src:L.avatarUrl,alt:"avatar",className:"participant-avatar"}),s.jsx("span",{className:"participant-name",children:L.displayName}),s.jsx("span",{className:`status-indicator ${L.active?"active":"inactive"}`})]},L.userId))})]}),m&&s.jsx("div",{className:"error-message",children:m}),s.jsx("button",{onClick:R,className:"leave-button",children:"Leave Session"})]}):s.jsxs("form",{onSubmit:M,className:"join-form",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Enter Access Code:"}),s.jsx("input",{type:"text",value:n,onChange:L=>i(L.target.value.toUpperCase()),placeholder:"ABCDEF",maxLength:"6",pattern:"[A-Z0-9]{6}",required:!0,className:"access-code-input"})]}),m&&s.jsx("div",{className:"error-message",children:m}),s.jsx("button",{type:"submit",disabled:x,className:"join-button",children:x?"Joining...":"Join Session"})]})]})},uT=()=>{const{token:r,role:n}=Qt(),[i,o]=b.useState(!1),[c,d]=b.useState(""),[h,m]=b.useState(""),[g,p]=b.useState(!1),[v,x]=b.useState(""),[w,A]=b.useState(""),[_,T]=b.useState([]),[S,C]=b.useState(!1),[E,O]=b.useState({}),[M,R]=b.useState({}),L=Ut();b.useEffect(()=>{(async()=>{try{C(!0);const J=await ge.get("http://localhost:8080/api/classes/teacher",{headers:{Authorization:`Bearer ${r}`,"X-Teacher-Id":JSON.parse(atob(r.split(".")[1])).sub}}),Y=Array.isArray(J.data)?J.data:[];T(Y)}catch(J){console.error("Failed to fetch classes",J),x("Failed to load classes. Please try again later."),T([])}finally{C(!1)}})()},[w,r]);const B=async ie=>{var J;if(ie.preventDefault(),p(!0),x(""),A(""),!c.trim()){x("Class name is required"),p(!1);return}try{const Y=await ge.post("http://localhost:8080/api/classes",{name:c,description:h},{headers:{Authorization:`Bearer ${r}`,"X-Teacher-Id":JSON.parse(atob(r.split(".")[1])).sub}});d(""),m(""),A(`Class "${Y.data.class.name}" created successfully! Class Code: ${Y.data.classCode}`);const pe=Y.data.class.id,he=Y.data.classCode;O(q=>({...q,[pe]:he})),R(q=>({...q,[pe]:he}))}catch(Y){console.error("Failed to create class",Y),x(((J=Y.response)==null?void 0:J.data)||"Failed to create class. Please try again.")}finally{p(!1)}},D=async ie=>{try{const Y=(await ge.post(`http://localhost:8080/api/classes/${ie}/generate-code`,{},{headers:{Authorization:`Bearer ${r}`,"X-Teacher-Id":JSON.parse(atob(r.split(".")[1])).sub}})).data.classCode;O(pe=>({...pe,[ie]:Y})),R(pe=>({...pe,[ie]:Y})),A("New class code generated successfully!")}catch(J){console.error("Failed to generate new code",J),x("Failed to generate new class code. Please try again.")}},z=async ie=>{if(E[ie]){R(J=>{if(J[ie]){const Y={...J};return delete Y[ie],Y}else return{...J,[ie]:E[ie]}});return}try{const Y=(await ge.post(`http://localhost:8080/api/classes/${ie}/generate-code`,{},{headers:{Authorization:`Bearer ${r}`,"X-Teacher-Id":JSON.parse(atob(r.split(".")[1])).sub}})).data.classCode;O(pe=>({...pe,[ie]:Y})),R(pe=>({...pe,[ie]:Y}))}catch(J){console.error("Failed to get class code",J),x("Failed to retrieve class code. Please try again.")}},te=ie=>{L(`/classes/${ie}`)};return s.jsxs(s.Fragment,{children:[s.jsx(Gr,{}),s.jsxs("div",{className:"app-container",children:[s.jsx(Qn,{}),s.jsx("div",{className:"main-content1",children:s.jsxs("div",{className:"manage-classes-container",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card-header",children:[s.jsx("button",{onClick:()=>o(!0),className:"open-modal-button",children:s.jsx(Rt,{className:"text-emerald-600"})}),s.jsx("h2",{className:"card-title",children:"Create New Class"})]}),s.jsxs("div",{className:"card-header",children:[s.jsx(ql,{className:"text-emerald-600"}),s.jsx("h2",{className:"card-title",children:"Your Classes"})]}),S?s.jsx("div",{className:"loading-container",children:s.jsxs("svg",{className:"spinner text-emerald-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):Array.isArray(_)&&_.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx(ql,{className:"empty-icon text-gray-300"}),s.jsx("p",{children:"You haven't created any classes yet."})]}):s.jsx("div",{className:"classes-container",children:s.jsx("div",{className:"classes-scrollable",children:s.jsx("div",{className:"grid gap-4",children:_.map(ie=>{var J;return s.jsxs("div",{className:"class-card-horizontal",children:[s.jsxs("div",{className:"class-card-section",children:[s.jsx("h3",{className:"class-card-title",children:ie.name}),ie.description&&s.jsx("p",{className:"class-description",children:ie.description}),s.jsxs("div",{className:"class-card-meta",children:[s.jsx(TS,{className:"h-4 w-4"}),s.jsxs("span",{children:[((J=ie.studentIds)==null?void 0:J.length)||0," students"]})]})]}),s.jsx("div",{className:"col-span-2 code-container",children:M[ie.id]?s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs("div",{className:"code-box",children:[s.jsxs("span",{className:"font-medium",children:["Code: ",M[ie.id]]}),s.jsx("button",{onClick:()=>z(ie.id),className:"code-hide-button","aria-label":"Hide code",children:s.jsx(vy,{className:"code-icon"})})]}),s.jsxs("button",{onClick:()=>D(ie.id),className:"code-new-button",children:[s.jsx(xy,{className:"code-icon"}),"New Code"]})]}):s.jsxs("button",{onClick:()=>z(ie.id),className:"code-show-button",children:[s.jsx(yy,{className:"code-icon"}),"Show Class Code"]})}),s.jsx("div",{className:"class-card-section flex items-center justify-end",children:s.jsxs("button",{onClick:()=>te(ie.id),className:"details-button-horizontal",children:[s.jsx("span",{children:"Details"}),s.jsx(yf,{className:"details-icon"})]})})]},ie.id)})})})})]}),i&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-container",children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("div",{className:"modal-title-container",children:[s.jsx(Rt,{className:"modal-title-icon"}),s.jsx("h2",{className:"modal-title",children:"Create New Class"})]}),s.jsx("button",{onClick:()=>o(!1),className:"modal-close-button",children:s.jsx(sa,{className:"modal-close-icon"})})]}),s.jsxs("div",{className:"modal-alerts-container",children:[v&&s.jsx("div",{className:"compact-alert alert-error",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"compact-alert-icon",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"compact-alert-message",children:v}),s.jsx("button",{onClick:()=>x(null),className:"compact-alert-close",children:s.jsx(sa,{className:"w-3 h-3"})})]})]})}),w&&s.jsx("div",{className:"compact-alert alert-success",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"compact-alert-icon",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"compact-alert-message",children:w}),s.jsx("button",{onClick:()=>A(null),className:"compact-alert-close",children:s.jsx(sa,{className:"w-3 h-3"})})]})]})})]}),s.jsxs("form",{onSubmit:B,className:"modal-form",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",htmlFor:"className",children:"Class Name*"}),s.jsx("input",{type:"text",id:"className",className:"form-input",value:c,onChange:ie=>d(ie.target.value),placeholder:"Enter class name",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",htmlFor:"description",children:"Description"}),s.jsx("textarea",{id:"description",className:"form-textarea",rows:"4",value:h,onChange:ie=>m(ie.target.value),placeholder:"Describe your class (optional)"})]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{type:"button",onClick:()=>o(!1),className:"modal-cancel-button",children:"Cancel"}),s.jsx("button",{type:"submit",className:"modal-submit-button",disabled:g,children:g?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"spinner",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Class"})]})]})]})})]})})]})]})},dT=()=>{const{classId:r}=ly(),n=Ut(),{token:i,role:o}=Qt(),[c,d]=b.useState(null),[h,m]=b.useState([]),[g,p]=b.useState(!0),[v,x]=b.useState(""),[w,A]=b.useState(""),[_,T]=b.useState(""),[S,C]=b.useState(!1),[E,O]=b.useState("students"),[M,R]=b.useState([]),[L,B]=b.useState([]),[D,z]=b.useState(""),[te,ie]=b.useState(!1);b.useEffect(()=>{(async()=>{try{p(!0);const k=await ge.get(`http://localhost:8080/api/classes/${r}`,{headers:{Authorization:`Bearer ${i}`}});if(d(k.data),k.data.studentIds&&k.data.studentIds.length>0){const H=await Promise.all(k.data.studentIds.map(async P=>{try{return(await ge.get(`http://localhost:8080/api/classes/user/${P}`,{headers:{Authorization:`Bearer ${i}`}})).data}catch(Z){return console.error(`Failed to fetch student with ID: ${P}`,Z),{id:P,name:"Unknown Student",email:""}}}));m(H);const le=H.map(P=>({id:P.id,name:P.name||P.username||"Unknown",points:Math.floor(Math.random()*3e3),country:"US"})).sort((P,Z)=>Z.points-P.points).slice(0,4);R(le)}}catch(k){console.error("Failed to fetch class details",k),x("Failed to load class details. Please try again later.")}finally{p(!1)}})()},[r,i]),b.useEffect(()=>{E==="quiz"&&J()},[E,i]);const J=async()=>{try{ie(!0);const N=Y();if(!N)throw new Error("Could not determine teacher ID from token");const k=await ge.get("http://localhost:8080/api/games/teacher",{headers:{Authorization:`Bearer ${i}`,"X-Teacher-Id":N}});B(Array.isArray(k.data)?k.data:[])}catch(N){console.error("Failed to fetch games",N),x("Failed to load available games. Please try again later.")}finally{ie(!1)}},Y=()=>{try{return JSON.parse(atob(i.split(".")[1])).sub}catch(N){return console.error("Failed to extract teacher ID from token:",N),null}},pe=async()=>{try{const N=await ge.post(`http://localhost:8080/api/classes/${r}/generate-code`,{},{headers:{Authorization:`Bearer ${i}`}});T(N.data.classCode),C(!0),A("New class code generated successfully!"),setTimeout(()=>{A("")},3e3)}catch(N){console.error("Failed to generate new code",N),x("Failed to generate new class code. Please try again."),setTimeout(()=>{x("")},3e3)}},he=async()=>{if(_&&S){C(!1);return}if(_){C(!0);return}try{const N=await ge.post(`http://localhost:8080/api/classes/${r}/generate-code`,{},{headers:{Authorization:`Bearer ${i}`}});T(N.data.classCode),C(!0)}catch(N){console.error("Failed to get class code",N),x("Failed to retrieve class code. Please try again.")}},q=async N=>{try{await ge.delete(`http://localhost:8080/api/classes/${r}/students/${N}`,{headers:{Authorization:`Bearer ${i}`}}),m(h.filter(k=>k.id!==N)),d({...c,studentIds:c.studentIds.filter(k=>k!==N)}),A("Student removed successfully!"),setTimeout(()=>{A("")},3e3)}catch(k){console.error("Failed to remove student",k),x("Failed to remove student. Please try again."),setTimeout(()=>{x("")},3e3)}},de=()=>{alert("Attendance marking feature would be implemented here")},G=async()=>{if(!D){x("Please select a game first"),setTimeout(()=>{x("")},3e3);return}n(`/teacher/game-room?gameId=${D}&classId=${r}`)};if(g)return s.jsxs(s.Fragment,{children:[s.jsx(Qn,{}),s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-emerald-500"})})]});const F=N=>new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return s.jsxs(s.Fragment,{children:[s.jsx(Gr,{}),s.jsxs("div",{className:"app-container",children:[s.jsx(Qn,{}),s.jsxs("div",{className:"main-content",children:[v&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded-md mb-6 shadow-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("p",{children:v})]})}),w&&s.jsx("div",{className:"bg-emerald-50 border-l-4 border-emerald-500 text-emerald-700 p-4 rounded-md mb-6 shadow-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("p",{children:w})]})}),s.jsx("div",{className:"bg-blue-500 rounded-xl text-white p-6",children:s.jsx("div",{className:"class-card-container",children:s.jsxs("div",{className:"class-card-custome",children:[s.jsxs("div",{className:"class-info",children:[s.jsx("h1",{className:"class-title",children:(c==null?void 0:c.name)||"Class"}),s.jsxs("div",{className:"class-date",children:[s.jsx(FN,{className:"icon"}),s.jsx("span",{children:c!=null&&c.createdAt?F(c.createdAt):"No date available"})]}),s.jsxs("div",{className:"class-actions",children:[s.jsx("button",{onClick:he,className:"code-toggle-btn",children:S?s.jsxs(s.Fragment,{children:[s.jsx(vy,{className:"icon"}),"Hide Code"]}):s.jsxs(s.Fragment,{children:[s.jsx(yy,{className:"icon"}),"Show Code"]})}),s.jsxs("button",{onClick:de,className:"attendance-btn",children:[s.jsx(Jd,{className:"icon"}),"Mark Attendance"]})]}),S&&s.jsxs("div",{className:"class-code-box",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm font-medium mr-2",children:"Class Code:"}),s.jsx("span",{className:"font-mono bg-white/20 px-2 py-1 rounded text-sm",children:_})]}),s.jsxs("button",{onClick:pe,className:"text-xs bg-white/10 hover:bg-white/20 rounded-md px-2 py-1 flex items-center",children:[s.jsx(xy,{className:"h-3 w-3 mr-1"}),"New Code"]})]})]}),s.jsxs("div",{className:"tutor-section",children:[s.jsxs("div",{className:"tutor-header",children:[s.jsx("h3",{className:"tutor-title",children:"Tutors"}),s.jsx("span",{className:"status-badge",children:"In Progress"})]}),s.jsxs("div",{className:"tutor-box",children:[s.jsxs("div",{className:"tutor-left",children:[s.jsx("img",{src:"/api/placeholder/40/40",alt:"Tutor",className:"tutor-avatar"}),s.jsxs("div",{children:[s.jsx("div",{className:"tutor-name",children:"Teacher Name"}),s.jsx("div",{className:"tutor-role",children:"Lead Tutor"})]})]}),s.jsx("div",{className:"tutor-indicator"})]}),s.jsxs("div",{className:"members-section",children:[s.jsx("span",{className:"text-sm font-medium",children:"Members"}),s.jsx("button",{className:"invite-btn",children:"Invite"}),s.jsxs("div",{className:"avatar-group",children:[h.slice(0,5).map((N,k)=>{var H;return s.jsx("div",{className:`avatar-circle bg-${["orange","green","purple","red","blue"][k%5]}-400`,children:N.name?`${N.name.charAt(0)}${((H=N.name.split(" ")[1])==null?void 0:H.charAt(0))||""}`:"U"},k)}),h.length>5&&s.jsxs("div",{className:"avatar-circle bg-blue-500 text-white border-white",children:["+",h.length-5]})]})]})]})]})})}),s.jsxs("div",{className:"class-page",children:[s.jsxs("div",{className:"main-content-custome",children:[s.jsx("div",{className:"tab-nav",children:s.jsxs("nav",{className:"tab-buttons",children:[s.jsx("button",{className:`tab-button ${E==="students"?"active":""}`,onClick:()=>O("students"),children:"Students"}),s.jsx("button",{className:`tab-button ${E==="attendance"?"active":""}`,onClick:()=>O("attendance"),children:"Attendance"}),s.jsx("button",{className:`tab-button ${E==="quiz"?"active":""}`,onClick:()=>O("quiz"),children:"Quiz"})]})}),s.jsxs("div",{className:"tab-content",children:[E==="students"&&s.jsx("div",{children:h.length>0?s.jsxs("table",{className:"student-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name/Email"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:h.map((N,k)=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"student-info",children:[s.jsx("img",{src:"/api/placeholder/40/40",alt:"Student",className:"avatar"}),s.jsxs("div",{children:[s.jsx("div",{className:"student-name",children:N.name||N.username}),s.jsx("div",{className:"student-email",children:N.email})]})]})}),s.jsx("td",{children:s.jsx("span",{className:"status-badge",children:N.status||"Active"})}),s.jsx("td",{children:s.jsx("button",{onClick:()=>q(N.id),className:"remove-button",children:"Remove"})})]},k))})]}):s.jsx("div",{className:"empty-message",children:"No students have joined this class yet."})}),E==="attendance"&&s.jsxs("div",{children:[s.jsxs("div",{className:"tab-header",children:[s.jsx("h3",{children:"Attendance History"}),s.jsx("button",{className:"action-button",children:"Take Attendance"})]}),s.jsx("div",{className:"empty-message",children:"Attendance reports will be shown here"})]}),E==="quiz"&&s.jsxs("div",{children:[s.jsxs("div",{className:"tab-header",children:[s.jsx("h3",{children:"Quiz Management"}),s.jsx("button",{className:"action-button",onClick:()=>n(`/games/edit/new?classId=${r}`),children:"Create Quiz"})]}),s.jsxs("div",{className:"start-game-section mt-8 p-6 bg-white rounded-lg shadow-md",children:[s.jsxs("h4",{className:"text-xl font-medium mb-4 flex items-center",children:[s.jsx(Fg,{className:"mr-2 text-blue-500"}),"Start a Game Session"]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Start a game session with students in this class. Select a game from the list below."}),s.jsxs("div",{className:"game-selection mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select a Game:"}),s.jsxs("select",{value:D,onChange:N=>z(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"-- Select a Game --"}),L.map(N=>s.jsx("option",{value:N.id,children:N.title},N.id))]}),L.length===0&&!te&&s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No games available. Create a game first."})]}),s.jsx("button",{onClick:G,disabled:!D||te,className:`flex items-center justify-center px-4 py-2 rounded-md text-white ${!D||te?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition-colors w-full`,children:te?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Fg,{className:"mr-2"}),"Start Game"]})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h4",{className:"text-lg font-medium mb-4",children:"Available Games"}),te?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):L.length===0?s.jsx("div",{className:"empty-message",children:"No quizzes have been created for this class yet"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:L.map(N=>{var k;return s.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[s.jsx("h5",{className:"font-medium text-lg",children:N.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:N.description||"No description"}),s.jsxs("div",{className:"mt-3 flex items-center",children:[s.jsx(ql,{className:"text-blue-500 h-4 w-4 mr-1"}),s.jsxs("span",{className:"text-sm",children:[((k=N.questions)==null?void 0:k.length)||0," questions"]})]})]},N.id)})})]})]})]})]}),s.jsxs("div",{className:"leaderboard-container",children:[s.jsx("h3",{className:"leaderboard-title",children:"Leaderboard"}),s.jsxs("div",{className:"leaderboard-card",children:[s.jsxs("div",{className:"leaderboard-tabs",children:[s.jsx("button",{className:"leaderboard-tab active",children:"Weekly"}),s.jsx("button",{className:"leaderboard-tab",children:"All Time"})]}),s.jsx("div",{className:"leaderboard-list",children:M.length>0?M.map((N,k)=>s.jsxs("div",{className:"leaderboard-item",children:[s.jsxs("div",{className:"leaderboard-rank",children:[s.jsx("div",{className:"rank-circle",children:k+1}),s.jsx("img",{src:"/api/placeholder/32/32",alt:N.name,className:"avatar-small"}),s.jsxs("div",{children:[s.jsx("div",{className:"student-name",children:N.name}),s.jsxs("div",{className:"student-email",children:[N.points," points"]})]})]}),s.jsxs("div",{className:"leaderboard-icon",children:[k===0&&s.jsx("div",{className:"gold",children:s.jsx(Mu,{className:"icon"})}),k===1&&s.jsx("div",{className:"silver",children:s.jsx(Mu,{className:"icon"})}),k===2&&s.jsx("div",{className:"bronze",children:s.jsx(Mu,{className:"icon"})})]})]},k)):s.jsx("div",{className:"empty-message",children:"No leaderboard data available"})})]})]})]})]})]})]})},fT=()=>{const r=Ut(),n=Wt(),[i,o]=b.useState(""),[c,d]=b.useState(""),[h,m]=b.useState(!1),g=async p=>{var v,x;p.preventDefault(),m(!0),d("");try{(await ge.post("http://localhost:8080/api/auth/verify-otp",{email:(v=n.state)==null?void 0:v.email,otp:i})).status===200&&(d("Xác thực thành công! Đang chuyển hướng..."),setTimeout(()=>{r("/login")},2e3))}catch(w){d(((x=w.response)==null?void 0:x.data)||"Có lỗi xảy ra khi xác thực OTP")}finally{m(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-2xl",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"mt-6 text-4xl font-bold text-gray-900",children:"Xác thực Email"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Vui lòng nhập mã OTP đã được gửi đến email của bạn"})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700",children:"Mã OTP"}),s.jsx("input",{id:"otp",name:"otp",type:"text",required:!0,maxLength:6,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nhập mã OTP",value:i,onChange:p=>o(p.target.value)})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Đang xác thực...":"Xác thực"})})]}),c&&s.jsx("div",{className:"mt-4 text-center",children:s.jsx("p",{className:`text-sm font-medium ${c.includes("thành công")?"text-green-600 bg-green-50 p-2 rounded-lg":"text-red-600 bg-red-50 p-2 rounded-lg"}`,children:c})})]})})},hT=()=>s.jsx("section",{className:"bg-white min-h-screen",children:s.jsxs("div",{className:"container mx-auto",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("h1",{className:"text-6xl font-bold text-[#272343] mb-4",children:"Our Courses"}),s.jsx("p",{className:"text-3xl text-[#8a88a3] relative top-1",children:"Explore our collection of interactive, courses designed"})]}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 relative top-25",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[s.jsxs("div",{className:"bg-[#b8e6ff] rounded-3xl p-8 flex flex-col items-center hover:shadow-lg transition-shadow w-[320px] h-[500px] mx-auto relative",children:[s.jsxs("div",{className:"w-full h-48 relative overflow-visible bottom-30",children:[s.jsx("img",{src:"/bird.svg",alt:"Star icon",className:"absolute top-2.5 right-26 -translate-x-1/2 z-10 w-[40px] h-[40px]"}),s.jsx("img",{src:"/sadness.png",alt:"Blue character",className:"w-[300px] h-[320px] object-contain absolute left-1/2 -translate-x-1/2"})]}),s.jsxs("div",{className:"w-full flex flex-col justify-start relative bottom-9",children:[s.jsx("div",{className:"h-15 flex items-center justify-center",children:s.jsx("p",{className:"text-[#272343] text-2xl text-center",children:"Level Up Your Skills"})}),s.jsx("div",{className:"border-b border-[#272343]/10"}),s.jsx("div",{className:"h-15 flex items-center justify-center",children:s.jsx("p",{className:"text-[#272343] text-2xl text-center",children:"10 Quizzes Available"})}),s.jsx("div",{className:"border-b border-[#272343]/10"}),s.jsx("div",{className:"h-15 flex items-center justify-center",children:s.jsx("p",{className:"text-[#272343] text-2xl text-center",children:"20 Minutes per Quiz"})}),s.jsx("div",{className:"border-b border-[#272343]/10"}),s.jsx("div",{className:"h-15 flex items-center justify-center",children:s.jsx("p",{className:"text-[#272343] text-2xl text-center",children:"500 Learners Today"})})]}),s.jsx("div",{className:"mt-auto relative bottom-5",children:s.jsx("button",{className:"!bg-[#FF1F8D] !text-white !font-semibold !py-5 !px-12 !rounded-[35px] !text-xl hover:!bg-[#ff0077] !transition-colors",children:"Join now"})})]}),s.jsxs("div",{className:"bg-[#fff8e0] rounded-3xl p-8 flex flex-col items-center hover:shadow-lg transition-shadow w-[320px] h-[500px] mx-auto relative",children:[s.jsx("div",{className:"w-full h-48 relative overflow-visible bottom-45",children:s.jsx("img",{src:"/flybook.png",alt:"Orange character with book",className:"w-[350px] h-[600px] object-contain relative left-44 bottom-11 -translate-x-1/2"})}),s.jsxs("div",{className:"w-full flex flex-col justify-start relative bottom-9",children:[s.jsx("div",{className:"h-15 flex items-center justify-center",children:s.jsx("p",{className:"text-[#272343] text-2xl text-center",children:"Ready for a Challenge?"})}),s.jsx("div",{className:"border-b border-[#272343]/10"}),s.jsx("div",{className:"h-15 flex items-center justify-center",children:s.jsx("p",{className:"text-[#272343] text-2xl text-center",children:"50+ Topics"})}),s.jsx("div",{className:"border-b border-[#272343]/10"}),s.jsx("div",{className:"h-15 flex items-center justify-center",children:s.jsx("p",{className:"text-[#272343] text-2xl text-center",children:"15 Questions per Quiz"})}),s.jsx("div",{className:"border-b border-[#272343]/10"}),s.jsx("div",{className:"h-15 flex items-center justify-center",children:s.jsx("p",{className:"text-[#272343] text-2xl text-center",children:"Join 1,000+ Players"})})]}),s.jsx("div",{className:"mt-auto relative bottom-5",children:s.jsx("button",{className:"!bg-[#272343] !text-white !font-semibold !py-5 !px-12 !rounded-[35px] !text-xl hover:!bg-[#1a1a2e] !transition-colors",children:"Join now"})})]}),s.jsxs("div",{className:"bg-[#d9f8f4] rounded-3xl p-8 flex flex-col items-center hover:shadow-lg transition-shadow w-[320px] h-[500px] mx-auto relative",children:[s.jsx("div",{className:"w-full h-48 relative overflow-visible bottom-50",children:s.jsx("img",{src:"/nobita.png",alt:"Character with glasses",className:"w-[195px] h-[380px] object-contain absolute left-1/2 -translate-x-1/2"})}),s.jsxs("div",{className:"w-full flex flex-col justify-start relative bottom-9",children:[s.jsx("div",{className:"h-15 flex items-center justify-center",children:s.jsx("p",{className:"text-[#272343] text-2xl text-center",children:"Boost Your Knowledge!"})}),s.jsx("div",{className:"border-b border-[#272343]/10"}),s.jsx("div",{className:"h-15 flex items-center justify-center",children:s.jsx("p",{className:"text-[#272343] text-2xl text-center",children:"New Quizzes Daily"})}),s.jsx("div",{className:"border-b border-[#272343]/10"}),s.jsx("div",{className:"h-15 flex items-center justify-center",children:s.jsx("p",{className:"text-[#272343] text-2xl text-center",children:"10-Minute Sessions"})}),s.jsx("div",{className:"border-b border-[#272343]/10"}),s.jsx("div",{className:"h-15 flex items-center justify-center",children:s.jsx("p",{className:"text-[#272343] text-2xl text-center",children:"Compete with Friends"})})]}),s.jsx("div",{className:"mt-auto relative bottom-5",children:s.jsx("button",{className:"!bg-[#FF1F8D] !text-white !font-semibold !py-5 !px-12 !rounded-[35px] !text-xl hover:!bg-[#ff0077] !transition-colors",children:"Join now"})})]})]})})]})}),mT=()=>s.jsx("div",{className:"bg-[#6497b0ff] min-h-screen flex items-center",children:s.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24 flex flex-col md:flex-row items-center justify-between",children:[s.jsx("div",{className:"w-full md:w-1/2 flex justify-center md:justify-start mb-12 md:mb-0",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-[#6497b0ff] rounded-lg"}),s.jsx("video",{src:"/focus.mp4",className:"relative w-[300px] md:w-[400px] h-auto rounded-lg",autoPlay:!0,loop:!0,muted:!0,playsInline:!0})]})}),s.jsxs("div",{className:"w-full md:w-1/2 text-center",children:[s.jsxs("h1",{className:"text-white text-6xl font-bold leading-tight mb-16",children:[s.jsx("span",{className:"whitespace-nowrap",children:"Master Your Focus, Unlock"}),s.jsx("br",{}),s.jsx("span",{className:"relative left-5",children:"Your Potential "})]}),s.jsxs("p",{className:"text-white text-[18px] max-w-3xl mx-auto font-medium text-center relative left-4 top-10",children:[s.jsx("span",{className:"whitespace-nowrap block",children:"Discover a smart way to learn, designed to keep you fully engaged."}),s.jsx("span",{className:"whitespace-nowrap block",children:"Transform every study session into a journey of deep concentration,"}),s.jsx("span",{className:"whitespace-nowrap block",children:"where knowledge sticks and distractions fade away."})]})]})]})}),pT=()=>s.jsxs("div",{className:"bg-white relative overflow-hidden min-h-screen flex items-center",children:[s.jsx("div",{className:"container mx-auto px-4  py-16 md:py-24 relative z-10 bottom-60 right-15",children:s.jsxs("div",{className:"max-w-4xl mx-auto bg-[#FEFCED] rounded-3xl !px-14 !py-10",children:[s.jsx("h2",{className:"text-[#ff3d8b] text-5xl font-bold mb-6",children:"Flexible Learning, Stress-Free"}),s.jsx("p",{className:"text-[#272343] text-[20px] leading-relaxed relative top-5",children:"We understand that life can be unpredictable, so we offer full flexibility. You  can reschedule or cancel any lesson up to 24 hours in advance with a full refund. Check out our terms and FAQs for more details!"})]})}),s.jsxs("div",{className:"absolute bottom-0 left-0 w-full z-30",children:[s.jsx("img",{src:"/pink-wave.svg",alt:"Pink wave background",className:"w-370 h-auto"}),s.jsx("div",{className:"absolute left-[4.5%] bottom-[8%]",children:s.jsx("div",{className:" flex items-center justify-center transform rotate-12 ",children:s.jsx("img",{src:"/Background+Shadow.svg",alt:"Yellow icon",className:"w-40 h-50"})})}),s.jsx("div",{className:"absolute left-[65%] bottom-[10%]",children:s.jsx("div",{className:" flex items-center justify-center transform -rotate-30 ",children:s.jsx("img",{src:"/Background+Shadow 2.svg",alt:"Teal icon",className:"w-40 h-50"})})}),s.jsx("div",{className:"absolute right-[1%] bottom-[15%]",children:s.jsx("div",{className:" flex items-center justify-center transform rotate-6 ",children:s.jsx("img",{src:"/Background+Shadow 3.svg",alt:"Green icon",className:"w-40 h-50"})})})]})]}),gT=()=>s.jsx("div",{className:"bg-white py-20 min-h-[800px] ",children:s.jsx("div",{className:"container mx-auto px-4 max-w-7xl h-full relative top-40",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12 md:gap-16 h-full",children:[s.jsx("div",{className:"w-full md:w-1/2 h-full relative right-20",children:s.jsx("div",{className:"rounded-[20px] overflow-hidden relative aspect-square max-w-lg mx-auto h-full",children:s.jsx("video",{src:"/press-the-button.mp4",className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0,playsInline:!0})})}),s.jsxs("div",{className:"w-full md:w-1/2 h-full",children:[s.jsx("h2",{className:"text-[#1e293b] text-4xl md:text-5xl font-bold !mb-15",children:"Getting started"}),s.jsx("h3",{className:"text-[#94a3b8] text-2xl md:text-3xl font-medium !mb-20 relative bottom-12",children:"Master New Skills in 1-2-3"}),s.jsxs("div",{className:"!space-y-6 relative bottom-20",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-10 h-10 mt-1 rounded-[10px] bg-[#fff8e1] flex-shrink-0"}),s.jsxs("p",{className:"text-[#1e293b] text-lg",children:[s.jsx("span",{className:"font-semibold",children:"Pick Your Path"})," — Choose a lesson or quiz that sparks your curiosity."]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-10 h-10 mt-1 rounded-[10px] bg-[#e1f5fe] flex-shrink-0"}),s.jsxs("p",{className:"text-[#1e293b] text-lg",children:[s.jsx("span",{className:"font-semibold",children:"Log In or Sign Up"})," — Track your progress and unlock personalized learning."]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-10 h-10 mt-1 rounded-[10px] bg-[#fff8e1] flex-shrink-0"}),s.jsxs("p",{className:"text-[#1e293b] text-lg",children:[s.jsx("span",{className:"font-semibold",children:"Dive In"})," — Start learning, earn rewards, and make every moment count!"]})]})]}),s.jsx("button",{className:"mt-10 !bg-[#ff3d8b] text-white font-semibold !py-5 !px-8 !rounded-[40px] !hover:bg-[#e6357d] transition-colors",children:"Start Now"})]})]})})}),vT=()=>{const r=b.useRef(null),[n,i]=b.useState(!1),[o,c]=b.useState(0),[d,h]=b.useState(0),m=v=>{var x,w;i(!0),c(v.pageX-(((x=r.current)==null?void 0:x.offsetLeft)||0)),h(((w=r.current)==null?void 0:w.scrollLeft)||0)},g=v=>{var A;if(!n)return;v.preventDefault();const w=v.pageX-(((A=r.current)==null?void 0:A.offsetLeft)||0)-o;r.current&&(r.current.scrollLeft=d-w)},p=()=>{i(!1)};return s.jsx("div",{className:"testimonials-section !bg-[#FEFCED] !py-20 !min-h-[800px]",children:s.jsxs("div",{className:"container !mx-auto !px-4 !max-w-7xl !h-full",children:[s.jsxs("div",{className:"testimonials-header flex justify-between items-center !mb-16",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"!text-[#1e293b] !text-4xl !font-bold !mb-3",children:"People love Current"}),s.jsx("p",{className:"!text-[#94a3b8] !text-2xl",children:"Check out a few of our customer stories"})]}),s.jsx("button",{className:"testimonials-btn !bg-[#ff3d8b] !text-white !font-semibold !py-3 !px-10 !rounded-full hover:!bg-[#e6357d] !transition-colors",children:"More"})]}),s.jsxs("div",{ref:r,className:"testimonials-slider !flex !overflow-hidden !gap-8 !relative",style:{cursor:n?"grabbing":"grab",userSelect:"none",transition:n?"none":"all 0.3s ease"},onMouseDown:m,onMouseMove:g,onMouseUp:p,onMouseLeave:p,children:[s.jsxs("div",{className:"testimonial-card !bg-[#f9d949] !rounded-[32px] !p-8 !flex !flex-col !min-w-[300px] !max-w-[300px] !h-[420px] !transition-transform",children:[s.jsxs("div",{className:"!flex !text-[#ff3d8b] !mb-8",children:[s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{})]}),s.jsx("p",{className:"!text-[#1e293b] !text-lg !mb-auto !flex-grow",children:'"Learning has never been this fun! The lessons are engaging, and I actually look forward to practicing every day."'}),s.jsx("p",{className:"!text-[#1e293b] !font-bold",children:"Mark Salt"})]}),s.jsxs("div",{className:"testimonial-card !bg-[#f9d949] !rounded-[32px] !p-8 !flex !flex-col !min-w-[300px] !max-w-[300px] !h-[420px] !transition-transform",children:[s.jsxs("div",{className:"!flex !text-[#ff3d8b] !mb-8",children:[s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{})]}),s.jsx("p",{className:"!text-[#1e293b] !text-lg !mb-auto !flex-grow",children:'"The interactive quizzes keep me focused and make understanding complex topics so much easier. Highly recommend!"'}),s.jsx("p",{className:"!text-[#1e293b] !font-bold",children:"Neil Bowerman"})]}),s.jsxs("div",{className:"testimonial-card !bg-[#f9d949] !rounded-[32px] !p-8 !flex !flex-col !min-w-[300px] !max-w-[300px] !h-[420px] !transition-transform",children:[s.jsxs("div",{className:"!flex !text-[#ff3d8b] !mb-8",children:[s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{})]}),s.jsx("p",{className:"!text-[#1e293b] !text-lg !mb-auto !flex-grow",children:'"A fantastic way to learn! The vibrant design and smooth experience make every session enjoyable."'}),s.jsx("p",{className:"!text-[#1e293b] !font-bold",children:"Nicholas Baum"})]}),s.jsxs("div",{className:"testimonial-card !bg-[#f9d949] !rounded-[32px] !p-8 !flex !flex-col !min-w-[300px] !max-w-[300px] !h-[420px] !transition-transform",children:[s.jsxs("div",{className:"!flex !text-[#ff3d8b] !mb-8",children:[s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{})]}),s.jsx("p",{className:"!text-[#1e293b] !text-lg !mb-auto !flex-grow",children:`"I've tried many learning platforms, but this one stands out. The personalized approach has helped me progress faster than I thought possible."`}),s.jsx("p",{className:"!text-[#1e293b] !font-bold",children:"Emma Johnson"})]}),s.jsxs("div",{className:"testimonial-card !bg-[#f9d949] !rounded-[32px] !p-8 !flex !flex-col !min-w-[300px] !max-w-[300px] !h-[420px] !transition-transform",children:[s.jsxs("div",{className:"!flex !text-[#ff3d8b] !mb-8",children:[s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{}),s.jsx(nt,{})]}),s.jsx("p",{className:"!text-[#1e293b] !text-lg !mb-auto !flex-grow",children:'"The quiz platform has transformed how I study. The instant feedback and progress tracking keep me motivated and help me identify areas where I need to improve."'}),s.jsx("p",{className:"!text-[#1e293b] !font-bold",children:"Sarah Chen"})]})]})]})})},nt=()=>s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"!mr-1",children:s.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})}),yT=`
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
`,Ry=document.createElement("style");Ry.innerText=yT;document.head.appendChild(Ry);const xT=()=>s.jsxs("div",{className:"!min-h-screen !flex !flex-col !relative",children:[s.jsxs("div",{className:"!relative !h-80 !bg-[#fffbeb] !overflow-visible",children:[s.jsxs("div",{className:"!absolute !inset-0 !w-full !h-full",style:{zIndex:40},children:[s.jsx("div",{className:"!absolute !left-20 !bottom-60",children:s.jsx("div",{className:" !flex !items-center !justify-center ",children:s.jsx("img",{src:"/Background+Shadow 2.svg",alt:"Learn icon",className:"!w-50 !h-35"})})}),s.jsx("div",{className:"!absolute !left-1/2 !bottom-10 !transform !-translate-x-1/2 !rotate-6",children:s.jsx("div",{className:" !flex !items-center !justify-center ",children:s.jsx("img",{src:"/Background+Shadow.svg",alt:"Study icon",className:"!w-50 !h-35"})})}),s.jsx("div",{className:"!absolute !right-10 !top-16",children:s.jsx("div",{className:" !flex !items-center !justify-center ",children:s.jsx("img",{src:"/Background+Shadow 4.svg",alt:"Practice icon",className:"!w-50 !h-35"})})})]}),s.jsx("div",{className:"!absolute !inset-0 !w-355 !h-auto !bottom-5  ",style:{zIndex:30},children:s.jsx("img",{src:"/footer-line-pink-back.png.svg",alt:"Pink wave background",className:"!absolute !-bottom-24 !left-0 !w-full !scale-110",style:{zIndex:30}})}),s.jsx("div",{className:"!absolute !inset-0 !w-full !h-full",style:{zIndex:20},children:s.jsx("img",{src:"/SVG.svg",alt:"Green hills background",className:"!absolute !bottom-0 !left-0 !w-full"})})]}),s.jsxs("div",{className:"!flex-grow !relative !min-h-[800px]",style:{zIndex:10},children:[s.jsx("div",{className:"!absolute !inset-0 !w-full !h-full !overflow-hidden",children:s.jsx("img",{src:"/Room - Relaxing - Copy@3-1488x738 2.png",alt:"Background",className:"!w-full !h-full !object-cover !object-center"})}),s.jsx("div",{className:"!relative !z-20 !container !mx-auto !px-4 !py-16 top-50",children:s.jsx("div",{className:"!w-full md:!w-1/2",children:s.jsxs("div",{className:"!max-w-md",children:[s.jsx("p",{className:"!text-white !text-xl !mb-2 !font-bold !uppercase !tracking-wider relative left-20",children:"POWER UP WITH"}),s.jsx("h1",{className:"!text-5xl md:!text-6xl !font-extrabold !mb-8 !uppercase",style:{background:"linear-gradient(90deg, #4ade80 0%, #4a8dff 50%, #a855f7 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"SUPER QUIZ"}),s.jsx("button",{className:"!bg-white !text-[#0a0e17] !font-bold !py-3 !px-6 !rounded-full relative left-10",children:"DÙNG THỬ 2 TUẦN MIỄN PHÍ"})]})})}),s.jsxs("div",{className:"!absolute !bottom-0 !left-0 !w-full !py-4 !px-6 !flex !items-center !justify-between !z-20",children:[s.jsx("a",{href:"#",className:"!text-[#f9d949]",children:s.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),s.jsxs("div",{className:"!flex !space-x-6",children:[s.jsx("a",{href:"#",className:"!text-[#f9d949] !text-sm !font-medium",children:"Terms & conditions"}),s.jsx("a",{href:"#",className:"!text-[#f9d949] !text-sm !font-medium",children:"Privacy policy"}),s.jsx("a",{href:"#",className:"!text-[#f9d949] !text-sm !font-medium",children:"Cookie policy"})]})]}),s.jsx("div",{className:"!absolute !bottom-0 !left-0 !w-full !h-32 !bg-gradient-to-t !from-[#8a4a00] !to-transparent !opacity-30"})]})]}),bT=()=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-[#f5df4d]",children:[s.jsxs("header",{className:"container mx-auto px-6 py-6 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center relative right-15",children:[s.jsx("div",{className:"relative h-16 w-16 bg-[#FF9933] rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-4xl",children:"Q"})}),s.jsx("span",{className:"text-[#4a8dff] text-5xl font-bold -ml-1",children:"uiz"})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-16 relative left-70",children:[s.jsx(Wa,{to:"/explore",className:"!text-black no-underline font-bold text-xl hover:!text-black",children:"Explore"}),s.jsx(Wa,{to:"/about",className:"!text-black no-underline font-bold text-xl hover:!text-black",children:"About Us"}),s.jsx(Wa,{to:"/help",className:"!text-black no-underline font-bold text-xl hover:!text-black",children:"Help"})]}),s.jsxs("div",{className:"flex !space-x-8 relative left-125 flex-1",children:[s.jsx(Wa,{to:"/login",className:"inline-block bg-[#4a8dff] !text-white !no-underline !px-9 !py-3 rounded-full font-semibold text-lg hover:bg-[#3a7dff] transition-colors cursor-pointer",children:"Sign in"}),s.jsx(Wa,{to:"/signup",className:"inline-block bg-[#4a8dff] !text-white !no-underline !px-9 !py-3 rounded-full font-semibold text-lg hover:bg-[#3a7dff] transition-colors cursor-pointer",children:"Sign up"})]})]}),s.jsx("main",{className:"container mx-auto px-4 pt-16 relative z-10 min-h-[calc(100vh-96px)]",children:s.jsxs("div",{className:"relative",style:{height:"calc(100vh - 200px)"},children:[s.jsx("div",{className:"relative z-20",children:s.jsx("h1",{className:"text-center flex justify-center items-center",children:s.jsx("img",{src:"/Heading 1 → SVG.svg",alt:"Current",className:"w-[680px] h-auto"})})}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("h2",{className:"text-[#FF1493] font-bold text-3xl md:text-4xl mt-8 max-w-3xl",children:["The fun and easy way to level ",s.jsx("br",{}),s.jsx("div",{className:"relative left-10",children:"up your learning journey"})]})}),s.jsx("div",{className:"absolute left-10 bottom-60",children:s.jsx("img",{src:"/backpack.png",alt:"Backpack",width:200,height:180,className:"object-contain rotate-12"})}),s.jsx("div",{className:"absolute right-20 bottom-40",children:s.jsx("img",{src:"/book.png",alt:"Book",width:118,height:120,className:"object-contain rotate-340"})}),s.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom- -1",children:s.jsx("img",{src:"/character.png",alt:"Cartoon character",width:238,height:260,className:"object-contain"})}),s.jsx("div",{className:"absolute left-1/4 bottom-18",children:s.jsx("img",{src:"/pencil.png",alt:"Pencil",width:110,height:100,className:"object-contain rotate-11"})})]})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-48 md:h-72",children:s.jsx("svg",{viewBox:"0 0 1440 320",className:"absolute bottom-0 w-full h-full",preserveAspectRatio:"none",children:s.jsx("path",{fill:"#FF1493",fillOpacity:"1",d:"M0,128L48,144C96,160,192,192,288,186.7C384,181,480,139,576,138.7C672,139,768,181,864,181.3C960,181,1056,139,1152,122.7C1248,107,1344,117,1392,122.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})})]}),s.jsx(hT,{}),s.jsx(mT,{}),s.jsx(pT,{}),s.jsx(gT,{}),s.jsx(vT,{}),s.jsx(xT,{})]}),wT=()=>{const[r,n]=b.useState(""),{token:i}=Qt(),[o,c]=b.useState(null),[d,h]=b.useState(null),[m,g]=b.useState(!1),[p,v]=b.useState(!1),[x,w]=b.useState("LOBBY"),[A,_]=b.useState([]),T=Ut();b.useEffect(()=>{const R=localStorage.getItem("studentSessionAccessCode"),L=localStorage.getItem("studentJoinedStatus")==="true";R&&L&&(n(R),v(!0),E(R),C(R))},[]);const S=()=>{try{return i?JSON.parse(atob(i.split(".")[1])).sub:null}catch(R){return console.error("Failed to extract student ID from token:",R),null}},C=async R=>{try{const L=await ge.get(`http://localhost:8080/api/sessions/${R}/participants`,{headers:{Authorization:`Bearer ${i}`}});_(L.data)}catch(L){console.error("Failed to fetch participants:",L),v(!1),localStorage.removeItem("studentSessionAccessCode"),localStorage.removeItem("studentJoinedStatus")}},E=R=>{if(!i)return;const L=new ci({webSocketFactory:()=>new oi("http://localhost:8080/ws-sessions"),connectHeaders:{Authorization:`Bearer ${i}`},onConnect:()=>{console.log("WebSocket Connected!"),C(R),L.subscribe(`/topic/session/${R}/participants`,z=>{const te=JSON.parse(z.body);_(te)}),L.subscribe(`/topic/session/${R}/status`,z=>{const te=z.body;w(te),te==="ACTIVE"?T(`/student/play?accessCode=${R}`):te==="COMPLETED"&&(v(!1),localStorage.removeItem("studentSessionAccessCode"),localStorage.removeItem("studentJoinedStatus"),o&&o.deactivate(),_([]),n(""))});const B=S(),D=setInterval(()=>{L.connected&&L.publish({destination:`/app/heartbeat/${R}`,body:B})},3e4);return()=>clearInterval(D)},onStompError:B=>{console.error("STOMP Error:",B),h("Connection error: "+B.headers.message)},onWebSocketClose:()=>{console.log("WebSocket disconnected")},reconnectDelay:5e3,heartbeatIncoming:4e3,heartbeatOutgoing:4e3});L.activate(),c(L)},O=async()=>{var L,B;if(!i){h("Please login to join a session");return}const R=S();g(!0),h(null);try{if(!R)throw new Error("Unable to identify student. Please login again.");(await ge.post(`http://localhost:8080/api/sessions/join/${r}`,null,{headers:{Authorization:`Bearer ${i}`,"X-Student-Id":R}})).data.success&&(v(!0),E(r),C(r),localStorage.setItem("studentSessionAccessCode",r),localStorage.setItem("studentJoinedStatus","true"))}catch(D){console.error("Join session failed:",D),h(((B=(L=D.response)==null?void 0:L.data)==null?void 0:B.message)||D.message||"Failed to join session. Check access code and try again.")}finally{g(!1)}},M=async()=>{const R=S();try{await ge.post(`http://localhost:8080/api/sessions/leave/${r}`,null,{headers:{Authorization:`Bearer ${i}`,"X-Student-Id":R}}),o&&o.deactivate(),v(!1),_([]),n(""),localStorage.removeItem("studentSessionAccessCode"),localStorage.removeItem("studentJoinedStatus")}catch(L){console.error("Leave session failed:",L)}};return b.useEffect(()=>()=>{o&&o.deactivate()},[o]),s.jsxs("div",{className:"!relative !min-h-screen !overflow-hidden",children:[s.jsx("div",{className:"!fixed !inset-0 !z-0",children:s.jsx("iframe",{src:"https://my.spline.design/creatorcafeheropage-0cabd7f72e6b730c0afb760093c82350/",frameBorder:"0",width:"100%",height:"100%",className:"!w-full !h-full"})}),s.jsx("div",{className:"!relative !top-100 !right-20 !z-20 !flex !flex-col !items-center !justify-center",children:p?s.jsxs("div",{className:"!bg-white !bg-opacity-90 !rounded-2xl !p-8 !shadow-xl !max-w-md !w-full !animate-fade-in",children:[s.jsxs("div",{className:"!mb-6",children:[s.jsxs("div",{className:"!flex !items-center !mb-2",children:[s.jsx("h2",{className:"!text-2xl !font-bold !text-gray-800",children:"Session Status: "}),s.jsx("span",{className:`!ml-2 !px-2 !py-0.5 !text-sm !rounded-full ${x==="LOBBY"?"!bg-yellow-100 !text-yellow-800":"!bg-green-100 !text-green-800"}`,children:x})]}),x==="LOBBY"&&s.jsxs("p",{className:"!text-gray-600 !flex !items-center",children:[s.jsx("span",{className:"!w-2 !h-2 !bg-yellow-400 !rounded-full !mr-2 !animate-pulse"}),"Waiting for teacher to start the game..."]})]}),s.jsxs("div",{className:"!mb-6",children:[s.jsxs("div",{className:"!flex !items-center !justify-between !mb-4",children:[s.jsx("h3",{className:"!text-xl !font-semibold !text-gray-800",children:"Participants"}),s.jsx("span",{className:"!bg-blue-100 !text-blue-800 !px-2 !py-0.5 !rounded-full !text-sm",children:A.length})]}),s.jsx("div",{className:"!max-h-60 !overflow-y-auto !pr-1",children:A.length===0?s.jsxs("div",{className:"!flex !items-center !justify-center !py-4",children:[s.jsxs("svg",{className:"!animate-spin !h-5 !w-5 !text-gray-500 !mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"!opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"!opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("p",{className:"!text-gray-500",children:"Loading participants..."})]}):s.jsx("ul",{className:"!space-y-2",children:A.map((R,L)=>s.jsxs("li",{className:"!flex !items-center !p-2 !bg-gray-50 !rounded-lg !transition-all !duration-300 !hover:bg-gray-100",style:{animationDelay:`${L*.05}s`},children:[R.avatarUrl?s.jsx("img",{src:R.avatarUrl||"/placeholder.svg",alt:"avatar",className:"!w-8 !h-8 !rounded-full !mr-3 !border !border-gray-200"}):s.jsx("div",{className:"!w-8 !h-8 !rounded-full !bg-blue-100 !text-blue-600 !flex !items-center !justify-center !mr-3 !font-medium",children:R.displayName.charAt(0).toUpperCase()}),s.jsx("span",{className:"!text-gray-800 !flex-1",children:R.displayName}),s.jsx("span",{className:`!ml-2 !w-2 !h-2 !rounded-full ${R.active?"!bg-green-500 !animate-pulse":"!bg-gray-400"}`})]},R.userId))})})]}),s.jsx("button",{onClick:M,className:"!w-full !py-3 !bg-red-500 !text-white !font-medium !rounded-lg !hover:bg-red-600 !hover:shadow-md !active:bg-red-700 !transition-all !duration-300",children:"Leave Session"})]}):s.jsxs("div",{className:"!flex !flex-col !items-center !animate-fade-in",children:[s.jsx("p",{className:"!text-[#ffffff] !text-[18px] !font-bold !mb-4 !animate-fade-in",children:"Nhập Code Room"}),s.jsx("input",{type:"text",value:r,onChange:R=>n(R.target.value.toUpperCase()),className:"!w-64 !p-3 !bg-transparent !border !border-gray-700 !rounded-lg !mb-6 !text-center !text-white !focus:outline-none !focus:border-[#2196F3] !focus:ring-2 !focus:ring-[#2196F3]/50 !transition-all !duration-300",placeholder:"Enter room code",maxLength:6,pattern:"[A-Z0-9]{6}"}),d&&s.jsx("p",{className:"!text-red-800 !mb-4 !animate-fade-in",children:d}),s.jsx("button",{onClick:O,disabled:m,className:"!w-64 !py-4 !bg-[#2196F3] !text-white !font-medium !rounded-full !hover:bg-[#1E88E5] !hover:shadow-lg !hover:shadow-[#2196F3]/20 !active:transform !active:scale-95 !transition-all !duration-300 !relative !overflow-hidden",children:m?s.jsxs("span",{className:"!flex !items-center !justify-center",children:[s.jsxs("svg",{className:"!animate-spin !-ml-1 !mr-2 !h-4 !w-4 !text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"!opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"!opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Joining..."]}):"VÀO PHÒNG"})]})})]})},jT=()=>s.jsxs("div",{className:"!flex-1 !p-8 !bg-white",children:[s.jsx("div",{className:"!flex !justify-end !mb-6",children:s.jsx("span",{className:"!text-gray-800 !font-medium",children:"20 Sep 2020, Monday"})}),s.jsxs("div",{className:"!bg-[#fff2f2] !rounded-3xl !p-8 !mb-12 !flex !justify-between !items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"!text-[#ff8a80] !text-3xl !font-bold !mb-4",children:"Welcome back Anna!"}),s.jsxs("p",{className:"!text-gray-800 !text-lg",children:["You've learned 80% of your goal this week!",s.jsx("br",{}),"Keep it up and improve your results!"]})]}),s.jsx("div",{children:s.jsx("img",{src:"/OBJECT 1.png",alt:"Student with laptop",className:"!h-48"})})]}),s.jsxs("div",{className:"!flex !gap-16",children:[s.jsxs("div",{className:"!w-1/2",children:[s.jsxs("div",{className:"!flex !justify-between !items-center !mb-8",children:[s.jsx("h3",{className:"!text-gray-800 !font-bold !text-xl",children:"Latest results"}),s.jsxs("div",{className:"!text-gray-500 !flex !items-center !cursor-pointer !hover:text-[#2196F3]",children:["More ",s.jsx(qN,{size:20,className:"!ml-2"})]})]}),s.jsxs("div",{className:"!space-y-8",children:[s.jsx(Fs,{unit:"5",subject:"Technology",progress:25,color:"pink"}),s.jsx(Fs,{unit:"12",subject:"Ecology",progress:44,color:"blue"}),s.jsx(Fs,{unit:"9",subject:"Real estate",progress:40,color:"blue"}),s.jsx(Fs,{unit:"8",subject:"Education",progress:15,color:"pink"}),s.jsx(Fs,{unit:"16",subject:"Job market",progress:75,color:"blue"})]})]}),s.jsxs("div",{className:"!w-1/2",children:[s.jsxs("div",{className:"!flex !justify-between !items-center !mb-8",children:[s.jsx("h3",{className:"!text-gray-800 !font-bold !text-xl",children:"Time Spent on Learning"}),s.jsxs("div",{className:"!text-gray-500 !flex !items-center !cursor-pointer !hover:text-[#2196F3]",children:["Last week ",s.jsx(WN,{size:20,className:"!ml-2"})]})]}),s.jsxs("div",{className:"!h-80",children:[s.jsx("div",{className:"!flex !justify-between !mb-4",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(r=>s.jsx("div",{className:"!text-gray-400 !text-sm",children:r},r))}),s.jsx("div",{className:"!relative !h-56 !flex !justify-between",children:[65,75,70,40,80,60,85].map((r,n)=>s.jsx("div",{className:"!w-10 !bg-gray-100 !rounded-full !relative",children:s.jsx("div",{className:"!absolute !bottom-0 !left-0 !right-0 !rounded-full",style:{height:`${r}%`,background:"linear-gradient(180deg, #ff5252 0%, #2196f3 100%)"}})},n))}),s.jsxs("div",{className:"!flex !justify-start !mt-6 !space-x-8",children:[s.jsx(_l,{color:"#ff5252",label:"Vocabulary"}),s.jsx(_l,{color:"#3f51b5",label:"Grammar"}),s.jsx(_l,{color:"#2196f3",label:"Listening"}),s.jsx(_l,{color:"#e0e0ff",label:"Writing"})]})]})]})]})]}),Fs=({unit:r,subject:n,progress:i,color:o})=>s.jsxs("div",{children:[s.jsxs("div",{className:"!flex !items-center !mb-3",children:[s.jsxs("span",{className:"!font-bold !text-gray-800 !mr-2",children:["Unit ",r," -"]}),s.jsx("span",{className:"!text-gray-400",children:n})]}),s.jsx("div",{className:"!h-2 !bg-gray-100 !rounded-full !w-full",children:s.jsx("div",{className:`!h-full !rounded-full ${o==="pink"?"!bg-[#ff5252]":"!bg-[#2196F3]"}`,style:{width:`${i}%`}})}),s.jsx("div",{className:"!text-right !mt-2",children:s.jsxs("span",{className:`!text-sm ${o==="pink"?"!text-[#ff5252]":"!text-[#2196F3]"}`,children:[i,"%"]})}),s.jsx("div",{className:"!border-b !border-gray-100 !mt-6"})]}),_l=({color:r,label:n})=>s.jsxs("div",{className:"!flex !items-center",children:[s.jsx("div",{className:"!w-3 !h-3 !rounded-full !mr-3",style:{backgroundColor:r}}),s.jsx("span",{className:"!text-gray-400 !text-sm",children:n})]}),NT=()=>{const[r,n]=b.useState("CLASS"),i=Ut(),o=Wt();b.useEffect(()=>{const d=o.pathname;d==="/student"?n("CLASS"):d==="/student/profile"&&n("PROFILE")},[o]);const c=d=>{n(d),d==="PROFILE"?i("/student/profile"):d==="CLASS"&&i("/student")};return s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:"!fixed !left-0 !top-0 !h-screen !w-48 !z-50",children:s.jsxs("div",{className:"!p-6",children:[s.jsxs("div",{className:"!mb-12",children:[s.jsx("span",{className:"!text-[#FF9933] !text-4xl !font-bold",children:"Q"}),s.jsx("span",{className:"!text-[#2196F3] !text-4xl !font-bold",children:"uiz"})]}),s.jsxs("div",{className:"!space-y-7",children:[s.jsx(Ur,{icon:s.jsx("img",{src:"/class.svg",alt:"Home",className:"!w-10 !h-10 !mr-3.5 relative left-1"}),text:"CLASS",active:r==="CLASS",onClick:()=>c("CLASS")}),s.jsx(Ur,{icon:s.jsx("img",{src:"/game controller.svg",alt:"Game",className:"relative !w-10 !h-12 left-2 !mr-4"}),text:"EXPLORE",active:r==="EXPLORE",onClick:()=>c("EXPLORE")}),s.jsx(Ur,{icon:s.jsx("img",{src:"/profile.svg",alt:"Profile",className:"!w-12 !h-10 !mr-2"}),text:"PROFILE",active:r==="PROFILE",onClick:()=>c("PROFILE")}),s.jsx(Ur,{icon:s.jsx("img",{src:"/History.svg",alt:"History",className:"!w-10 !h-10 relative left-2 !mr-3.5"}),text:"HISTORY",active:r==="HISTORY",onClick:()=>c("HISTORY")}),s.jsx(Ur,{icon:s.jsx("img",{src:"/rank.svg",alt:"Ranking",className:"!w-9 !h-10 relative left-2.5 !mr-5"}),text:"RANKING",active:r==="RANKING",onClick:()=>c("RANKING")}),s.jsx(Ur,{icon:s.jsx("img",{src:"/more.svg",alt:"More",className:"!w-11 !h-10 !mr-3 relative left-2"}),text:"MORE",active:r==="MORE",onClick:()=>c("MORE")})]})]})}),s.jsx("main",{className:"!ml-48",children:s.jsx(Fj,{})})]})},Ur=({icon:r,text:n,active:i=!1,onClick:o})=>s.jsxs("div",{onClick:o,className:`!flex !items-center !space-x-3 ${i?"!bg-[#E3F2FD] !text-[#2196F3] !px-2 !py-3 !rounded-lg":"!text-gray-400"} !cursor-pointer !transition-colors !duration-200`,children:[s.jsx("div",{className:`${i?"!text-[#2196F3]":"!text-gray-400"}`,children:r}),s.jsx("span",{className:"!font-medium",children:n})]}),At=[];for(let r=0;r<256;++r)At.push((r+256).toString(16).slice(1));function ST(r,n=0){return(At[r[n+0]]+At[r[n+1]]+At[r[n+2]]+At[r[n+3]]+"-"+At[r[n+4]]+At[r[n+5]]+"-"+At[r[n+6]]+At[r[n+7]]+"-"+At[r[n+8]]+At[r[n+9]]+"-"+At[r[n+10]]+At[r[n+11]]+At[r[n+12]]+At[r[n+13]]+At[r[n+14]]+At[r[n+15]]).toLowerCase()}let Md;const TT=new Uint8Array(16);function ET(){if(!Md){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Md=crypto.getRandomValues.bind(crypto)}return Md(TT)}const CT=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iv={randomUUID:CT};function ao(r,n,i){var c;if(iv.randomUUID&&!r)return iv.randomUUID();r=r||{};const o=r.random??((c=r.rng)==null?void 0:c.call(r))??ET();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,ST(o)}const _T=({contentItems:r,setContentItems:n,currentHint:i,setCurrentHint:o,addHint:c,removeHint:d})=>{var A,_;const[h,m]=b.useState({question:"",options:[{text:"",isCorrect:!1,explanation:""},{text:"",isCorrect:!1,explanation:""}],explanation:"",duration:60}),g=()=>{if(!h.question.trim())return;const T={contentId:ao(),title:`Question ${r.length+1}`,instructions:"",data:{...h}};n([...r,T]),m({question:"",options:[{text:"",isCorrect:!1,explanation:""},{text:"",isCorrect:!1,explanation:""}],explanation:"",duration:60})},p=(T,S,C)=>{const E=[...r];E[T].data[S]=C,n(E)},v=(T,S,C,E)=>{const O=[...r];O[T].data.options[S][C]=E,n(O)},x=T=>{const S=[...r];S[T].data.options.push({text:"",isCorrect:!1,explanation:""}),n(S)},w=T=>{const S=r.filter((C,E)=>E!==T);n(S)};return s.jsxs("div",{className:"activity-form-section",children:[s.jsx("div",{className:"questions-list",children:r.map((T,S)=>s.jsxs("div",{className:"content-item",children:[s.jsxs("div",{className:"item-header",children:[s.jsx("h4",{children:T.title}),s.jsx("button",{onClick:()=>w(S),className:"remove-button",children:"Remove"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Question"}),s.jsx("input",{type:"text",value:T.data.question,onChange:C=>p(S,"question",C.target.value)})]}),s.jsxs("div",{className:"options-list",children:[T.data.options.map((C,E)=>s.jsxs("div",{className:"option-item",children:[s.jsx("input",{type:"text",value:C.text,onChange:O=>v(S,E,"text",O.target.value),placeholder:"Option text"}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:C.isCorrect,onChange:O=>v(S,E,"isCorrect",O.target.checked)}),"Correct Answer"]}),s.jsx("input",{type:"text",value:C.explanation,onChange:O=>v(S,E,"explanation",O.target.value),placeholder:"Explanation"})]},E)),s.jsx("button",{onClick:()=>x(S),className:"add-option-button",children:"Add Option"})]})]},T.contentId))}),s.jsxs("div",{className:"new-question-form",children:[s.jsx("h4",{children:"Add New Question"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Question Text"}),s.jsx("input",{type:"text",value:h.question,onChange:T=>m({...h,question:T.target.value})})]}),s.jsx("button",{onClick:g,className:"add-question-button",children:"Add Question to Activity"})]}),s.jsxs("div",{className:"hints-section",children:[s.jsx("h4",{children:"Hints"}),s.jsxs("div",{className:"hints-input",children:[s.jsx("input",{type:"text",value:i,onChange:T=>o(T.target.value),placeholder:"Enter a hint"}),s.jsx("button",{onClick:c,children:"Add Hint"})]}),s.jsx("div",{className:"hints-list",children:(_=(A=r[0])==null?void 0:A.data.hints)==null?void 0:_.map((T,S)=>s.jsxs("div",{className:"hint-item",children:[s.jsx("span",{children:T}),s.jsx("button",{onClick:()=>d(S),children:"×"})]},S))})]})]})},OT=({content:r,setContent:n,currentHint:i,setCurrentHint:o,addHint:c,removeHint:d})=>{const h=()=>{n({...r,items:[...r.items,{text:"",imageUrl:"",correctPosition:r.items.length+1}]})},m=g=>{const p=[...r.items];p.splice(g,1),p.forEach((v,x)=>{v.correctPosition=x+1}),n({...r,items:p})};return s.jsxs("div",{className:"sorting-content",children:[s.jsx("h3",{className:"content-section-title",children:"Sorting Items"}),s.jsxs("div",{className:"form-options",children:[r.items.map((g,p)=>s.jsxs("div",{className:"sort-item-row",children:[s.jsx("div",{className:"sort-item-position",children:s.jsx("span",{children:p+1})}),s.jsxs("div",{className:"sort-item-content",children:[s.jsx("input",{type:"text",placeholder:"Item text",className:"form-input",value:g.text,onChange:v=>{const x=[...r.items];x[p].text=v.target.value,n({...r,items:x})}}),s.jsx("input",{type:"text",placeholder:"Image URL (optional)",className:"form-input",value:g.imageUrl,onChange:v=>{const x=[...r.items];x[p].imageUrl=v.target.value,n({...r,items:x})}})]}),s.jsx("button",{type:"button",className:"remove-item-button",onClick:()=>m(p),disabled:r.items.length<=2,children:s.jsx(Za,{className:"w-4 h-4"})})]},p)),s.jsxs("button",{type:"button",className:"add-item-button",onClick:h,children:[s.jsx(Rt,{className:"w-4 h-4"})," Add Item"]})]}),s.jsxs("div",{className:"hints-section",children:[s.jsx("h3",{className:"content-section-title",children:"Hints"}),s.jsxs("div",{className:"hints-container",children:[s.jsxs("div",{className:"add-hint-form",children:[s.jsx("input",{type:"text",placeholder:"Add a hint...",className:"form-input",value:i,onChange:g=>o(g.target.value),onKeyPress:g=>{g.key==="Enter"&&(g.preventDefault(),c())}}),s.jsx("button",{type:"button",className:"add-hint-button",onClick:c,children:s.jsx(Rt,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"hints-list",children:r.hints.map((g,p)=>s.jsxs("div",{className:"hint-item",children:[s.jsx("span",{children:g}),s.jsx("button",{type:"button",className:"remove-hint-button",onClick:()=>d(p),children:s.jsx(sa,{className:"w-4 h-4"})})]},p))})]})]})]})},AT=({contentItems:r,setContentItems:n,shuffleOptions:i,setShuffleOptions:o,hints:c,setHints:d,currentHint:h,setCurrentHint:m,addHint:g,removeHint:p})=>{const{token:v}=Qt(),x=()=>{n([...r,{contentId:ao(),data:{item1:"",item2:"",item1ImageUrl:"",item2ImageUrl:""},duration:60}])},w=_=>{const T=r.filter((S,C)=>C!==_);n(T)},A=async(_,T,S)=>{if(!_)return;const C=new FormData;C.append("file",_);try{const E=await ge.post("http://localhost:8080/api/upload/image",C,{headers:{Authorization:`Bearer ${v}`,"Content-Type":"multipart/form-data"}}),O=[...r];O[T].data[S]=E.data.imageUrl,n(O)}catch(E){console.error("Upload error:",E),alert("Upload image failed!")}};return s.jsxs("div",{className:"matching-content",children:[s.jsx("h3",{className:"content-section-title",children:"Matching Pairs"}),s.jsxs("div",{className:"form-options",children:[s.jsxs("div",{className:"form-checkbox mb-4",children:[s.jsx("input",{type:"checkbox",id:"shuffleOptions",checked:i,onChange:_=>o(_.target.checked)}),s.jsx("label",{htmlFor:"shuffleOptions",children:"Shuffle Options"})]}),r.map((_,T)=>s.jsxs("div",{className:"match-pair-row",children:[s.jsxs("div",{className:"match-pair-content",children:[s.jsxs("div",{className:"match-pair-item",children:[s.jsx("label",{children:"Item 1"}),s.jsxs("div",{className:"input-with-icon",children:[s.jsx("input",{type:"text",placeholder:"First item",className:"form-input pr-10",value:_.data.item1,onChange:S=>{const C=[...r];C[T].data.item1=S.target.value,n(C)}}),s.jsxs("label",{className:"upload-icon-container",children:[s.jsx("input",{type:"file",className:"hidden-file-input",accept:"image/*",onChange:S=>A(S.target.files[0],T,"item1ImageUrl")}),s.jsx(Wg,{className:"upload-icon"})]})]}),_.data.item1ImageUrl&&s.jsxs("div",{className:"thumbnail-container",children:[s.jsx("img",{src:_.data.item1ImageUrl,alt:"item1",className:"thumbnail-image"}),s.jsx(Za,{className:"trash-icon",onClick:()=>{const S=[...r];S[T].data.item1ImageUrl="",n(S)}})]})]}),s.jsxs("div",{className:"match-pair-item",children:[s.jsx("label",{children:"Item 2"}),s.jsxs("div",{className:"input-with-icon",children:[s.jsx("input",{type:"text",placeholder:"Matching item",className:"form-input pr-10",value:_.data.item2,onChange:S=>{const C=[...r];C[T].data.item2=S.target.value,n(C)}}),s.jsxs("label",{className:"upload-icon-container",children:[s.jsx("input",{type:"file",className:"hidden-file-input",accept:"image/*",onChange:S=>A(S.target.files[0],T,"item2ImageUrl")}),s.jsx(Wg,{className:"upload-icon"})]})]}),_.data.item2ImageUrl&&s.jsxs("div",{className:"thumbnail-container",children:[s.jsx("img",{src:_.data.item2ImageUrl,alt:"item2",className:"thumbnail-image"}),s.jsx(Za,{className:"trash-icon",onClick:()=>{const S=[...r];S[T].data.item2ImageUrl="",n(S)}})]})]})]}),s.jsx("div",{className:"center-trash-wrapper",children:s.jsx("button",{type:"button",className:"remove-pair-button",onClick:()=>w(T),disabled:r.length<=1,children:s.jsx(Za,{className:"w-4 h-4"})})})]},T)),s.jsxs("button",{type:"button",className:"add-pair-button",onClick:x,children:[s.jsx(Rt,{className:"w-4 h-4"})," Add Pair"]})]}),s.jsxs("div",{className:"hints-section",children:[s.jsx("h3",{className:"content-section-title",children:"Hints"}),s.jsxs("div",{className:"hints-container",children:[s.jsxs("div",{className:"add-hint-form",children:[s.jsx("input",{type:"text",placeholder:"Add a hint...",className:"form-input",value:h,onChange:_=>m(_.target.value),onKeyPress:_=>_.key==="Enter"&&g()}),s.jsx("button",{type:"button",className:"add-hint-button",onClick:g,children:s.jsx(Rt,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"hints-list",children:c.map((_,T)=>s.jsxs("div",{className:"hint-item",children:[s.jsx("span",{children:_}),s.jsx("button",{type:"button",className:"remove-hint-button",onClick:()=>p(T),children:s.jsx(sa,{className:"w-4 h-4"})})]},T))})]})]})]})},RT=({contentItems:r,setContentItems:n,currentHint:i,setCurrentHint:o,addHint:c,removeHint:d})=>{const h=r[0]||{contentId:ao(),data:{prompts:[""],roundTime:60,maxRounds:5,allowGuessing:!0,pointsPerCorrect:10,allowedWords:[],hints:[],pictionarySettings:{rotateDrawers:!1,allowPartialPoints:!1,revealAnswerOnFail:!1,guessValidation:"EXACT_MATCH"}}},m=h.data,g=S=>{const C=[{...h,data:{...m,...S},duration:S.roundTime||m.roundTime}];n(C)},p=S=>{g({pictionarySettings:{...m.pictionarySettings,...S}})},v=()=>g({prompts:[...m.prompts,""]}),x=(S,C)=>{const E=[...m.prompts];E[S]=C,g({prompts:E})},w=S=>{const C=[...m.prompts];C.splice(S,1),g({prompts:C})},A=()=>g({allowedWords:[...m.allowedWords,""]}),_=(S,C)=>{const E=[...m.allowedWords];E[S]=C,g({allowedWords:E})},T=S=>{const C=[...m.allowedWords];C.splice(S,1),g({allowedWords:C})};return s.jsxs("div",{className:"activity-content-form team-challenge-form",children:[s.jsx("h3",{children:"Drawing/Pictionary Challenge Setup"}),s.jsxs("div",{className:"form-section",children:[s.jsx("h4",{children:"Game Settings"}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"roundTime",children:"Round Time (seconds)"}),s.jsx("input",{id:"roundTime",type:"number",min:"10",value:m.roundTime,onChange:S=>g({roundTime:parseInt(S.target.value)}),className:"form-input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"maxRounds",children:"Maximum Rounds"}),s.jsx("input",{id:"maxRounds",type:"number",min:"1",value:m.maxRounds,onChange:S=>g({maxRounds:parseInt(S.target.value)}),className:"form-input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"pointsPerCorrect",children:"Points Per Correct Answer"}),s.jsx("input",{id:"pointsPerCorrect",type:"number",min:"1",value:m.pointsPerCorrect,onChange:S=>g({pointsPerCorrect:parseInt(S.target.value)}),className:"form-input"})]})]}),s.jsxs("div",{className:"form-group checkbox-group",children:[s.jsx("input",{type:"checkbox",id:"allowGuessing",checked:m.allowGuessing,onChange:S=>g({allowGuessing:S.target.checked})}),s.jsx("label",{htmlFor:"allowGuessing",children:"Allow Guessing During Drawing"})]})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("h4",{children:"Drawing Prompts"}),s.jsx("p",{className:"form-help-text",children:"Add prompts that students will draw for their teammates to guess"}),m.prompts.map((S,C)=>s.jsxs("div",{className:"form-row prompt-row",children:[s.jsxs("div",{className:"form-group flex-grow",children:[s.jsxs("label",{htmlFor:`prompt-${C}`,children:["Prompt ",C+1]}),s.jsx("input",{id:`prompt-${C}`,type:"text",value:S,onChange:E=>x(C,E.target.value),className:"form-input",placeholder:"Enter a word or phrase to draw"})]}),s.jsx("button",{type:"button",className:"remove-item-button",onClick:()=>w(C),disabled:m.prompts.length<=1,children:s.jsx(Za,{size:16})})]},C)),s.jsxs("button",{type:"button",className:"add-item-button",onClick:v,children:[s.jsx(Rt,{size:16})," Add Prompt"]})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("h4",{children:"Allowed Words List (Optional)"}),s.jsx("p",{className:"form-help-text",children:"Words that are allowed to be spoken/written during the game"}),m.allowedWords.map((S,C)=>s.jsxs("div",{className:"form-row allowed-word-row",children:[s.jsxs("div",{className:"form-group flex-grow",children:[s.jsxs("label",{htmlFor:`allowed-word-${C}`,children:["Allowed Word ",C+1]}),s.jsx("input",{id:`allowed-word-${C}`,type:"text",value:S,onChange:E=>_(C,E.target.value),className:"form-input",placeholder:"Enter an allowed word"})]}),s.jsx("button",{type:"button",className:"remove-item-button",onClick:()=>T(C),children:s.jsx(Za,{size:16})})]},C)),m.allowedWords.length===0&&s.jsx("p",{className:"no-items-message",children:"No allowed words added. All words are prohibited by default."}),s.jsxs("button",{type:"button",className:"add-item-button",onClick:A,children:[s.jsx(Rt,{size:16})," Add Allowed Word"]})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("h4",{children:"Hints"}),s.jsx("p",{className:"form-help-text",children:"Add optional hints that can be revealed during the activity"}),s.jsxs("div",{className:"form-row",children:[s.jsx("div",{className:"form-group flex-grow",children:s.jsx("input",{type:"text",value:i,onChange:S=>o(S.target.value),className:"form-input",placeholder:"Enter a hint"})}),s.jsxs("button",{type:"button",className:"add-hint-button",onClick:c,disabled:!i.trim(),children:[s.jsx(Rt,{size:16})," Add"]})]}),m.hints.length>0?s.jsx("div",{className:"hints-list",children:m.hints.map((S,C)=>s.jsxs("div",{className:"hint-item",children:[s.jsxs("div",{className:"hint-content",children:[s.jsx(eS,{size:16}),s.jsx("span",{children:S})]}),s.jsx("button",{type:"button",className:"remove-hint-button",onClick:()=>d(C),children:s.jsx(Za,{size:16})})]},C))}):s.jsx("p",{className:"no-items-message",children:"No hints added yet."})]}),s.jsxs("div",{className:"advanced-settings-section",children:[s.jsx("h4",{children:"Advanced Settings"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"guessValidation",children:"Guess Validation"}),s.jsxs("select",{id:"guessValidation",value:m.pictionarySettings.guessValidation,onChange:S=>p({guessValidation:S.target.value}),className:"form-select",children:[s.jsx("option",{value:"EXACT_MATCH",children:"Exact Match"}),s.jsx("option",{value:"CONTAINS_KEYWORD",children:"Contains Keyword"}),s.jsx("option",{value:"SYNONYM_MATCH",children:"Synonym Match"}),s.jsx("option",{value:"MANUAL_TEACHER",children:"Manual (Teacher Validates)"})]})]}),s.jsxs("div",{className:"form-group checkbox-group",children:[s.jsx("input",{type:"checkbox",id:"rotateDrawers",checked:m.pictionarySettings.rotateDrawers,onChange:S=>p({rotateDrawers:S.target.checked})}),s.jsx("label",{htmlFor:"rotateDrawers",children:"Rotate Drawers Within Team"})]}),s.jsxs("div",{className:"form-group checkbox-group",children:[s.jsx("input",{type:"checkbox",id:"allowPartialPoints",checked:m.pictionarySettings.allowPartialPoints,onChange:S=>p({allowPartialPoints:S.target.checked})}),s.jsx("label",{htmlFor:"allowPartialPoints",children:"Allow Partial Points"})]}),s.jsxs("div",{className:"form-group checkbox-group",children:[s.jsx("input",{type:"checkbox",id:"revealAnswerOnFail",checked:m.pictionarySettings.revealAnswerOnFail,onChange:S=>p({revealAnswerOnFail:S.target.checked})}),s.jsx("label",{htmlFor:"revealAnswerOnFail",children:"Reveal Answer on Failed Guess"})]})]})]})},DT=({contentItems:r=[],setContentItems:n,currentHint:i="",setCurrentHint:o,addHint:c,removeHint:d})=>{b.useEffect(()=>{r.length===0&&h()},[]);const h=()=>{const T={contentId:ao(),type:"FILL_IN_BLANK",data:{questionText:"",blanks:[{answer:"",alternatives:[]}],explanation:"",hints:[],points:10},duration:60};n([...r,T])},m=(T,S)=>{const C=[...r];C[T].data={...C[T].data,...S},n(C)},g=(T,S)=>{const C=A(S),E={questionText:S};E.blanks=Array(C).fill().map((O,M)=>{var R,L,B,D,z,te;return{answer:((B=(L=(R=r[T])==null?void 0:R.data)==null?void 0:L.blanks[M])==null?void 0:B.answer)||"",alternatives:((te=(z=(D=r[T])==null?void 0:D.data)==null?void 0:z.blanks[M])==null?void 0:te.alternatives)||[]}}),m(T,E)},p=(T,S,C)=>{const E={...r[T].data};E.blanks[S].answer=C,m(T,E)},v=(T,S,C,E)=>{const O={...r[T].data};O.blanks[S].alternatives[C]=E,m(T,O)},x=(T,S)=>{const C={...r[T].data};C.blanks[S].alternatives.push(""),m(T,C)},w=T=>{const S=r.filter((C,E)=>E!==T);n(S)},A=T=>(T.match(/_+/g)||[]).length,_=(T,S)=>{var E;return((E=(T.match(/_+/g)||[])[S])==null?void 0:E.length)>=2?"multiple":1};return s.jsxs("div",{className:"!w-full !space-y-6",children:[r.map((T,S)=>s.jsxs("div",{className:"!p-4 !border !rounded-lg !bg-white !shadow-sm !mb-6",children:[s.jsxs("div",{className:"!flex !justify-between !items-center !mb-4",children:[s.jsxs("h4",{className:"!text-lg !font-medium",children:["Question ",S+1]}),s.jsx("button",{onClick:()=>w(S),className:"!p-2 !text-red-500 hover:!text-red-700",children:s.jsx(Za,{className:"!w-4 !h-4"})})]}),s.jsxs("div",{className:"!space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"!block !text-sm !font-medium !text-gray-700 !mb-1",children:"Question Text (use _ for blanks 1 word , use __ for blanks multiple words)"}),s.jsx("input",{value:T.data.questionText,onChange:C=>g(S,C.target.value),className:"!w-full !px-3 !py-2 !border !rounded-md"})]}),T.data.blanks.map((C,E)=>s.jsxs("div",{className:"!p-4 !border !rounded-md !bg-gray-50",children:[s.jsx("div",{className:"!flex !justify-between !items-center !mb-2",children:s.jsxs("h5",{className:"!text-sm !font-medium",children:["Blank ",E+1," (",_(T.data.questionText,E),")"]})}),s.jsxs("div",{className:"!space-y-2",children:[s.jsx("input",{value:C.answer,onChange:O=>p(S,E,O.target.value),className:"!w-full !px-3 !py-2 !border !rounded-md"}),s.jsxs("div",{className:"!space-y-2",children:[C.alternatives.map((O,M)=>s.jsxs("div",{className:"!flex !gap-2",children:[s.jsx("input",{value:O,onChange:R=>v(S,E,M,R.target.value),className:"!flex-1 !px-3 !py-2 !border !rounded-md"}),s.jsx("button",{onClick:()=>{const R={...T.data};R.blanks[E].alternatives.splice(M,1),m(S,R)},className:"!p-2 !text-red-500 hover:!text-red-700",children:s.jsx(sa,{className:"!w-4 !h-4"})})]},M)),s.jsxs("button",{onClick:()=>x(S,E),className:"!text-blue-600 !flex !items-center !gap-1",children:[s.jsx(Rt,{className:"!w-4 !h-4"})," Add Alternative"]})]})]})]},E)),s.jsxs("div",{children:[s.jsx("label",{className:"!block !text-sm !font-medium !text-gray-700 !mb-1",children:"Explanation"}),s.jsx("textarea",{value:T.data.explanation,onChange:C=>m(S,{explanation:C.target.value}),className:"!w-full !px-3 !py-2 !border !rounded-md"})]}),s.jsxs("div",{className:"!space-y-2",children:[s.jsx("h6",{className:"!text-sm !font-medium",children:"Hints"}),T.data.hints.map((C,E)=>s.jsxs("div",{className:"!flex !justify-between !items-center !bg-gray-50 !p-2 !rounded",children:[s.jsx("span",{children:C}),s.jsx("button",{onClick:()=>{const O={...T.data};O.hints.splice(E,1),m(S,O)},className:"!text-red-500 hover:!text-red-700",children:s.jsx(sa,{className:"!w-4 !h-4"})})]},E)),s.jsxs("div",{className:"!flex !gap-2",children:[s.jsx("input",{type:"text",value:i,onChange:C=>o(C.target.value),className:"!flex-1 !px-3 !py-2 !border !rounded-md"}),s.jsx("button",{onClick:()=>{const C={...T.data};C.hints=[...C.hints,i],m(S,C),o("")},className:"!px-4 !py-2 !bg-blue-600 !text-white !rounded",children:"Add Hint"})]})]})]})]},S)),s.jsxs("button",{onClick:h,className:"!px-4 !py-2 !bg-blue-600 !text-white !rounded !flex !items-center !gap-1",children:[s.jsx(Rt,{className:"!w-4 !h-4"})," Add New Question"]})]})},kT=()=>{var it,ba,yt,Jt;const{gameId:r}=ly(),{token:n}=Qt(),i=Ut(),[o,c]=b.useState(null),[d,h]=b.useState([]),[m,g]=b.useState([]),[p,v]=b.useState(!1),[x,w]=b.useState(!1),[A,_]=b.useState("ALL"),[T,S]=b.useState(["MULTIPLE_CHOICE","SORTING","MATCHING","FILL_IN_BLANK"]),[C,E]=b.useState(!1),[O,M]=b.useState([]),[R,L]=b.useState(!0),[B,D]=b.useState(""),[z,te]=b.useState(""),[ie,J]=b.useState(1),[Y]=b.useState(10),[pe,he]=b.useState(""),q=d.filter(ae=>{const me=A==="ALL"||ae.type===A,Ee=pe===""||ae.title.toLowerCase().includes(pe.toLowerCase())||ae.subject&&ae.subject.toLowerCase().includes(pe.toLowerCase());return me&&Ee}),de=Math.ceil(q.length/Y),G=ie*Y,F=G-Y,N=q.slice(F,G),[k,H]=b.useState({title:"",type:"MULTIPLE_CHOICE",instructions:"",timeLimit:60,points:10,difficulty:"MEDIUM",subject:"",topic:"",learningObjective:"",gradeLevel:"",tags:[],isPublic:!1,contentItems:[]}),[le,P]=b.useState({activityId:"",order:1,duration:60,points:10,requirement:{isRequired:!0,minimumScore:0,type:"COMPLETION"}}),[Z,re]=b.useState({instructions:"",items:[{text:"",imageUrl:"",correctPosition:1},{text:"",imageUrl:"",correctPosition:2}],hints:[]}),[ve,we]=b.useState([]),[Ne,ze]=b.useState("");b.useEffect(()=>{(async()=>{try{const me=await ge.get("http://localhost:8080/api/activities/types",{headers:{Authorization:`Bearer ${n}`}});S(me.data)}catch(me){console.error("Error fetching activity types:",me)}})()},[n]),b.useEffect(()=>{(async()=>{L(!0);try{if(!n)throw new Error("Must be logged in");const[me,Ee]=await Promise.all([ge.get("http://localhost:8080/api/activities/teacher",{headers:{Authorization:`Bearer ${n}`}}),ge.get(`http://localhost:8080/api/games/${r}`,{headers:{Authorization:`Bearer ${n}`}})]),Re=me.data,He=Ee.data,Ze={};Re.forEach(xt=>{Ze[xt.id]=xt});const qt=(He.activities||[]).map(xt=>{const at=Ze[xt.activityId];return{...xt,title:(at==null?void 0:at.title)||"Unknown Activity",type:(at==null?void 0:at.type)||xt.activityType,timeLimit:at==null?void 0:at.timeLimit,points:(at==null?void 0:at.points)||xt.points,difficulty:at==null?void 0:at.difficulty,subject:at==null?void 0:at.subject,topic:at==null?void 0:at.topic}});c(He),h(Re),g(qt)}catch(me){console.error(me),D(me.message||"Failed to load game data. Please try again.")}finally{L(!1)}})()},[r,n]),b.useEffect(()=>{H(ae=>({...ae,contentItems:[]}))},[k.type]);const vt=async()=>{var ae;try{if(D(""),!k.title){D("Activity title is required");return}const me={...k,content:null,contentItems:k.contentItems.map(He=>{var Ht,qt,xt;const Ze={contentId:He.contentId,data:He.data,instructions:""};switch(k.type){case"TEAM_CHALLENGE":return{...Ze,title:`Team Challenge - ${((Ht=He.data.prompts[0])==null?void 0:Ht.substring(0,20))||"Untitled"}`,duration:He.data.roundTime};case"FILL_IN_BLANK":return{...Ze,title:`Fill-in-Blank - ${((qt=He.data.questionText)==null?void 0:qt.substring(0,30))||"Untitled"}`,duration:He.duration};case"MULTIPLE_CHOICE":return{...Ze,title:`MCQ - ${((xt=He.data.question)==null?void 0:xt.substring(0,30))||"Untitled"}`,duration:He.data.duration};case"MATCHING":return{...Ze,title:`Matching - ${He.data.item1||"Pair"}`,duration:He.duration};default:return{...Ze,title:"Activity",duration:60}}})},Ee=await ge.post("http://localhost:8080/api/activities",me,{headers:{Authorization:`Bearer ${n}`}}),{data:Re}=await ge.get("http://localhost:8080/api/activities/teacher",{headers:{Authorization:`Bearer ${n}`}});h(Re),h([...d,Ee.data]),te(`Activity "${Ee.data.title}" created successfully!`),setTimeout(()=>te(""),5e3),_e(),w(!1),P({...le,activityId:Ee.data.id,duration:Ee.data.timeLimit,points:Ee.data.points}),we([Ee.data])}catch(me){console.error("Failed to create activity",me),D(((ae=me.response)==null?void 0:ae.data)||"Failed to create activity")}},ut=(ae,me)=>ae.map(Ee=>{const Re=me[Ee.activityId];return Re||console.warn(`Activity with ID ${Ee.activityId} not found in teacher's activities`),{...Ee,title:(Re==null?void 0:Re.title)||"Unknown Activity",type:(Re==null?void 0:Re.type)||Ee.activityType,timeLimit:Re==null?void 0:Re.timeLimit,points:(Re==null?void 0:Re.points)||Ee.points,difficulty:Re==null?void 0:Re.difficulty,subject:Re==null?void 0:Re.subject,topic:Re==null?void 0:Re.topic}}),jt=async()=>{var ae;try{if(D(""),ve.length===0){D("Please select at least one activity to add");return}const me=[...ve].sort((He,Ze)=>He.selectionOrder-Ze.selectionOrder);let Ee=0,Re=m.length+1;for(let He=0;He<me.length;He++){const Ze=me[He],Ht={activityId:Ze.id,order:Re+He,duration:Ze.timeLimit||60,points:Ze.points||10,activityType:Ze.type,requirement:{isRequired:!0,minimumScore:0,type:"COMPLETION"}};try{const qt=await ge.post(`http://localhost:8080/api/activities/${Ht.activityId}/games/${r}`,Ht,{headers:{Authorization:`Bearer ${n}`}}),xt={};d.forEach(Yr=>{xt[Yr.id]=Yr});const at=ut(qt.data.activities,xt);g(at),c(qt.data),Ee++}catch(qt){console.error(`Failed to add activity ${Ze.title}`,qt)}}Ee>0?(te(`${Ee} activities added to game successfully!`),setTimeout(()=>te(""),5e3)):(D("Failed to add any activities to the game"),setTimeout(()=>D(""),5e3)),v(!1),we([])}catch(me){console.error("Failed to add activities to game",me),D(((ae=me.response)==null?void 0:ae.data)||"Failed to add activities to game")}},et=()=>{v(!1),we([])},mt=async ae=>{var me;try{const Ee=await ge.delete(`http://localhost:8080/api/activities/${ae}/games/${r}`,{headers:{Authorization:`Bearer ${n}`}}),Re={};d.forEach(Ze=>{Re[Ze.id]=Ze});const He=ut(Ee.data.activities,Re);g(He),te("Activity removed from game successfully!")}catch(Ee){console.error("Failed to remove activity from game",Ee),D(((me=Ee.response)==null?void 0:me.data)||"Failed to remove activity from game")}},Q=async ae=>{var me;try{const Ee=await ge.put(`http://localhost:8080/api/activities/games/${r}/reorder`,ae,{headers:{Authorization:`Bearer ${n}`}}),Re={};d.forEach(Ze=>{Re[Ze.id]=Ze});const He=ut(Ee.data.activities,Re);g(He),te("Game activities reordered successfully!")}catch(Ee){console.error("Failed to reorder activities",Ee),D(((me=Ee.response)==null?void 0:me.data)||"Failed to reorder activities")}},X=ae=>{if(ae===0)return;const me=[...m],Ee=me[ae];me[ae]=me[ae-1],me[ae-1]=Ee,me.forEach((Re,He)=>{Re.order=He+1}),Q(me)},se=ae=>{if(ae===m.length-1)return;const me=[...m],Ee=me[ae];me[ae]=me[ae+1],me[ae+1]=Ee,me.forEach((Re,He)=>{Re.order=He+1}),Q(me)},fe=ae=>{ae.type==="TEAM_CHALLENGE"&&c(Ee=>({...Ee,settings:{...Ee.settings,teamBased:!0,teamSettings:Ee.settings.teamSettings||{autoAssignTeams:!0,numberOfTeams:2,membersPerTeam:2}}}));const me=ve.findIndex(Ee=>Ee.id===ae.id);if(me>=0){const Ee=[...ve];Ee.splice(me,1),we(Ee)}else we([...ve,{...ae,selectionOrder:ve.length+1}])},ye=()=>{Ne.trim()&&(k.type==="MULTIPLE_CHOICE"?setMultipleChoiceContent({...multipleChoiceContent,hints:[...multipleChoiceContent.hints,Ne]}):k.type==="SORTING"?re({...Z,hints:[...Z.hints,Ne]}):k.type==="MATCHING"?setMatchingContent({...matchingContent,hints:[...matchingContent.hints,Ne]}):k.type==="TEAM_CHALLENGE"?setTeamChallengeContent({...teamChallengeContent,hints:[...teamChallengeContent.hints,Ne]}):k.type==="FILL_IN_BLANK"&&setFillInBlankContent({...fillInBlankContent,hints:[...fillInBlankContent.hints,Ne]}),ze(""))},je=ae=>{if(k.type==="MULTIPLE_CHOICE"){const me=[...multipleChoiceContent.hints];me.splice(ae,1),setMultipleChoiceContent({...multipleChoiceContent,hints:me})}else if(k.type==="SORTING"){const me=[...Z.hints];me.splice(ae,1),re({...Z,hints:me})}else if(k.type==="MATCHING"){const me=[...matchingContent.hints];me.splice(ae,1),setMatchingContent({...matchingContent,hints:me})}else if(k.type==="TEAM_CHALLENGE"){const me=[...teamChallengeContent.hints];me.splice(ae,1),setTeamChallengeContent({...teamChallengeContent,hints:me})}else if(k.type==="FILL_IN_BLANK"){const me=[...fillInBlankContent.hints];me.splice(ae,1),setFillInBlankContent({...fillInBlankContent,hints:me})}},_e=()=>{H({title:"",type:"MULTIPLE_CHOICE",instructions:"",timeLimit:60,points:10,difficulty:"MEDIUM",subject:"",topic:"",learningObjective:"",gradeLevel:"",tags:[],isPublic:!1,contentItems:[]}),ze("")},Be=async()=>{var ae;try{const me=await ge.put(`http://localhost:8080/api/games/${r}`,o,{headers:{Authorization:`Bearer ${n}`}});c(me.data),te("Game saved successfully!"),setTimeout(()=>te(""),5e3)}catch(me){console.error("Failed to save game",me),D(((ae=me.response)==null?void 0:ae.data)||"Failed to save game")}};if(R)return s.jsx("div",{className:"loading",children:"Loading game editor..."});const $e=()=>{switch(k.type){case"MULTIPLE_CHOICE":return s.jsx(_T,{contentItems:k.contentItems,setContentItems:ae=>H({...k,contentItems:ae}),currentHint:Ne,setCurrentHint:ze,addHint:ye,removeHint:je});case"SORTING":return s.jsx(OT,{content:Z,setContent:re,currentHint:Ne,setCurrentHint:ze,addHint:ye,removeHint:je});case"MATCHING":return s.jsx(AT,{contentItems:k.contentItems,setContentItems:ae=>H({...k,contentItems:ae}),shuffleOptions:C,setShuffleOptions:E,hints:O,setHints:M,currentHint:Ne,setCurrentHint:ze,addHint:ye,removeHint:je});case"TEAM_CHALLENGE":return s.jsx(RT,{contentItems:k.contentItems,setContentItems:ae=>H({...k,contentItems:ae}),currentHint:Ne,setCurrentHint:ze,addHint:ye,removeHint:je});case"FILL_IN_BLANK":return s.jsx(DT,{contentItems:k.contentItems,setContentItems:ae=>H({...k,contentItems:ae}),currentHint:Ne,setCurrentHint:ze,addHint:ye,removeHint:je});default:return s.jsx("div",{children:"Unsupported activity type"})}};return s.jsxs(s.Fragment,{children:[s.jsx(Gr,{}),s.jsxs("div",{className:"game-manage-container",children:[s.jsx(Qn,{}),s.jsxs("div",{className:"game-editor-content",children:[B&&s.jsx("div",{className:"error-message",children:B}),z&&s.jsx("div",{className:"success-message",children:z}),s.jsxs("div",{className:"game-header",children:[s.jsxs("h1",{children:[s.jsx(Zd,{size:24})," ",(o==null?void 0:o.title)||"Game Editor"]}),s.jsxs("button",{className:"save-game-button",onClick:Be,children:[s.jsx(yS,{size:18})," Save Game"]})]}),s.jsx("div",{className:"game-details",children:s.jsxs("div",{className:"game-form-grid",children:[s.jsxs("div",{className:"game-form-group full-width",children:[s.jsx("label",{children:"Game Title"}),s.jsx("input",{type:"text",value:(o==null?void 0:o.title)||"",onChange:ae=>c({...o,title:ae.target.value}),className:"game-input"})]}),s.jsxs("div",{className:"game-form-group full-width",children:[s.jsx("label",{children:"Description"}),s.jsx("textarea",{value:(o==null?void 0:o.description)||"",onChange:ae=>c({...o,description:ae.target.value}),className:"game-textarea"})]}),s.jsxs("div",{className:"game-form-group half-width",children:[s.jsx("label",{children:"Subject"}),s.jsx("input",{type:"text",value:(o==null?void 0:o.subject)||"",onChange:ae=>c({...o,subject:ae.target.value}),className:"game-input"})]}),s.jsxs("div",{className:"game-form-group half-width",children:[s.jsx("label",{children:"Grade Level"}),s.jsx("input",{type:"text",value:(o==null?void 0:o.gradeLevel)||"",onChange:ae=>c({...o,gradeLevel:ae.target.value}),className:"game-input"})]}),s.jsx("div",{className:"form-group checkbox-container",children:s.jsxs("div",{className:"checkbox-group",children:[s.jsx("input",{type:"checkbox",id:"teamBased",checked:((it=o==null?void 0:o.settings)==null?void 0:it.teamBased)||!1,onChange:ae=>c({...o,settings:{...o==null?void 0:o.settings,teamBased:ae.target.checked}})}),s.jsx("label",{htmlFor:"teamBased",children:"Enable Team-Based Game"})]})}),((ba=o==null?void 0:o.settings)==null?void 0:ba.teamBased)&&s.jsxs("div",{className:"team-settings-subsection",children:[s.jsx("h4",{children:"Team Configuration"}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Min Team Size"}),s.jsx("input",{type:"number",min:"2",value:((yt=o.settings.teamSettings)==null?void 0:yt.minTeamSize)||2,onChange:ae=>c({...o,settings:{...o.settings,teamSettings:{...o.settings.teamSettings,minTeamSize:parseInt(ae.target.value)}}})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Max Team Size"}),s.jsx("input",{type:"number",min:"2",value:((Jt=o.settings.teamSettings)==null?void 0:Jt.maxTeamSize)||5,onChange:ae=>c({...o,settings:{...o.settings,teamSettings:{...o.settings.teamSettings,maxTeamSize:parseInt(ae.target.value)}}})})]})]})]})]})}),s.jsxs("div",{className:"game-activities-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{children:"Activities"}),s.jsxs("button",{className:"add-activity-button",onClick:()=>v(!0),children:[s.jsx(Rt,{size:18})," Add Activities"]})]}),s.jsx("div",{className:"game-activities-list",children:m&&m.length>0?m.map((ae,me)=>s.jsxs("div",{className:"game-activity-item",children:[s.jsx("div",{className:"activity-info",children:s.jsxs("div",{className:"activity-title",children:[s.jsxs("span",{children:[me+1,". ",ae.title]}),s.jsxs("div",{className:"activity-badges",children:[s.jsx("span",{className:"activity-type-badge",children:ae.activityType==="MULTIPLE_CHOICE"?"Multiple Choice":ae.activityType==="SORTING"?"Sorting":ae.activityType==="MATCHING"?"Matching":ae.activityType}),s.jsxs("span",{className:"activity-points-badge",children:[s.jsx(ku,{size:14})," ",ae.points||10," pts"]}),s.jsxs("span",{className:"activity-time-badge",children:[s.jsx(Qg,{size:14})," ",ae.duration||60,"s"]})]})]})}),s.jsxs("div",{className:"activity-actions",children:[s.jsx("button",{className:"activity-move-button",onClick:()=>X(me),disabled:me===0,children:s.jsx(GN,{size:16})}),s.jsx("button",{className:"activity-move-button",onClick:()=>se(me),disabled:me===m.length-1,children:s.jsx(Yg,{size:16})}),s.jsx("button",{className:"activity-edit-button",onClick:()=>i(`/teacher/activities/${ae.activityId}/edit`),children:s.jsx(Jg,{size:16})}),s.jsx("button",{className:"activity-remove-button",onClick:()=>mt(ae.activityId),children:s.jsx(Za,{size:16})})]})]},`${ae.activityId}_${ae.order}`)):s.jsxs("div",{className:"empty-activities",children:[s.jsx("p",{children:"No activities added to this game yet."}),s.jsxs("button",{className:"add-first-activity",onClick:()=>v(!0),children:[s.jsx(Rt,{size:18})," Add your first activity"]})]})})]})]}),p&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content activity-modal",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Add Activities to Game"}),s.jsx("button",{className:"close-modal",onClick:et,children:s.jsx(sa,{size:20})})]}),s.jsxs("div",{className:"modal-tabs",children:[s.jsxs("button",{className:x?"":"active-tab",onClick:()=>w(!1),children:[s.jsx(ql,{size:16})," Select Existing"]}),s.jsxs("button",{className:x?"active-tab":"",onClick:()=>w(!0),children:[s.jsx(iS,{size:16})," Create New"]})]}),x?s.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:1e3,overflowY:"auto",padding:"20px"},children:s.jsx("div",{className:"modal-content",style:{backgroundColor:"white",borderRadius:"8px",width:"100%",maxWidth:"1000px",maxHeight:"90vh",overflowY:"auto",margin:"20px 0"},children:s.jsxs("div",{className:"create-activity-form",children:[s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"activityTitle",children:"Activity Title *"}),s.jsx("input",{id:"activityTitle",type:"text",value:k.title,onChange:ae=>H({...k,title:ae.target.value}),className:"form-input",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"activityType",children:"Activity Type"}),s.jsx("select",{id:"activityType",value:k.type,onChange:ae=>H({...k,type:ae.target.value}),className:"form-select",children:T.map(ae=>s.jsx("option",{value:ae,children:ae==="MULTIPLE_CHOICE"?"Multiple Choice":ae==="SORTING"?"Sorting":ae==="MATCHING"?"Matching":ae==="FILL_IN_BLANK"?"Fill In Blank":ae},ae))})]})]}),s.jsx("div",{className:"form-row",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"difficulty",children:"Difficulty"}),s.jsxs("select",{id:"difficulty",value:k.difficulty,onChange:ae=>H({...k,difficulty:ae.target.value}),className:"form-select",children:[s.jsx("option",{value:"EASY",children:"Easy"}),s.jsx("option",{value:"MEDIUM",children:"Medium"}),s.jsx("option",{value:"HARD",children:"Hard"})]})]})}),s.jsx("div",{className:"form-group",children:s.jsxs("div",{className:"checkbox-group",children:[s.jsx("input",{type:"checkbox",id:"isPublic",checked:k.isPublic,onChange:ae=>H({...k,isPublic:ae.target.checked})}),s.jsx("label",{htmlFor:"isPublic",children:"Make this activity public"})]})}),$e(),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{className:"cancel-button",onClick:()=>w(!1),children:"Cancel"}),s.jsx("button",{className:"create-button",onClick:vt,children:"Create Activity"})]})]})})}):s.jsxs("div",{className:"select-activity-content",children:[s.jsxs("div",{className:"activity-selection-container",children:[s.jsxs("div",{className:"activity-type-sidebar",children:[s.jsx("div",{className:"activity-type-sidebar-header",children:s.jsx("h3",{children:"Filter Types"})}),s.jsxs("div",{className:"activity-type-list",children:[s.jsxs("button",{className:`activity-type-item ${A==="ALL"?"active":""}`,onClick:()=>_("ALL"),children:[s.jsx(mS,{size:16})," All Types"]}),T.map(ae=>{let me;switch(ae){case"MULTIPLE_CHOICE":me=s.jsx(Jd,{size:16});break;case"SORTING":me=s.jsx(Yg,{size:16});break;case"MATCHING":me=s.jsx(yf,{size:16});break;case"FILL_IN_BLANK":me=s.jsx(Jg,{size:16});break;case"TEAM_CHALLENGE":me=s.jsx(ku,{size:16});break;default:me=s.jsx(Wd,{size:16})}return s.jsxs("button",{className:`activity-type-item ${A===ae?"active":""}`,onClick:()=>_(ae),children:[me,ae==="MULTIPLE_CHOICE"?"Multiple Choice":ae==="SORTING"?"Sorting":ae==="MATCHING"?"Matching":ae==="FILL_IN_BLANK"?"Fill In Blank":ae==="TEAM_CHALLENGE"?"Team Challenge":ae]},ae)})]})]}),s.jsxs("div",{className:"activities-list-container",children:[s.jsxs("div",{className:"activities-list-header",children:[s.jsxs("h3",{children:["Activities (",q.length,")"]}),s.jsx("div",{className:"activities-search",children:s.jsx("input",{type:"text",placeholder:"Search activities...",value:pe,onChange:ae=>he(ae.target.value),className:"activity-search-input"})})]}),s.jsx("div",{className:"activities-list-scrollable",children:q.length>0?N.map(ae=>{const me=ve.findIndex(Ee=>Ee.id===ae.id)>=0;return s.jsxs("div",{className:`activity-select-item ${me?"selected":""}`,onClick:()=>fe(ae),children:[s.jsxs("div",{className:"activity-select-info",children:[s.jsxs("div",{className:"activity-select-title",children:[s.jsx("span",{children:ae.title}),s.jsxs("div",{className:"activity-select-badges",children:[s.jsx("span",{className:"activity-type-badge",children:ae.type==="MULTIPLE_CHOICE"?"Multiple Choice":ae.type==="SORTING"?"Sorting":ae.type==="MATCHING"?"Matching":ae.type==="FILL_IN_BLANK"?"Fill In Blank":ae.type}),s.jsxs("span",{className:"activity-points-badge",children:[s.jsx(ku,{size:14})," ",ae.points||10," pts"]}),s.jsxs("span",{className:"activity-time-badge",children:[s.jsx(Qg,{size:14})," ",ae.timeLimit||60,"s"]})]})]}),s.jsxs("div",{className:"activity-select-details",children:[ae.subject&&s.jsxs("span",{className:"activity-subject",children:[s.jsx(Wd,{size:14})," ",ae.subject]}),ae.difficulty&&s.jsx("span",{className:`activity-difficulty ${ae.difficulty.toLowerCase()}`,children:ae.difficulty})]})]}),s.jsx("div",{className:"activity-select-checkbox",children:me&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"selection-order",children:ve.find(Ee=>Ee.id===ae.id).selectionOrder}),s.jsx(Jd,{size:20})]})})]},ae.id)}):s.jsxs("div",{className:"no-activities",children:[s.jsx("p",{children:"No activities found. Try adjusting your search or filter."}),s.jsxs("button",{className:"create-first-activity",onClick:()=>w(!0),children:[s.jsx(Rt,{size:18})," Create Activity"]})]})}),q.length>Y&&s.jsxs("div",{className:"pagination-controls",children:[s.jsx("button",{className:"pagination-button",disabled:ie===1,onClick:()=>J(1),children:"First"}),s.jsx("button",{className:"pagination-button",disabled:ie===1,onClick:()=>J(ae=>Math.max(ae-1,1)),children:"Previous"}),s.jsxs("span",{className:"pagination-info",children:["Page ",ie," of ",de]}),s.jsx("button",{className:"pagination-button",disabled:ie===de,onClick:()=>J(ae=>Math.min(ae+1,de)),children:"Next"}),s.jsx("button",{className:"pagination-button",disabled:ie===de,onClick:()=>J(de),children:"Last"})]})]})]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{className:"cancel-button",onClick:et,children:"Cancel"}),s.jsxs("button",{className:"add-button",onClick:jt,disabled:ve.length===0,children:["Add Selected Activities (",ve.length,")"]})]})]})]})})]})]})};function MT(r){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=r:i.appendChild(document.createTextNode(r))}MT(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var jf=r=>typeof r=="number"&&!isNaN(r),ei=r=>typeof r=="string",Dy=r=>typeof r=="function",LT=r=>ei(r)||jf(r),UT=r=>b.isValidElement(r)||ei(r)||Dy(r)||jf(r),zT=1,ky=()=>`${zT++}`,Ma=new Map,Kd=[],lv=new Set,My=()=>Ma.size>0,IT=(r,{containerId:n})=>{var i;return(i=Ma.get(n||1))==null?void 0:i.toasts.get(r)};function BT(r,n){var i;if(n)return!!((i=Ma.get(n))!=null&&i.isToastActive(r));let o=!1;return Ma.forEach(c=>{c.isToastActive(r)&&(o=!0)}),o}function HT(r){if(!My()){Kd=Kd.filter(n=>r!=null&&n.options.toastId!==r);return}if(r==null||LT(r))Ma.forEach(n=>{n.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let n=Ma.get(r.containerId);n?n.removeToast(r.id):Ma.forEach(i=>{i.removeToast(r.id)})}}var qT=(r={})=>{Ma.forEach(n=>{n.props.limit&&(!r.containerId||n.id===r.containerId)&&n.clearQueue()})};function PT(r,n){UT(r)&&(My()||Kd.push({content:r,options:n}),Ma.forEach(i=>{i.buildToast(r,n)}))}function Ly(r,n){Ma.forEach(i=>{(n==null||!(n!=null&&n.containerId)||(n==null?void 0:n.containerId)===i.id)&&i.toggle(r,n==null?void 0:n.id)})}function GT(r){return lv.add(r),()=>{lv.delete(r)}}function $T(r){return r&&(ei(r.toastId)||jf(r.toastId))?r.toastId:ky()}function ui(r,n){return PT(r,n),n.toastId}function no(r,n){return{...n,type:n&&n.type||r,toastId:$T(n)}}function ro(r){return(n,i)=>ui(n,no(r,i))}function Je(r,n){return ui(r,no("default",n))}Je.loading=(r,n)=>ui(r,no("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...n}));function XT(r,{pending:n,error:i,success:o},c){let d;n&&(d=ei(n)?Je.loading(n,c):Je.loading(n.render,{...c,...n}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(p,v,x)=>{if(v==null){Je.dismiss(d);return}let w={type:p,...h,...c,data:x},A=ei(v)?{render:v}:v;return d?Je.update(d,{...w,...A}):Je(A.render,{...w,...A}),x},g=Dy(r)?r():r;return g.then(p=>m("success",o,p)).catch(p=>m("error",i,p)),g}Je.promise=XT;Je.success=ro("success");Je.info=ro("info");Je.error=ro("error");Je.warning=ro("warning");Je.warn=Je.warning;Je.dark=(r,n)=>ui(r,no("default",{theme:"dark",...n}));function VT(r){HT(r)}Je.dismiss=VT;Je.clearWaitingQueue=qT;Je.isActive=BT;Je.update=(r,n={})=>{let i=IT(r,n);if(i){let{props:o,content:c}=i,d={delay:100,...o,...n,toastId:n.toastId||r,updateId:ky()};d.toastId!==r&&(d.staleId=r);let h=d.render||c;delete d.render,ui(h,d)}};Je.done=r=>{Je.update(r,{progress:1})};Je.onChange=GT;Je.play=r=>Ly(!0,r);Je.pause=r=>Ly(!1,r);var Uy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ov=Xn.createContext&&Xn.createContext(Uy),YT=["attr","size","title"];function FT(r,n){if(r==null)return{};var i=QT(r,n),o,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);for(c=0;c<d.length;c++)o=d[c],!(n.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(r,o)&&(i[o]=r[o])}return i}function QT(r,n){if(r==null)return{};var i={};for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){if(n.indexOf(o)>=0)continue;i[o]=r[o]}return i}function Gl(){return Gl=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},Gl.apply(this,arguments)}function cv(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),i.push.apply(i,o)}return i}function $l(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?cv(Object(i),!0).forEach(function(o){WT(r,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):cv(Object(i)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(i,o))})}return r}function WT(r,n,i){return n=JT(n),n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function JT(r){var n=ZT(r,"string");return typeof n=="symbol"?n:n+""}function ZT(r,n){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var o=i.call(r,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function zy(r){return r&&r.map((n,i)=>Xn.createElement(n.tag,$l({key:i},n.attr),zy(n.child)))}function KT(r){return n=>Xn.createElement(eE,Gl({attr:$l({},r.attr)},n),zy(r.child))}function eE(r){var n=i=>{var{attr:o,size:c,title:d}=r,h=FT(r,YT),m=c||i.size||"1em",g;return i.className&&(g=i.className),r.className&&(g=(g?g+" ":"")+r.className),Xn.createElement("svg",Gl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,o,h,{className:g,style:$l($l({color:r.color||i.color},i.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),d&&Xn.createElement("title",null,d),r.children)};return ov!==void 0?Xn.createElement(ov.Consumer,null,i=>n(i)):n(Uy)}function tE(r){return KT({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(r)}const aE=()=>{const[r,n]=b.useState({name:"",email:"",role:"",userId:"",avatarUrl:""}),[i,o]=b.useState(!1),{token:c}=Qt();b.useEffect(()=>{(async()=>{try{const m=await ge.get("http://localhost:8080/api/user/profile",{headers:{Authorization:`Bearer ${c}`}});n({name:m.data.name,email:m.data.email,role:m.data.role,userId:m.data.userId,avatarUrl:m.data.avatarUrl})}catch(m){console.error("Lỗi khi lấy thông tin profile",m),Je.error("Không thể tải thông tin hồ sơ")}})()},[c]);const d=async h=>{var g,p;const m=h.target.files[0];if(m){if(!m.type.match("image.*")){Je.error("Chỉ chấp nhận file ảnh (JPEG, PNG)");return}if(m.size>10*1024*1024){Je.error("Kích thước file tối đa là 5MB");return}try{o(!0);const v=new FormData;v.append("file",m),console.log("Token:",c),console.log("UserID:",r.userId);const x=await ge.post(`http://localhost:8080/api/user/${r.userId}/avatar`,v,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${c}`,"X-Teacher-Id":JSON.parse(atob(c.split(".")[1])).sub}});localStorage.setItem("avatarUrl",x.data.avatarUrl),window.dispatchEvent(new Event("avatarUpdated")),n(w=>({...w,avatarUrl:x.data.avatarUrl})),Je.success("Cập nhật avatar thành công!")}catch(v){console.error("Lỗi khi cập nhật avatar",v),Je.error(((p=(g=v.response)==null?void 0:g.data)==null?void 0:p.message)||"Cập nhật avatar thất bại")}finally{o(!1)}}};return r?s.jsxs(s.Fragment,{children:[s.jsx(Gr,{}),s.jsxs("div",{className:"teacher-profile-container",children:[s.jsx(Qn,{}),s.jsx("div",{className:"profile-content-wrapper",children:s.jsxs("div",{className:"profile-card",children:[s.jsxs("div",{className:"profile-header",children:[s.jsx("div",{className:"avatar-overlap-container",children:s.jsxs("div",{className:"avatar-container",children:[s.jsx("img",{src:r.avatarUrl||null,alt:"Avatar",className:"avatar-image",onError:h=>{h.target.src="/default-avatar.png"}}),s.jsxs("div",{className:"avatar-hover-overlay",children:[s.jsx("label",{htmlFor:"avatar-upload",className:"avatar-upload-icon",children:s.jsx(tE,{})}),s.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:d,className:"avatar-upload-input"})]}),i&&s.jsx("div",{className:"upload-loading",children:s.jsx("span",{children:"Đang tải lên..."})})]})}),s.jsx("h2",{className:"profile-name",children:r.name})]}),s.jsx("div",{className:"profile-info-card",children:s.jsxs("div",{className:"profile-info",children:[s.jsxs("div",{className:"profile-info-item",children:[s.jsx("p",{className:"info-label",children:"Email:"}),s.jsx("p",{className:"info-value",children:r.email})]}),s.jsxs("div",{className:"profile-info-item",children:[s.jsx("p",{className:"info-label",children:"Vai trò:"}),s.jsx("p",{className:"info-value",children:r.role})]})]})})]})})]})]}):s.jsx("div",{className:"text-center py-10",children:"Loading..."})},nE=({activity:r,submitting:n,submitAnswer:i,contentItem:o})=>{const[c,d]=b.useState(0),[h,m]=b.useState(!1);b.useEffect(()=>{d(0),m(!1)},[r,o]);const g=()=>o&&o.data?o.data:r.content||{},p=T=>{let S=[];return Array.isArray(T)?S=T:T.questions&&Array.isArray(T.questions)?S=T.questions:typeof T=="object"&&(S=[T]),S},v=g(),x=p(v);if(x.length===0)return s.jsxs("div",{className:"quiz-activity",children:[s.jsx("h3",{children:r.title}),s.jsx("p",{children:r.instructions}),s.jsx("div",{className:"error-message",children:s.jsx("p",{children:"This activity appears to be missing content."})})]});const w=x[c];let A=[];w&&(Array.isArray(w.options)?A=w.options:w.options&&typeof w.options=="object"&&(A=Object.values(w.options)));const _=(T,S)=>{h||(i({questionIndex:c,selectedOption:S}),m(!0))};return s.jsxs("div",{className:"quiz-activity",children:[s.jsx("h3",{children:r.title}),s.jsx("p",{children:r.instructions}),s.jsx("h4",{children:w.question||w.text||"Question"}),s.jsx("div",{className:"quiz-options",children:A.length>0?A.map((T,S)=>s.jsx("button",{onClick:()=>_(T,S),className:`quiz-option ${h?"answered":""}`,disabled:n||h,children:typeof T=="object"?T.text:T},S)):s.jsx("p",{className:"no-options",children:"No answer options available"})})]})},rE=({activity:r,submitting:n,submitAnswer:i})=>s.jsxs("div",{className:"true-false-activity",children:[s.jsx("h3",{children:r.title}),s.jsx("p",{children:r.instructions}),s.jsxs("div",{className:"tf-options",children:[s.jsx("button",{onClick:()=>i(!0),className:"tf-option",disabled:n,children:"True"}),s.jsx("button",{onClick:()=>i(!1),className:"tf-option",disabled:n,children:"False"})]})]}),sE=({activity:r,submitting:n,submitAnswer:i,textAnswer:o,setTextAnswer:c})=>s.jsxs("div",{className:"text-input-activity",children:[s.jsx("h3",{children:r.title}),s.jsx("p",{children:r.instructions}),s.jsxs("form",{onSubmit:d=>{d.preventDefault(),i(o)},children:[s.jsx("input",{type:"text",value:o,onChange:d=>c(d.target.value),placeholder:"Enter your answer",disabled:n}),s.jsx("button",{type:"submit",disabled:n,children:n?"Submitting...":"Submit"})]})]}),Iy=b.createContext({dragDropManager:void 0});function ga(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var uv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),dv=function(){return Math.random().toString(36).substring(7).split("").join(".")},fv={INIT:"@@redux/INIT"+dv(),REPLACE:"@@redux/REPLACE"+dv()};function iE(r){if(typeof r!="object"||r===null)return!1;for(var n=r;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}function By(r,n,i){var o;if(typeof n=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(ga(0));if(typeof n=="function"&&typeof i>"u"&&(i=n,n=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(ga(1));return i(By)(r,n)}if(typeof r!="function")throw new Error(ga(2));var c=r,d=n,h=[],m=h,g=!1;function p(){m===h&&(m=h.slice())}function v(){if(g)throw new Error(ga(3));return d}function x(T){if(typeof T!="function")throw new Error(ga(4));if(g)throw new Error(ga(5));var S=!0;return p(),m.push(T),function(){if(S){if(g)throw new Error(ga(6));S=!1,p();var E=m.indexOf(T);m.splice(E,1),h=null}}}function w(T){if(!iE(T))throw new Error(ga(7));if(typeof T.type>"u")throw new Error(ga(8));if(g)throw new Error(ga(9));try{g=!0,d=c(d,T)}finally{g=!1}for(var S=h=m,C=0;C<S.length;C++){var E=S[C];E()}return T}function A(T){if(typeof T!="function")throw new Error(ga(10));c=T,w({type:fv.REPLACE})}function _(){var T,S=x;return T={subscribe:function(E){if(typeof E!="object"||E===null)throw new Error(ga(11));function O(){E.next&&E.next(v())}O();var M=S(O);return{unsubscribe:M}}},T[uv]=function(){return this},T}return w({type:fv.INIT}),o={dispatch:w,subscribe:x,getState:v,replaceReducer:A},o[uv]=_,o}function Ae(r,n,...i){if(lE()&&n===void 0)throw new Error("invariant requires an error message argument");if(!r){let o;if(n===void 0)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let c=0;o=new Error(n.replace(/%s/g,function(){return i[c++]})),o.name="Invariant Violation"}throw o.framesToPop=1,o}}function lE(){return typeof process<"u"&&!0}function oE(r,n,i){return n.split(".").reduce((o,c)=>o&&o[c]?o[c]:i||null,r)}function cE(r,n){return r.filter(i=>i!==n)}function Hy(r){return typeof r=="object"}function uE(r,n){const i=new Map,o=d=>{i.set(d,i.has(d)?i.get(d)+1:1)};r.forEach(o),n.forEach(o);const c=[];return i.forEach((d,h)=>{d===1&&c.push(h)}),c}function dE(r,n){return r.filter(i=>n.indexOf(i)>-1)}const Nf="dnd-core/INIT_COORDS",so="dnd-core/BEGIN_DRAG",Sf="dnd-core/PUBLISH_DRAG_SOURCE",io="dnd-core/HOVER",lo="dnd-core/DROP",oo="dnd-core/END_DRAG";function hv(r,n){return{type:Nf,payload:{sourceClientOffset:n||null,clientOffset:r||null}}}const fE={type:Nf,payload:{clientOffset:null,sourceClientOffset:null}};function hE(r){return function(i=[],o={publishSource:!0}){const{publishSource:c=!0,clientOffset:d,getSourceClientOffset:h}=o,m=r.getMonitor(),g=r.getRegistry();r.dispatch(hv(d)),mE(i,m,g);const p=vE(i,m);if(p==null){r.dispatch(fE);return}let v=null;if(d){if(!h)throw new Error("getSourceClientOffset must be defined");pE(h),v=h(p)}r.dispatch(hv(d,v));const w=g.getSource(p).beginDrag(m,p);if(w==null)return;gE(w),g.pinSource(p);const A=g.getSourceType(p);return{type:so,payload:{itemType:A,item:w,sourceId:p,clientOffset:d||null,sourceClientOffset:v||null,isSourcePublic:!!c}}}}function mE(r,n,i){Ae(!n.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(o){Ae(i.getSource(o),"Expected sourceIds to be registered.")})}function pE(r){Ae(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function gE(r){Ae(Hy(r),"Item must be an object.")}function vE(r,n){let i=null;for(let o=r.length-1;o>=0;o--)if(n.canDragSource(r[o])){i=r[o];break}return i}function yE(r,n,i){return n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function xE(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{},o=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),o.forEach(function(c){yE(r,c,i[c])})}return r}function bE(r){return function(i={}){const o=r.getMonitor(),c=r.getRegistry();wE(o),SE(o).forEach((h,m)=>{const g=jE(h,m,c,o),p={type:lo,payload:{dropResult:xE({},i,g)}};r.dispatch(p)})}}function wE(r){Ae(r.isDragging(),"Cannot call drop while not dragging."),Ae(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function jE(r,n,i,o){const c=i.getTarget(r);let d=c?c.drop(o,r):void 0;return NE(d),typeof d>"u"&&(d=n===0?{}:o.getDropResult()),d}function NE(r){Ae(typeof r>"u"||Hy(r),"Drop result must either be an object or undefined.")}function SE(r){const n=r.getTargetIds().filter(r.canDropOnTarget,r);return n.reverse(),n}function TE(r){return function(){const i=r.getMonitor(),o=r.getRegistry();EE(i);const c=i.getSourceId();return c!=null&&(o.getSource(c,!0).endDrag(i,c),o.unpinSource()),{type:oo}}}function EE(r){Ae(r.isDragging(),"Cannot call endDrag while not dragging.")}function ef(r,n){return n===null?r===null:Array.isArray(r)?r.some(i=>i===n):r===n}function CE(r){return function(i,{clientOffset:o}={}){_E(i);const c=i.slice(0),d=r.getMonitor(),h=r.getRegistry(),m=d.getItemType();return AE(c,h,m),OE(c,d,h),RE(c,d,h),{type:io,payload:{targetIds:c,clientOffset:o||null}}}}function _E(r){Ae(Array.isArray(r),"Expected targetIds to be an array.")}function OE(r,n,i){Ae(n.isDragging(),"Cannot call hover while not dragging."),Ae(!n.didDrop(),"Cannot call hover after drop.");for(let o=0;o<r.length;o++){const c=r[o];Ae(r.lastIndexOf(c)===o,"Expected targetIds to be unique in the passed array.");const d=i.getTarget(c);Ae(d,"Expected targetIds to be registered.")}}function AE(r,n,i){for(let o=r.length-1;o>=0;o--){const c=r[o],d=n.getTargetType(c);ef(d,i)||r.splice(o,1)}}function RE(r,n,i){r.forEach(function(o){i.getTarget(o).hover(n,o)})}function DE(r){return function(){if(r.getMonitor().isDragging())return{type:Sf}}}function kE(r){return{beginDrag:hE(r),publishDragSource:DE(r),hover:CE(r),drop:bE(r),endDrag:TE(r)}}class ME{receiveBackend(n){this.backend=n}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const n=this,{dispatch:i}=this.store;function o(d){return(...h)=>{const m=d.apply(n,h);typeof m<"u"&&i(m)}}const c=kE(this);return Object.keys(c).reduce((d,h)=>{const m=c[h];return d[h]=o(m),d},{})}dispatch(n){this.store.dispatch(n)}constructor(n,i){this.isSetUp=!1,this.handleRefCountChange=()=>{const o=this.store.getState().refCount>0;this.backend&&(o&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!o&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=n,this.monitor=i,n.subscribe(this.handleRefCountChange)}}function LE(r,n){return{x:r.x+n.x,y:r.y+n.y}}function qy(r,n){return{x:r.x-n.x,y:r.y-n.y}}function UE(r){const{clientOffset:n,initialClientOffset:i,initialSourceClientOffset:o}=r;return!n||!i||!o?null:qy(LE(n,o),i)}function zE(r){const{clientOffset:n,initialClientOffset:i}=r;return!n||!i?null:qy(n,i)}const Ws=[],Tf=[];Ws.__IS_NONE__=!0;Tf.__IS_ALL__=!0;function IE(r,n){return r===Ws?!1:r===Tf||typeof n>"u"?!0:dE(n,r).length>0}class BE{subscribeToStateChange(n,i={}){const{handlerIds:o}=i;Ae(typeof n=="function","listener must be a function."),Ae(typeof o>"u"||Array.isArray(o),"handlerIds, when specified, must be an array of strings.");let c=this.store.getState().stateId;const d=()=>{const h=this.store.getState(),m=h.stateId;try{m===c||m===c+1&&!IE(h.dirtyHandlerIds,o)||n()}finally{c=m}};return this.store.subscribe(d)}subscribeToOffsetChange(n){Ae(typeof n=="function","listener must be a function.");let i=this.store.getState().dragOffset;const o=()=>{const c=this.store.getState().dragOffset;c!==i&&(i=c,n())};return this.store.subscribe(o)}canDragSource(n){if(!n)return!1;const i=this.registry.getSource(n);return Ae(i,`Expected to find a valid source. sourceId=${n}`),this.isDragging()?!1:i.canDrag(this,n)}canDropOnTarget(n){if(!n)return!1;const i=this.registry.getTarget(n);if(Ae(i,`Expected to find a valid target. targetId=${n}`),!this.isDragging()||this.didDrop())return!1;const o=this.registry.getTargetType(n),c=this.getItemType();return ef(o,c)&&i.canDrop(this,n)}isDragging(){return!!this.getItemType()}isDraggingSource(n){if(!n)return!1;const i=this.registry.getSource(n,!0);if(Ae(i,`Expected to find a valid source. sourceId=${n}`),!this.isDragging()||!this.isSourcePublic())return!1;const o=this.registry.getSourceType(n),c=this.getItemType();return o!==c?!1:i.isDragging(this,n)}isOverTarget(n,i={shallow:!1}){if(!n)return!1;const{shallow:o}=i;if(!this.isDragging())return!1;const c=this.registry.getTargetType(n),d=this.getItemType();if(d&&!ef(c,d))return!1;const h=this.getTargetIds();if(!h.length)return!1;const m=h.indexOf(n);return o?m===h.length-1:m>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return UE(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return zE(this.store.getState().dragOffset)}constructor(n,i){this.store=n,this.registry=i}}const mv=typeof globalThis<"u"?globalThis:self,Py=mv.MutationObserver||mv.WebKitMutationObserver;function Gy(r){return function(){const i=setTimeout(c,0),o=setInterval(c,50);function c(){clearTimeout(i),clearInterval(o),r()}}}function HE(r){let n=1;const i=new Py(r),o=document.createTextNode("");return i.observe(o,{characterData:!0}),function(){n=-n,o.data=n}}const qE=typeof Py=="function"?HE:Gy;class PE{enqueueTask(n){const{queue:i,requestFlush:o}=this;i.length||(o(),this.flushing=!0),i[i.length]=n}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:n}=this;for(;this.index<n.length;){const i=this.index;if(this.index++,n[i].call(),this.index>this.capacity){for(let o=0,c=n.length-this.index;o<c;o++)n[o]=n[o+this.index];n.length-=this.index,this.index=0}}n.length=0,this.index=0,this.flushing=!1},this.registerPendingError=n=>{this.pendingErrors.push(n),this.requestErrorThrow()},this.requestFlush=qE(this.flush),this.requestErrorThrow=Gy(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class GE{call(){try{this.task&&this.task()}catch(n){this.onError(n)}finally{this.task=null,this.release(this)}}constructor(n,i){this.onError=n,this.release=i,this.task=null}}class $E{create(n){const i=this.freeTasks,o=i.length?i.pop():new GE(this.onError,c=>i[i.length]=c);return o.task=n,o}constructor(n){this.onError=n,this.freeTasks=[]}}const $y=new PE,XE=new $E($y.registerPendingError);function VE(r){$y.enqueueTask(XE.create(r))}const Ef="dnd-core/ADD_SOURCE",Cf="dnd-core/ADD_TARGET",_f="dnd-core/REMOVE_SOURCE",co="dnd-core/REMOVE_TARGET";function YE(r){return{type:Ef,payload:{sourceId:r}}}function FE(r){return{type:Cf,payload:{targetId:r}}}function QE(r){return{type:_f,payload:{sourceId:r}}}function WE(r){return{type:co,payload:{targetId:r}}}function JE(r){Ae(typeof r.canDrag=="function","Expected canDrag to be a function."),Ae(typeof r.beginDrag=="function","Expected beginDrag to be a function."),Ae(typeof r.endDrag=="function","Expected endDrag to be a function.")}function ZE(r){Ae(typeof r.canDrop=="function","Expected canDrop to be a function."),Ae(typeof r.hover=="function","Expected hover to be a function."),Ae(typeof r.drop=="function","Expected beginDrag to be a function.")}function tf(r,n){if(n&&Array.isArray(r)){r.forEach(i=>tf(i,!1));return}Ae(typeof r=="string"||typeof r=="symbol",n?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var va;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(va||(va={}));let KE=0;function eC(){return KE++}function tC(r){const n=eC().toString();switch(r){case va.SOURCE:return`S${n}`;case va.TARGET:return`T${n}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function pv(r){switch(r[0]){case"S":return va.SOURCE;case"T":return va.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function gv(r,n){const i=r.entries();let o=!1;do{const{done:c,value:[,d]}=i.next();if(d===n)return!0;o=!!c}while(!o);return!1}class aC{addSource(n,i){tf(n),JE(i);const o=this.addHandler(va.SOURCE,n,i);return this.store.dispatch(YE(o)),o}addTarget(n,i){tf(n,!0),ZE(i);const o=this.addHandler(va.TARGET,n,i);return this.store.dispatch(FE(o)),o}containsHandler(n){return gv(this.dragSources,n)||gv(this.dropTargets,n)}getSource(n,i=!1){return Ae(this.isSourceId(n),"Expected a valid source ID."),i&&n===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(n)}getTarget(n){return Ae(this.isTargetId(n),"Expected a valid target ID."),this.dropTargets.get(n)}getSourceType(n){return Ae(this.isSourceId(n),"Expected a valid source ID."),this.types.get(n)}getTargetType(n){return Ae(this.isTargetId(n),"Expected a valid target ID."),this.types.get(n)}isSourceId(n){return pv(n)===va.SOURCE}isTargetId(n){return pv(n)===va.TARGET}removeSource(n){Ae(this.getSource(n),"Expected an existing source."),this.store.dispatch(QE(n)),VE(()=>{this.dragSources.delete(n),this.types.delete(n)})}removeTarget(n){Ae(this.getTarget(n),"Expected an existing target."),this.store.dispatch(WE(n)),this.dropTargets.delete(n),this.types.delete(n)}pinSource(n){const i=this.getSource(n);Ae(i,"Expected an existing source."),this.pinnedSourceId=n,this.pinnedSource=i}unpinSource(){Ae(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(n,i,o){const c=tC(n);return this.types.set(c,i),n===va.SOURCE?this.dragSources.set(c,o):n===va.TARGET&&this.dropTargets.set(c,o),c}constructor(n){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=n}}const nC=(r,n)=>r===n;function rC(r,n){return!r&&!n?!0:!r||!n?!1:r.x===n.x&&r.y===n.y}function sC(r,n,i=nC){if(r.length!==n.length)return!1;for(let o=0;o<r.length;++o)if(!i(r[o],n[o]))return!1;return!0}function iC(r=Ws,n){switch(n.type){case io:break;case Ef:case Cf:case co:case _f:return Ws;case so:case Sf:case oo:case lo:default:return Tf}const{targetIds:i=[],prevTargetIds:o=[]}=n.payload,c=uE(i,o);if(!(c.length>0||!sC(i,o)))return Ws;const h=o[o.length-1],m=i[i.length-1];return h!==m&&(h&&c.push(h),m&&c.push(m)),c}function lC(r,n,i){return n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function oC(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{},o=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),o.forEach(function(c){lC(r,c,i[c])})}return r}const vv={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function cC(r=vv,n){const{payload:i}=n;switch(n.type){case Nf:case so:return{initialSourceClientOffset:i.sourceClientOffset,initialClientOffset:i.clientOffset,clientOffset:i.clientOffset};case io:return rC(r.clientOffset,i.clientOffset)?r:oC({},r,{clientOffset:i.clientOffset});case oo:case lo:return vv;default:return r}}function uC(r,n,i){return n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function zr(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{},o=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),o.forEach(function(c){uC(r,c,i[c])})}return r}const dC={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function fC(r=dC,n){const{payload:i}=n;switch(n.type){case so:return zr({},r,{itemType:i.itemType,item:i.item,sourceId:i.sourceId,isSourcePublic:i.isSourcePublic,dropResult:null,didDrop:!1});case Sf:return zr({},r,{isSourcePublic:!0});case io:return zr({},r,{targetIds:i.targetIds});case co:return r.targetIds.indexOf(i.targetId)===-1?r:zr({},r,{targetIds:cE(r.targetIds,i.targetId)});case lo:return zr({},r,{dropResult:i.dropResult,didDrop:!0,targetIds:[]});case oo:return zr({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function hC(r=0,n){switch(n.type){case Ef:case Cf:return r+1;case _f:case co:return r-1;default:return r}}function mC(r=0){return r+1}function pC(r,n,i){return n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function gC(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{},o=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),o.forEach(function(c){pC(r,c,i[c])})}return r}function vC(r={},n){return{dirtyHandlerIds:iC(r.dirtyHandlerIds,{type:n.type,payload:gC({},n.payload,{prevTargetIds:oE(r,"dragOperation.targetIds",[])})}),dragOffset:cC(r.dragOffset,n),refCount:hC(r.refCount,n),dragOperation:fC(r.dragOperation,n),stateId:mC(r.stateId)}}function yC(r,n=void 0,i={},o=!1){const c=xC(o),d=new BE(c,new aC(c)),h=new ME(c,d),m=r(h,n,i);return h.receiveBackend(m),h}function xC(r){const n=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return By(vC,r&&n&&n({name:"dnd-core",instanceId:"dnd-core"}))}function bC(r,n){if(r==null)return{};var i=wC(r,n),o,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);for(c=0;c<d.length;c++)o=d[c],!(n.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(r,o)&&(i[o]=r[o])}return i}function wC(r,n){if(r==null)return{};var i={},o=Object.keys(r),c,d;for(d=0;d<o.length;d++)c=o[d],!(n.indexOf(c)>=0)&&(i[c]=r[c]);return i}let yv=0;const zl=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var jC=b.memo(function(n){var{children:i}=n,o=bC(n,["children"]);const[c,d]=NC(o);return b.useEffect(()=>{if(d){const h=Xy();return++yv,()=>{--yv===0&&(h[zl]=null)}}},[]),s.jsx(Iy.Provider,{value:c,children:i})});function NC(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const n=SC(r.backend,r.context,r.options,r.debugMode),i=!r.context;return[n,i]}function SC(r,n=Xy(),i,o){const c=n;return c[zl]||(c[zl]={dragDropManager:yC(r,n,i,o)}),c[zl]}function Xy(){return typeof globalThis<"u"?globalThis:window}var Ld,xv;function TC(){return xv||(xv=1,Ld=function r(n,i){if(n===i)return!0;if(n&&i&&typeof n=="object"&&typeof i=="object"){if(n.constructor!==i.constructor)return!1;var o,c,d;if(Array.isArray(n)){if(o=n.length,o!=i.length)return!1;for(c=o;c--!==0;)if(!r(n[c],i[c]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if(d=Object.keys(n),o=d.length,o!==Object.keys(i).length)return!1;for(c=o;c--!==0;)if(!Object.prototype.hasOwnProperty.call(i,d[c]))return!1;for(c=o;c--!==0;){var h=d[c];if(!r(n[h],i[h]))return!1}return!0}return n!==n&&i!==i}),Ld}var EC=TC();const CC=sf(EC),Wn=typeof window<"u"?b.useLayoutEffect:b.useEffect;function _C(r,n,i){const[o,c]=b.useState(()=>n(r)),d=b.useCallback(()=>{const h=n(r);CC(o,h)||(c(h),i&&i())},[o,r,i]);return Wn(d),[o,d]}function OC(r,n,i){const[o,c]=_C(r,n,i);return Wn(function(){const h=r.getHandlerId();if(h!=null)return r.subscribeToStateChange(c,{handlerIds:[h]})},[r,c]),o}function Vy(r,n,i){return OC(n,r||(()=>({})),()=>i.reconnect())}function Yy(r,n){const i=[];return typeof r!="function"&&i.push(r),b.useMemo(()=>typeof r=="function"?r():r,i)}function AC(r){return b.useMemo(()=>r.hooks.dragSource(),[r])}function RC(r){return b.useMemo(()=>r.hooks.dragPreview(),[r])}let Ud=!1,zd=!1;class DC{receiveHandlerId(n){this.sourceId=n}getHandlerId(){return this.sourceId}canDrag(){Ae(!Ud,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ud=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Ud=!1}}isDragging(){if(!this.sourceId)return!1;Ae(!zd,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return zd=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{zd=!1}}subscribeToStateChange(n,i){return this.internalMonitor.subscribeToStateChange(n,i)}isDraggingSource(n){return this.internalMonitor.isDraggingSource(n)}isOverTarget(n,i){return this.internalMonitor.isOverTarget(n,i)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(n){return this.internalMonitor.subscribeToOffsetChange(n)}canDragSource(n){return this.internalMonitor.canDragSource(n)}canDropOnTarget(n){return this.internalMonitor.canDropOnTarget(n)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(n){this.sourceId=null,this.internalMonitor=n.getMonitor()}}let Id=!1;class kC{receiveHandlerId(n){this.targetId=n}getHandlerId(){return this.targetId}subscribeToStateChange(n,i){return this.internalMonitor.subscribeToStateChange(n,i)}canDrop(){if(!this.targetId)return!1;Ae(!Id,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Id=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Id=!1}}isOver(n){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,n):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(n){this.targetId=null,this.internalMonitor=n.getMonitor()}}function MC(r,n,i){const o=i.getRegistry(),c=o.addTarget(r,n);return[c,()=>o.removeTarget(c)]}function LC(r,n,i){const o=i.getRegistry(),c=o.addSource(r,n);return[c,()=>o.removeSource(c)]}function af(r,n,i,o){let c;if(c!==void 0)return!!c;if(r===n)return!0;if(typeof r!="object"||!r||typeof n!="object"||!n)return!1;const d=Object.keys(r),h=Object.keys(n);if(d.length!==h.length)return!1;const m=Object.prototype.hasOwnProperty.bind(n);for(let g=0;g<d.length;g++){const p=d[g];if(!m(p))return!1;const v=r[p],x=n[p];if(c=void 0,c===!1||c===void 0&&v!==x)return!1}return!0}function nf(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function UC(r){if(typeof r.type=="string")return;const n=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${n} into a <div>, or turn it into a drag source or a drop target itself.`)}function zC(r){return(n=null,i=null)=>{if(!b.isValidElement(n)){const d=n;return r(d,i),d}const o=n;return UC(o),IC(o,i?d=>r(d,i):r)}}function Fy(r){const n={};return Object.keys(r).forEach(i=>{const o=r[i];if(i.endsWith("Ref"))n[i]=r[i];else{const c=zC(o);n[i]=()=>c}}),n}function bv(r,n){typeof r=="function"?r(n):r.current=n}function IC(r,n){const i=r.ref;return Ae(typeof i!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),i?b.cloneElement(r,{ref:o=>{bv(i,o),bv(n,o)}}):b.cloneElement(r,{ref:n})}class BC{receiveHandlerId(n){this.handlerId!==n&&(this.handlerId=n,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(n){this.dragSourceOptionsInternal=n}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(n){this.dragPreviewOptionsInternal=n}reconnect(){const n=this.reconnectDragSource();this.reconnectDragPreview(n)}reconnectDragSource(){const n=this.dragSource,i=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return i&&this.disconnectDragSource(),this.handlerId?n?(i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=n,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,n,this.dragSourceOptions)),i):(this.lastConnectedDragSource=n,i):i}reconnectDragPreview(n=!1){const i=this.dragPreview,o=n||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(o&&this.disconnectDragPreview(),!!this.handlerId){if(!i){this.lastConnectedDragPreview=i;return}o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=i,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,i,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!af(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!af(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(n){this.hooks=Fy({dragSource:(i,o)=>{this.clearDragSource(),this.dragSourceOptions=o||null,nf(i)?this.dragSourceRef=i:this.dragSourceNode=i,this.reconnectDragSource()},dragPreview:(i,o)=>{this.clearDragPreview(),this.dragPreviewOptions=o||null,nf(i)?this.dragPreviewRef=i:this.dragPreviewNode=i,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=n}}class HC{get connectTarget(){return this.dropTarget}reconnect(){const n=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();n&&this.disconnectDropTarget();const i=this.dropTarget;if(this.handlerId){if(!i){this.lastConnectedDropTarget=i;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=i,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,i,this.dropTargetOptions))}}receiveHandlerId(n){n!==this.handlerId&&(this.handlerId=n,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(n){this.dropTargetOptionsInternal=n}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!af(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(n){this.hooks=Fy({dropTarget:(i,o)=>{this.clearDropTarget(),this.dropTargetOptions=o,nf(i)?this.dropTargetRef=i:this.dropTargetNode=i,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=n}}function Vr(){const{dragDropManager:r}=b.useContext(Iy);return Ae(r!=null,"Expected drag drop context"),r}function qC(r,n){const i=Vr(),o=b.useMemo(()=>new BC(i.getBackend()),[i]);return Wn(()=>(o.dragSourceOptions=r||null,o.reconnect(),()=>o.disconnectDragSource()),[o,r]),Wn(()=>(o.dragPreviewOptions=n||null,o.reconnect(),()=>o.disconnectDragPreview()),[o,n]),o}function PC(){const r=Vr();return b.useMemo(()=>new DC(r),[r])}class GC{beginDrag(){const n=this.spec,i=this.monitor;let o=null;return typeof n.item=="object"?o=n.item:typeof n.item=="function"?o=n.item(i):o={},o??null}canDrag(){const n=this.spec,i=this.monitor;return typeof n.canDrag=="boolean"?n.canDrag:typeof n.canDrag=="function"?n.canDrag(i):!0}isDragging(n,i){const o=this.spec,c=this.monitor,{isDragging:d}=o;return d?d(c):i===n.getSourceId()}endDrag(){const n=this.spec,i=this.monitor,o=this.connector,{end:c}=n;c&&c(i.getItem(),i),o.reconnect()}constructor(n,i,o){this.spec=n,this.monitor=i,this.connector=o}}function $C(r,n,i){const o=b.useMemo(()=>new GC(r,n,i),[n,i]);return b.useEffect(()=>{o.spec=r},[r]),o}function XC(r){return b.useMemo(()=>{const n=r.type;return Ae(n!=null,"spec.type must be defined"),n},[r])}function VC(r,n,i){const o=Vr(),c=$C(r,n,i),d=XC(r);Wn(function(){if(d!=null){const[m,g]=LC(d,c,o);return n.receiveHandlerId(m),i.receiveHandlerId(m),g}},[o,n,i,c,d])}function YC(r,n){const i=Yy(r);Ae(!i.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const o=PC(),c=qC(i.options,i.previewOptions);return VC(i,o,c),[Vy(i.collect,o,c),AC(c),RC(c)]}function FC(r){return b.useMemo(()=>r.hooks.dropTarget(),[r])}function QC(r){const n=Vr(),i=b.useMemo(()=>new HC(n.getBackend()),[n]);return Wn(()=>(i.dropTargetOptions=r||null,i.reconnect(),()=>i.disconnectDropTarget()),[r]),i}function WC(){const r=Vr();return b.useMemo(()=>new kC(r),[r])}function JC(r){const{accept:n}=r;return b.useMemo(()=>(Ae(r.accept!=null,"accept must be defined"),Array.isArray(n)?n:[n]),[n])}class ZC{canDrop(){const n=this.spec,i=this.monitor;return n.canDrop?n.canDrop(i.getItem(),i):!0}hover(){const n=this.spec,i=this.monitor;n.hover&&n.hover(i.getItem(),i)}drop(){const n=this.spec,i=this.monitor;if(n.drop)return n.drop(i.getItem(),i)}constructor(n,i){this.spec=n,this.monitor=i}}function KC(r,n){const i=b.useMemo(()=>new ZC(r,n),[n]);return b.useEffect(()=>{i.spec=r},[r]),i}function e3(r,n,i){const o=Vr(),c=KC(r,n),d=JC(r);Wn(function(){const[m,g]=MC(d,c,o);return n.receiveHandlerId(m),i.receiveHandlerId(m),g},[o,n,c,i,d.map(h=>h.toString()).join("|")])}function t3(r,n){const i=Yy(r),o=WC(),c=QC(i.options);return e3(i,o,c),[Vy(i.collect,o,c),FC(c)]}function Qy(r){let n=null;return()=>(n==null&&(n=r()),n)}function a3(r,n){return r.filter(i=>i!==n)}function n3(r,n){const i=new Set,o=d=>i.add(d);r.forEach(o),n.forEach(o);const c=[];return i.forEach(d=>c.push(d)),c}class r3{enter(n){const i=this.entered.length,o=c=>this.isNodeInDocument(c)&&(!c.contains||c.contains(n));return this.entered=n3(this.entered.filter(o),[n]),i===0&&this.entered.length>0}leave(n){const i=this.entered.length;return this.entered=a3(this.entered.filter(this.isNodeInDocument),n),i>0&&this.entered.length===0}reset(){this.entered=[]}constructor(n){this.entered=[],this.isNodeInDocument=n}}class s3{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(n=>{Object.defineProperty(this.item,n,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${n}" until the drop event.`),null}})})}loadDataTransfer(n){if(n){const i={};Object.keys(this.config.exposeProperties).forEach(o=>{const c=this.config.exposeProperties[o];c!=null&&(i[o]={value:c(n,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,i)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(n,i){return i===n.getSourceId()}endDrag(){}constructor(n){this.config=n,this.item={},this.initializeExposedProperties()}}const Wy="__NATIVE_FILE__",Jy="__NATIVE_URL__",Zy="__NATIVE_TEXT__",Ky="__NATIVE_HTML__",wv=Object.freeze(Object.defineProperty({__proto__:null,FILE:Wy,HTML:Ky,TEXT:Zy,URL:Jy},Symbol.toStringTag,{value:"Module"}));function Bd(r,n,i){const o=n.reduce((c,d)=>c||r.getData(d),"");return o??i}const rf={[Wy]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[Ky]:{exposeProperties:{html:(r,n)=>Bd(r,n,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[Jy]:{exposeProperties:{urls:(r,n)=>Bd(r,n,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[Zy]:{exposeProperties:{text:(r,n)=>Bd(r,n,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};function i3(r,n){const i=rf[r];if(!i)throw new Error(`native type ${r} has no configuration`);const o=new s3(i);return o.loadDataTransfer(n),o}function Hd(r){if(!r)return null;const n=Array.prototype.slice.call(r.types||[]);return Object.keys(rf).filter(i=>{const o=rf[i];return o!=null&&o.matchesTypes?o.matchesTypes.some(c=>n.indexOf(c)>-1):!1})[0]||null}const l3=Qy(()=>/firefox/i.test(navigator.userAgent)),ex=Qy(()=>!!window.safari);class jv{interpolate(n){const{xs:i,ys:o,c1s:c,c2s:d,c3s:h}=this;let m=i.length-1;if(n===i[m])return o[m];let g=0,p=h.length-1,v;for(;g<=p;){v=Math.floor(.5*(g+p));const A=i[v];if(A<n)g=v+1;else if(A>n)p=v-1;else return o[v]}m=Math.max(0,p);const x=n-i[m],w=x*x;return o[m]+c[m]*x+d[m]*w+h[m]*x*w}constructor(n,i){const{length:o}=n,c=[];for(let A=0;A<o;A++)c.push(A);c.sort((A,_)=>n[A]<n[_]?-1:1);const d=[],h=[];let m,g;for(let A=0;A<o-1;A++)m=n[A+1]-n[A],g=i[A+1]-i[A],d.push(m),h.push(g/m);const p=[h[0]];for(let A=0;A<d.length-1;A++){const _=h[A],T=h[A+1];if(_*T<=0)p.push(0);else{m=d[A];const S=d[A+1],C=m+S;p.push(3*C/((C+S)/_+(C+m)/T))}}p.push(h[h.length-1]);const v=[],x=[];let w;for(let A=0;A<p.length-1;A++){w=h[A];const _=p[A],T=1/d[A],S=_+p[A+1]-w-w;v.push((w-_-S)*T),x.push(S*T*T)}this.xs=n,this.ys=i,this.c1s=p,this.c2s=v,this.c3s=x}}const o3=1;function tx(r){const n=r.nodeType===o3?r:r.parentElement;if(!n)return null;const{top:i,left:o}=n.getBoundingClientRect();return{x:o,y:i}}function Ol(r){return{x:r.clientX,y:r.clientY}}function c3(r){var n;return r.nodeName==="IMG"&&(l3()||!(!((n=document.documentElement)===null||n===void 0)&&n.contains(r)))}function u3(r,n,i,o){let c=r?n.width:i,d=r?n.height:o;return ex()&&r&&(d/=window.devicePixelRatio,c/=window.devicePixelRatio),{dragPreviewWidth:c,dragPreviewHeight:d}}function d3(r,n,i,o,c){const d=c3(n),m=tx(d?r:n),g={x:i.x-m.x,y:i.y-m.y},{offsetWidth:p,offsetHeight:v}=r,{anchorX:x,anchorY:w}=o,{dragPreviewWidth:A,dragPreviewHeight:_}=u3(d,n,p,v),T=()=>{let L=new jv([0,.5,1],[g.y,g.y/v*_,g.y+_-v]).interpolate(w);return ex()&&d&&(L+=(window.devicePixelRatio-1)*_),L},S=()=>new jv([0,.5,1],[g.x,g.x/p*A,g.x+A-p]).interpolate(x),{offsetX:C,offsetY:E}=c,O=C===0||C,M=E===0||E;return{x:O?C:S(),y:M?E:T()}}class f3{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var n;return!((n=this.globalContext)===null||n===void 0)&&n.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var n;return((n=this.optionsArgs)===null||n===void 0?void 0:n.rootElement)||this.window}constructor(n,i){this.ownerDocument=null,this.globalContext=n,this.optionsArgs=i}}function h3(r,n,i){return n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Nv(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{},o=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),o.forEach(function(c){h3(r,c,i[c])})}return r}class m3{profile(){var n,i;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((n=this.dragStartSourceIds)===null||n===void 0?void 0:n.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((i=this.dragOverTargetIds)===null||i===void 0?void 0:i.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const n=this.rootElement;if(n!==void 0){if(n.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");n.__isReactDndBackendSetUp=!0,this.addEventListeners(n)}}teardown(){const n=this.rootElement;if(n!==void 0&&(n.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var i;(i=this.window)===null||i===void 0||i.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(n,i,o){return this.sourcePreviewNodeOptions.set(n,o),this.sourcePreviewNodes.set(n,i),()=>{this.sourcePreviewNodes.delete(n),this.sourcePreviewNodeOptions.delete(n)}}connectDragSource(n,i,o){this.sourceNodes.set(n,i),this.sourceNodeOptions.set(n,o);const c=h=>this.handleDragStart(h,n),d=h=>this.handleSelectStart(h);return i.setAttribute("draggable","true"),i.addEventListener("dragstart",c),i.addEventListener("selectstart",d),()=>{this.sourceNodes.delete(n),this.sourceNodeOptions.delete(n),i.removeEventListener("dragstart",c),i.removeEventListener("selectstart",d),i.setAttribute("draggable","false")}}connectDropTarget(n,i){const o=h=>this.handleDragEnter(h,n),c=h=>this.handleDragOver(h,n),d=h=>this.handleDrop(h,n);return i.addEventListener("dragenter",o),i.addEventListener("dragover",c),i.addEventListener("drop",d),()=>{i.removeEventListener("dragenter",o),i.removeEventListener("dragover",c),i.removeEventListener("drop",d)}}addEventListeners(n){n.addEventListener&&(n.addEventListener("dragstart",this.handleTopDragStart),n.addEventListener("dragstart",this.handleTopDragStartCapture,!0),n.addEventListener("dragend",this.handleTopDragEndCapture,!0),n.addEventListener("dragenter",this.handleTopDragEnter),n.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.addEventListener("dragover",this.handleTopDragOver),n.addEventListener("dragover",this.handleTopDragOverCapture,!0),n.addEventListener("drop",this.handleTopDrop),n.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(n){n.removeEventListener&&(n.removeEventListener("dragstart",this.handleTopDragStart),n.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),n.removeEventListener("dragend",this.handleTopDragEndCapture,!0),n.removeEventListener("dragenter",this.handleTopDragEnter),n.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.removeEventListener("dragover",this.handleTopDragOver),n.removeEventListener("dragover",this.handleTopDragOverCapture,!0),n.removeEventListener("drop",this.handleTopDrop),n.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const n=this.monitor.getSourceId(),i=this.sourceNodeOptions.get(n);return Nv({dropEffect:this.altKeyPressed?"copy":"move"},i||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const n=this.monitor.getSourceId(),i=this.sourcePreviewNodeOptions.get(n);return Nv({anchorX:.5,anchorY:.5,captureDraggingState:!1},i||{})}isDraggingNativeItem(){const n=this.monitor.getItemType();return Object.keys(wv).some(i=>wv[i]===n)}beginDragNativeItem(n,i){this.clearCurrentDragSourceNode(),this.currentNativeSource=i3(n,i),this.currentNativeHandle=this.registry.addSource(n,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(n){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=n;const i=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var o;return(o=this.rootElement)===null||o===void 0?void 0:o.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},i)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var n;(n=this.window)===null||n===void 0||n.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(n,i){n.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(i))}handleDragEnter(n,i){this.dragEnterTargetIds.unshift(i)}handleDragOver(n,i){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(i)}handleDrop(n,i){this.dropTargetIds.unshift(i)}constructor(n,i,o){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=c=>{const d=this.sourceNodes.get(c);return d&&tx(d)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=c=>!!(c&&this.document&&this.document.body&&this.document.body.contains(c)),this.endDragIfSourceWasRemovedFromDOM=()=>{const c=this.currentDragSourceNode;c==null||this.isNodeInDocument(c)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=c=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(c||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=c=>{if(c.defaultPrevented)return;const{dragStartSourceIds:d}=this;this.dragStartSourceIds=null;const h=Ol(c);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(d||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:h});const{dataTransfer:m}=c,g=Hd(m);if(this.monitor.isDragging()){if(m&&typeof m.setDragImage=="function"){const v=this.monitor.getSourceId(),x=this.sourceNodes.get(v),w=this.sourcePreviewNodes.get(v)||x;if(w){const{anchorX:A,anchorY:_,offsetX:T,offsetY:S}=this.getCurrentSourcePreviewNodeOptions(),O=d3(x,w,h,{anchorX:A,anchorY:_},{offsetX:T,offsetY:S});m.setDragImage(w,O.x,O.y)}}try{m==null||m.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(c.target);const{captureDraggingState:p}=this.getCurrentSourcePreviewNodeOptions();p?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(g)this.beginDragNativeItem(g);else{if(m&&!m.types&&(c.target&&!c.target.hasAttribute||!c.target.hasAttribute("draggable")))return;c.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=c=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var d;(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(c.dataTransfer)}if(!this.enterLeaveCounter.enter(c.target)||this.monitor.isDragging())return;const{dataTransfer:m}=c,g=Hd(m);g&&this.beginDragNativeItem(g,m)},this.handleTopDragEnter=c=>{const{dragEnterTargetIds:d}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=c.altKey,d.length>0&&this.actions.hover(d,{clientOffset:Ol(c)}),d.some(m=>this.monitor.canDropOnTarget(m))&&(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=c=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var d;(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(c.dataTransfer)}},this.handleTopDragOver=c=>{const{dragOverTargetIds:d}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect="none");return}this.altKeyPressed=c.altKey,this.lastClientOffset=Ol(c),this.scheduleHover(d),(d||[]).some(m=>this.monitor.canDropOnTarget(m))?(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?c.preventDefault():(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=c=>{this.isDraggingNativeItem()&&c.preventDefault(),this.enterLeaveCounter.leave(c.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=c=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var d;c.preventDefault(),(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(c.dataTransfer)}else Hd(c.dataTransfer)&&c.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=c=>{const{dropTargetIds:d}=this;this.dropTargetIds=[],this.actions.hover(d,{clientOffset:Ol(c)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=c=>{const d=c.target;typeof d.dragDrop=="function"&&(d.tagName==="INPUT"||d.tagName==="SELECT"||d.tagName==="TEXTAREA"||d.isContentEditable||(c.preventDefault(),d.dragDrop()))},this.options=new f3(i,o),this.actions=n.getActions(),this.monitor=n.getMonitor(),this.registry=n.getRegistry(),this.enterLeaveCounter=new r3(this.isNodeInDocument)}}const p3=function(n,i,o){return new m3(n,i,o)},g3=({id:r,text:n,index:i,moveItem:o,imageUrl:c})=>{const[,d]=YC({type:"SORT_ITEM",item:{id:r,index:i}}),[,h]=t3({accept:"SORT_ITEM",hover:m=>{m.index!==i&&(o(m.index,i),m.index=i)}});return s.jsxs("div",{ref:m=>d(h(m)),className:"sort-item",children:[n,c&&s.jsx("img",{src:c,alt:n})]})},v3=({activity:r,submitting:n,submitAnswer:i})=>{const o=r.content||{},[c,d]=b.useState(o.items||[]),h=(g,p)=>{const v=[...c],[x]=v.splice(g,1);v.splice(p,0,x),d(v)},m=()=>{const g=c.map(p=>p.id||p.text);i(g)};return s.jsxs("div",{className:"sorting-activity",children:[s.jsx("h3",{children:r.title}),s.jsx("p",{children:r.instructions||o.instructions}),s.jsx(jC,{backend:p3,children:s.jsx("div",{className:"sorting-items",children:c.map((g,p)=>s.jsx(g3,{id:g.id||p,text:g.text,index:p,moveItem:h,imageUrl:g.imageUrl},g.id||p))})}),s.jsx("button",{onClick:m,disabled:n,className:"submit-btn",children:"Submit Order"})]})},y3=({activity:r,submitting:n,submitAnswer:i,contentItem:o})=>{const c=b.useMemo(()=>o!=null&&o.data?[{item1:o.data.item1,item2:o.data.item2,item1ImageUrl:o.data.item1ImageUrl,item2ImageUrl:o.data.item2ImageUrl}]:[],[o]),[d,h]=b.useMemo(()=>{const L=c.flatMap((D,z)=>[{id:`left-${z}-1`,imageUrl:D.item1ImageUrl,pairId:z},{id:`left-${z}-2`,imageUrl:D.item1ImageUrl,pairId:z},{id:`left-${z}-3`,imageUrl:D.item1ImageUrl,pairId:z},{id:`left-${z}-4`,imageUrl:D.item1ImageUrl,pairId:z}]),B=c.flatMap((D,z)=>[{id:`right-${z}-1`,imageUrl:D.item2ImageUrl,pairId:z},{id:`right-${z}-2`,imageUrl:D.item2ImageUrl,pairId:z},{id:`right-${z}-3`,imageUrl:D.item2ImageUrl,pairId:z},{id:`right-${z}-4`,imageUrl:D.item2ImageUrl,pairId:z}]);return[L,x3([...B])]},[o]),[m,g]=b.useState(null),[p,v]=b.useState(null),[x,w]=b.useState([]),[A,_]=b.useState({}),[T,S]=b.useState([]),C=b.useRef([]),E=b.useRef([]),O=(L,B)=>{const D=L==="left"?d[B].id:h[B].id;L==="left"?g(m===B?null:B):v(p===B?null:B),x.some(z=>z.leftId===D||z.rightId===D)&&w(z=>z.filter(te=>te.leftId!==D&&te.rightId!==D))};b.useEffect(()=>{if(m!==null&&p!==null){const L=d[m],B=h[p],D={leftId:L.id,rightId:B.id,isValid:L.pairId===B.pairId};w([...x.filter(te=>te.leftId!==L.id&&te.rightId!==B.id),D]);const z=D.isValid?"#4CAF50":"#FF5252";_(te=>({...te,[L.id]:z,[B.id]:z})),g(null),v(null)}},[m,p]);const M=()=>x.length===4,R=()=>{const L={connections:x.map(B=>({leftId:B.leftId,rightId:B.rightId,isValid:B.isValid}))};i(L)};return s.jsxs("div",{className:"matching-activity",children:[s.jsx("h3",{children:r.title}),r.instructions&&s.jsx("p",{className:"instructions",children:r.instructions}),s.jsxs("div",{className:"multi-pair-container",children:[s.jsx("div",{className:"column left-column",children:d.map((L,B)=>s.jsx("div",{className:`card ${m===B?"selected":""}`,onClick:()=>O("left",B),style:{borderColor:A[L.id]||"",backgroundColor:A[L.id]?`${A[L.id]}20`:""},ref:D=>C.current[B]=D,children:L.imageUrl&&s.jsx("img",{src:L.imageUrl,alt:"Left item",className:"matching-image"})},L.id))}),s.jsx("div",{className:"column right-column",children:h.map((L,B)=>s.jsx("div",{className:`card ${p===B?"selected":""}`,onClick:()=>O("right",B),style:{borderColor:A[L.id]||"",backgroundColor:A[L.id]?`${A[L.id]}20`:""},ref:D=>E.current[B]=D,children:L.imageUrl&&s.jsx("img",{src:L.imageUrl,alt:"Right item",className:"matching-image"})},L.id))}),x.map((L,B)=>{var F,N,k;const D=d.findIndex(H=>H.id===L.leftId),z=h.findIndex(H=>H.id===L.rightId),te=(F=C.current[D])==null?void 0:F.getBoundingClientRect(),ie=(N=E.current[z])==null?void 0:N.getBoundingClientRect(),J=(k=document.querySelector(".multi-pair-container"))==null?void 0:k.getBoundingClientRect();if(!te||!ie||!J)return null;const Y=te.right-J.left,pe=te.top+te.height/2-J.top,he=ie.left-J.left,q=ie.top+ie.height/2-J.top,de=Math.sqrt(Math.pow(he-Y,2)+Math.pow(q-pe,2)),G=Math.atan2(q-pe,he-Y)*180/Math.PI;return s.jsx("div",{className:"connection-line",style:{left:`${Y}px`,top:`${pe}px`,width:`${de}px`,transform:`rotate(${G}deg)`,backgroundColor:A[L.leftId]||"#4a90e2"}},`line-${B}`)})]}),M()&&s.jsx("button",{onClick:R,disabled:n,className:"submit-btn",children:n?"Submitting...":"Submit Answers"})]})},x3=r=>{const n=[...r];for(let i=n.length-1;i>0;i--){const o=Math.floor(Math.random()*(i+1));[n[i],n[o]]=[n[o],n[i]]}return n},b3=({activity:r,submitting:n,submitAnswer:i,textAnswer:o,setTextAnswer:c})=>{const d=r.content||{};return s.jsxs("div",{className:"math-problem-activity",children:[s.jsx("h3",{children:r.title}),s.jsx("p",{children:r.instructions}),s.jsx("div",{className:"math-problem",children:s.jsx("p",{children:d.problem})}),s.jsxs("form",{onSubmit:h=>{h.preventDefault(),i(o)},children:[s.jsx("input",{type:"text",value:o,onChange:h=>c(h.target.value),placeholder:"Enter your answer",disabled:n}),s.jsx("button",{type:"submit",disabled:n,children:"Submit Answer"})]})]})};function Sv(r,n,i,o,c,d,h){try{var m=r[d](h),g=m.value}catch(p){i(p);return}m.done?n(g):Promise.resolve(g).then(o,c)}function w3(r){return function(){var n=this,i=arguments;return new Promise(function(o,c){var d=r.apply(n,i);function h(g){Sv(d,o,c,h,m,"next",g)}function m(g){Sv(d,o,c,h,m,"throw",g)}h(void 0)})}}function Yn(){return Yn=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},Yn.apply(this,arguments)}var ax={exports:{}};(function(r){var n=function(i){var o=Object.prototype,c=o.hasOwnProperty,d,h=typeof Symbol=="function"?Symbol:{},m=h.iterator||"@@iterator",g=h.asyncIterator||"@@asyncIterator",p=h.toStringTag||"@@toStringTag";function v(G,F,N){return Object.defineProperty(G,F,{value:N,enumerable:!0,configurable:!0,writable:!0}),G[F]}try{v({},"")}catch{v=function(F,N,k){return F[N]=k}}function x(G,F,N,k){var H=F&&F.prototype instanceof E?F:E,le=Object.create(H.prototype),P=new he(k||[]);return le._invoke=ie(G,N,P),le}i.wrap=x;function w(G,F,N){try{return{type:"normal",arg:G.call(F,N)}}catch(k){return{type:"throw",arg:k}}}var A="suspendedStart",_="suspendedYield",T="executing",S="completed",C={};function E(){}function O(){}function M(){}var R={};v(R,m,function(){return this});var L=Object.getPrototypeOf,B=L&&L(L(q([])));B&&B!==o&&c.call(B,m)&&(R=B);var D=M.prototype=E.prototype=Object.create(R);O.prototype=M,v(D,"constructor",M),v(M,"constructor",O),O.displayName=v(M,p,"GeneratorFunction");function z(G){["next","throw","return"].forEach(function(F){v(G,F,function(N){return this._invoke(F,N)})})}i.isGeneratorFunction=function(G){var F=typeof G=="function"&&G.constructor;return F?F===O||(F.displayName||F.name)==="GeneratorFunction":!1},i.mark=function(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,M):(G.__proto__=M,v(G,p,"GeneratorFunction")),G.prototype=Object.create(D),G},i.awrap=function(G){return{__await:G}};function te(G,F){function N(le,P,Z,re){var ve=w(G[le],G,P);if(ve.type==="throw")re(ve.arg);else{var we=ve.arg,Ne=we.value;return Ne&&typeof Ne=="object"&&c.call(Ne,"__await")?F.resolve(Ne.__await).then(function(ze){N("next",ze,Z,re)},function(ze){N("throw",ze,Z,re)}):F.resolve(Ne).then(function(ze){we.value=ze,Z(we)},function(ze){return N("throw",ze,Z,re)})}}var k;function H(le,P){function Z(){return new F(function(re,ve){N(le,P,re,ve)})}return k=k?k.then(Z,Z):Z()}this._invoke=H}z(te.prototype),v(te.prototype,g,function(){return this}),i.AsyncIterator=te,i.async=function(G,F,N,k,H){H===void 0&&(H=Promise);var le=new te(x(G,F,N,k),H);return i.isGeneratorFunction(F)?le:le.next().then(function(P){return P.done?P.value:le.next()})};function ie(G,F,N){var k=A;return function(le,P){if(k===T)throw new Error("Generator is already running");if(k===S){if(le==="throw")throw P;return de()}for(N.method=le,N.arg=P;;){var Z=N.delegate;if(Z){var re=J(Z,N);if(re){if(re===C)continue;return re}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(k===A)throw k=S,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);k=T;var ve=w(G,F,N);if(ve.type==="normal"){if(k=N.done?S:_,ve.arg===C)continue;return{value:ve.arg,done:N.done}}else ve.type==="throw"&&(k=S,N.method="throw",N.arg=ve.arg)}}}function J(G,F){var N=G.iterator[F.method];if(N===d){if(F.delegate=null,F.method==="throw"){if(G.iterator.return&&(F.method="return",F.arg=d,J(G,F),F.method==="throw"))return C;F.method="throw",F.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var k=w(N,G.iterator,F.arg);if(k.type==="throw")return F.method="throw",F.arg=k.arg,F.delegate=null,C;var H=k.arg;if(!H)return F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,C;if(H.done)F[G.resultName]=H.value,F.next=G.nextLoc,F.method!=="return"&&(F.method="next",F.arg=d);else return H;return F.delegate=null,C}z(D),v(D,p,"Generator"),v(D,m,function(){return this}),v(D,"toString",function(){return"[object Generator]"});function Y(G){var F={tryLoc:G[0]};1 in G&&(F.catchLoc=G[1]),2 in G&&(F.finallyLoc=G[2],F.afterLoc=G[3]),this.tryEntries.push(F)}function pe(G){var F=G.completion||{};F.type="normal",delete F.arg,G.completion=F}function he(G){this.tryEntries=[{tryLoc:"root"}],G.forEach(Y,this),this.reset(!0)}i.keys=function(G){var F=[];for(var N in G)F.push(N);return F.reverse(),function k(){for(;F.length;){var H=F.pop();if(H in G)return k.value=H,k.done=!1,k}return k.done=!0,k}};function q(G){if(G){var F=G[m];if(F)return F.call(G);if(typeof G.next=="function")return G;if(!isNaN(G.length)){var N=-1,k=function H(){for(;++N<G.length;)if(c.call(G,N))return H.value=G[N],H.done=!1,H;return H.value=d,H.done=!0,H};return k.next=k}}return{next:de}}i.values=q;function de(){return{value:d,done:!0}}return he.prototype={constructor:he,reset:function(G){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(pe),!G)for(var F in this)F.charAt(0)==="t"&&c.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=d)},stop:function(){this.done=!0;var G=this.tryEntries[0],F=G.completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(G){if(this.done)throw G;var F=this;function N(re,ve){return le.type="throw",le.arg=G,F.next=re,ve&&(F.method="next",F.arg=d),!!ve}for(var k=this.tryEntries.length-1;k>=0;--k){var H=this.tryEntries[k],le=H.completion;if(H.tryLoc==="root")return N("end");if(H.tryLoc<=this.prev){var P=c.call(H,"catchLoc"),Z=c.call(H,"finallyLoc");if(P&&Z){if(this.prev<H.catchLoc)return N(H.catchLoc,!0);if(this.prev<H.finallyLoc)return N(H.finallyLoc)}else if(P){if(this.prev<H.catchLoc)return N(H.catchLoc,!0)}else if(Z){if(this.prev<H.finallyLoc)return N(H.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(G,F){for(var N=this.tryEntries.length-1;N>=0;--N){var k=this.tryEntries[N];if(k.tryLoc<=this.prev&&c.call(k,"finallyLoc")&&this.prev<k.finallyLoc){var H=k;break}}H&&(G==="break"||G==="continue")&&H.tryLoc<=F&&F<=H.finallyLoc&&(H=null);var le=H?H.completion:{};return le.type=G,le.arg=F,H?(this.method="next",this.next=H.finallyLoc,C):this.complete(le)},complete:function(G,F){if(G.type==="throw")throw G.arg;return G.type==="break"||G.type==="continue"?this.next=G.arg:G.type==="return"?(this.rval=this.arg=G.arg,this.method="return",this.next="end"):G.type==="normal"&&F&&(this.next=F),C},finish:function(G){for(var F=this.tryEntries.length-1;F>=0;--F){var N=this.tryEntries[F];if(N.finallyLoc===G)return this.complete(N.completion,N.afterLoc),pe(N),C}},catch:function(G){for(var F=this.tryEntries.length-1;F>=0;--F){var N=this.tryEntries[F];if(N.tryLoc===G){var k=N.completion;if(k.type==="throw"){var H=k.arg;pe(N)}return H}}throw new Error("illegal catch attempt")},delegateYield:function(G,F,N){return this.delegate={iterator:q(G),resultName:F,nextLoc:N},this.method==="next"&&(this.arg=d),C}},i}(r.exports);try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}})(ax);var Tv=ax.exports,nx=function(n){var i=n.paths,o=n.id,c=n.strokeWidth,d=n.strokeColor,h=n.command,m=h===void 0?rx:h;if(i.length===1){var g=i[0],p=g.x,v=g.y,x=c/2;return b.createElement("circle",{key:o,id:o,cx:p,cy:v,r:x,stroke:d,fill:d})}var w=i.reduce(function(A,_,T,S){return T===0?"M "+_.x+","+_.y:A+" "+m(_,T,S)},"");return b.createElement("path",{key:o,id:o,d:w,fill:"none",strokeLinecap:"round",stroke:d,strokeWidth:c})},j3=function(n,i){var o=i.x-n.x,c=i.y-n.y;return{length:Math.sqrt(Math.pow(o,2)+Math.pow(c,2)),angle:Math.atan2(c,o)}},Al=function(n){var i=n.current,o=n.next,c=n.previous,d=n.reverse,h=c||i,m=o||i,g=.2,p=j3(h,m),v=p.angle+(d?Math.PI:0),x=p.length*g,w=i.x+Math.cos(v)*x,A=i.y+Math.sin(v)*x;return[w,A]},rx=function(n,i,o){var c=null,d=null;switch(i){case 0:var h=Al({current:n});c=h[0],d=h[1];break;case 1:var m=Al({current:o[i-1],next:n});c=m[0],d=m[1];break;default:var g=Al({current:o[i-1],previous:o[i-2],next:n});c=g[0],d=g[1];break}var p=Al({current:n,previous:o[i-1],next:o[i+1],reverse:!0}),v=p[0],x=p[1];return"C "+c+","+d+" "+v+","+x+" "+n.x+", "+n.y},N3=function(n){var i=n.id,o=n.paths;return b.createElement(b.Fragment,null,o.map(function(c,d){return b.createElement(nx,{key:i+"__"+d,paths:c.paths,id:i+"__"+d,strokeWidth:c.strokeWidth,strokeColor:c.strokeColor,command:rx})}))},Ev=function(n){return new Promise(function(i,o){var c=new Image;c.addEventListener("load",function(){c.width>0&&i(c),o("Image not found")}),c.addEventListener("error",function(d){return o(d)}),c.src=n,c.setAttribute("crossorigin","anonymous")})};function Cv(r){var n,i=(n=r.firstChild)==null?void 0:n.cloneNode(!0),o=r.offsetWidth,c=r.offsetHeight;return i.setAttribute("viewBox","0 0 "+o+" "+c),i.setAttribute("width",o.toString()),i.setAttribute("height",c.toString()),{svgCanvas:i,width:o,height:c}}var S3=b.forwardRef(function(r,n){var i=r.paths,o=r.isDrawing,c=r.onPointerDown,d=r.onPointerMove,h=r.onPointerUp,m=r.id,g=m===void 0?"react-sketch-canvas":m,p=r.width,v=p===void 0?"100%":p,x=r.height,w=x===void 0?"100%":x,A=r.className,_=A===void 0?"react-sketch-canvas":A,T=r.canvasColor,S=T===void 0?"red":T,C=r.backgroundImage,E=C===void 0?"":C,O=r.exportWithBackgroundImage,M=O===void 0?!1:O,R=r.preserveBackgroundImageAspectRatio,L=R===void 0?"none":R,B=r.allowOnlyPointerType,D=B===void 0?"all":B,z=r.style,te=z===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:z,ie=r.svgStyle,J=ie===void 0?{}:ie,Y=b.useRef(null),pe=function(H){var le,P,Z,re=(le=Y.current)==null?void 0:le.getBoundingClientRect(),ve=(P=window.scrollX)!=null?P:0,we=(Z=window.scrollY)!=null?Z:0;if(!re)return{x:0,y:0};var Ne={x:H.pageX-re.left-ve,y:H.pageY-re.top-we};return Ne},he=function(H){if(!(D!=="all"&&H.pointerType!==D)&&!(H.pointerType==="mouse"&&H.button!==0)){var le=pe(H);c(le)}},q=function(H){if(o&&!(D!=="all"&&H.pointerType!==D)){var le=pe(H);d(le)}},de=function(H){H.pointerType==="mouse"&&H.button!==0||D!=="all"&&H.pointerType!==D||h()};b.useImperativeHandle(n,function(){return{exportImage:function(H){return new Promise(function(){var le=w3(Tv.mark(function P(Z,re){var ve,we,Ne,ze,vt,ut,jt,et;return Tv.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(Q.prev=0,ve=Y.current,ve){Q.next=4;break}throw Error("Canvas not rendered yet");case 4:return we=Cv(ve),Ne=we.svgCanvas,ze=we.width,vt=we.height,ut="data:image/svg+xml;base64,"+btoa(Ne.outerHTML),Q.next=8,Ev(ut);case 8:if(Q.t0=Q.sent,jt=[Q.t0],!M){Q.next=21;break}return Q.prev=11,Q.next=14,Ev(E);case 14:et=Q.sent,jt.push(et),Q.next=21;break;case 18:Q.prev=18,Q.t1=Q.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(jt).then(function(X){var se=document.createElement("canvas");se.setAttribute("width",ze.toString()),se.setAttribute("height",vt.toString());var fe=se.getContext("2d");if(!fe)throw Error("Canvas not rendered yet");X.reverse().forEach(function(ye){fe.drawImage(ye,0,0)}),Z(se.toDataURL("image/"+H))}).catch(function(X){throw X}),Q.next=27;break;case 24:Q.prev=24,Q.t2=Q.catch(0),re(Q.t2);case 27:case"end":return Q.stop()}},P,null,[[0,24],[11,18]])}));return function(P,Z){return le.apply(this,arguments)}}())},exportSvg:function(){return new Promise(function(H,le){try{var P,Z=(P=Y.current)!=null?P:null;if(Z!==null){var re,ve,we=Cv(Z),Ne=we.svgCanvas;if(M){H(Ne.outerHTML);return}(re=Ne.querySelector("#"+g+"__background"))==null||re.remove(),(ve=Ne.querySelector("#"+g+"__canvas-background"))==null||ve.setAttribute("fill",S),H(Ne.outerHTML)}le(new Error("Canvas not loaded"))}catch(ze){le(ze)}})}}}),b.useEffect(function(){return document.addEventListener("pointerup",de),function(){document.removeEventListener("pointerup",de)}},[de]);var G=i.filter(function(k){return!k.drawMode}),F=0,N=i.reduce(function(k,H){return H.drawMode?(k[F]===void 0&&(k[F]=[]),k[F].push(H),k):(F+=1,k)},[[]]);return b.createElement("div",{role:"presentation",ref:Y,className:_,style:Yn({touchAction:"none",width:v,height:w},te),"touch-action":"none",onPointerDown:he,onPointerMove:q,onPointerUp:de},b.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:Yn({width:"100%",height:"100%"},J),id:g},b.createElement("g",{id:g+"__eraser-stroke-group",display:"none"},b.createElement("rect",{id:g+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),G.map(function(k,H){return b.createElement(nx,{key:g+"__eraser-"+H,id:g+"__eraser-"+H,paths:k.paths,strokeColor:"#000000",strokeWidth:k.strokeWidth})})),b.createElement("defs",null,E&&b.createElement("pattern",{id:g+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},b.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:E,preserveAspectRatio:L})),G.map(function(k,H){return b.createElement("mask",{id:g+"__eraser-mask-"+H,key:g+"__eraser-mask-"+H,maskUnits:"userSpaceOnUse"},b.createElement("use",{href:"#"+g+"__mask-background"}),Array.from({length:G.length-H},function(le,P){return P+H}).map(function(le){return b.createElement("use",{key:le.toString(),href:"#"+g+"__eraser-"+le.toString()})}))})),b.createElement("g",{id:g+"__canvas-background-group"},b.createElement("rect",{id:g+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:E?"url(#"+g+"__background)":S})),N.map(function(k,H){return b.createElement("g",{id:g+"__stroke-group-"+H,key:g+"__stroke-group-"+H,mask:"url(#"+g+"__eraser-mask-"+H+")"},b.createElement(N3,{id:g,paths:k}))})))}),_v=b.forwardRef(function(r,n){var i=r.id,o=i===void 0?"react-sketch-canvas":i,c=r.width,d=c===void 0?"100%":c,h=r.height,m=h===void 0?"100%":h,g=r.className,p=g===void 0?"":g,v=r.canvasColor,x=v===void 0?"white":v,w=r.strokeColor,A=w===void 0?"red":w,_=r.backgroundImage,T=_===void 0?"":_,S=r.exportWithBackgroundImage,C=S===void 0?!1:S,E=r.preserveBackgroundImageAspectRatio,O=E===void 0?"none":E,M=r.strokeWidth,R=M===void 0?4:M,L=r.eraserWidth,B=L===void 0?8:L,D=r.allowOnlyPointerType,z=D===void 0?"all":D,te=r.style,ie=te===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:te,J=r.svgStyle,Y=J===void 0?{}:J,pe=r.onChange,he=pe===void 0?function(ye){}:pe,q=r.onStroke,de=q===void 0?function(ye,je){}:q,G=r.withTimestamp,F=G===void 0?!1:G,N=b.createRef(),k=b.useState(!0),H=k[0],le=k[1],P=b.useState(!1),Z=P[0],re=P[1],ve=b.useState([]),we=ve[0],Ne=ve[1],ze=b.useState([]),vt=ze[0],ut=ze[1],jt=b.useState([]),et=jt[0],mt=jt[1],Q=b.useCallback(function(){var ye,je,_e=(ye=(je=et.slice(-1))==null?void 0:je[0])!=null?ye:null;if(_e===null){console.warn("No stroke found!");return}de(_e,!_e.drawMode)},[Z]);b.useEffect(function(){Q()},[Z]),b.useEffect(function(){he(et)},[et]),b.useImperativeHandle(n,function(){return{eraseMode:function(je){le(!je)},clearCanvas:function(){Ne([].concat(et)),mt([])},undo:function(){if(we.length!==0){mt([].concat(we)),Ne([]);return}ut(function(je){return[].concat(je,et.slice(-1))}),mt(function(je){return je.slice(0,-1)})},redo:function(){vt.length!==0&&(mt(function(je){return[].concat(je,vt.slice(-1))}),ut(function(je){return je.slice(0,-1)}))},exportImage:function(je){var _e,Be=(_e=N.current)==null?void 0:_e.exportImage;if(Be)return Be(je);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise(function(je,_e){var Be,$e=(Be=N.current)==null?void 0:Be.exportSvg;$e?$e().then(function(it){je(it)}).catch(function(it){_e(it)}):_e(Error("Export function called before canvas loaded"))})},exportPaths:function(){return new Promise(function(je,_e){try{je(et)}catch(Be){_e(Be)}})},loadPaths:function(je){mt(function(_e){return[].concat(_e,je)})},getSketchingTime:function(){return new Promise(function(je,_e){F||_e(new Error("Set 'withTimestamp' prop to get sketching time"));try{var Be=et.reduce(function($e,it){var ba,yt,Jt=(ba=it.startTimestamp)!=null?ba:0,ae=(yt=it.endTimestamp)!=null?yt:0;return $e+(ae-Jt)},0);je(Be)}catch($e){_e($e)}})},resetCanvas:function(){Ne([]),ut([]),mt([])}}});var X=function(je){re(!0),ut([]);var _e={drawMode:H,strokeColor:H?A:"#000000",strokeWidth:H?R:B,paths:[je]};F&&(_e=Yn({},_e,{startTimestamp:Date.now(),endTimestamp:0})),mt(function(Be){return[].concat(Be,[_e])})},se=function(je){if(Z){var _e=et.slice(-1)[0],Be=Yn({},_e,{paths:[].concat(_e.paths,[je])});mt(function($e){return[].concat($e.slice(0,-1),[Be])})}},fe=function(){var je,_e;if(Z&&(re(!1),!!F)){var Be=(je=(_e=et.slice(-1))==null?void 0:_e[0])!=null?je:null;if(Be!==null){var $e=Yn({},Be,{endTimestamp:Date.now()});mt(function(it){return[].concat(it.slice(0,-1),[$e])})}}};return b.createElement(S3,{ref:N,id:o,width:d,height:m,className:p,canvasColor:x,backgroundImage:T,exportWithBackgroundImage:C,preserveBackgroundImageAspectRatio:O,allowOnlyPointerType:z,style:ie,svgStyle:Y,paths:et,isDrawing:Z,onPointerDown:X,onPointerMove:se,onPointerUp:fe})});const T3=({activity:r,content:n,accessCode:i,contentItem:o})=>{const[c,d]=b.useState([]),[h,m]=b.useState(null),[g,p]=b.useState(null),[v,x]=b.useState({}),[w,A]=b.useState(""),[_,T]=b.useState(!1),[S,C]=b.useState(""),[E,O]=b.useState(!0),[M,R]=b.useState(!1),L=b.useRef(null),B=b.useRef(null),D=b.useRef(null),{token:z}=Qt(),[te,ie]=b.useState(!1),J=b.useRef(null);b.useRef(null);const[Y,pe]=b.useState(!1),he=b.useMemo(()=>{try{return JSON.parse(atob(z.split(".")[1])).sub}catch(Q){return console.error("Failed to extract student ID from token:",Q),null}},[z]),q=(Q,X)=>JSON.stringify(Q)===JSON.stringify(X),de=b.useCallback(async()=>{try{const Q=await ge.get(`http://localhost:8080/api/sessions/${i}/teams`,{headers:{Authorization:`Bearer ${z}`}}),X=Q.data&&Q.data.teams?Q.data.teams:Array.isArray(Q.data)?Q.data:[];if(!q(X,D.current)){if(D.current=X,X.length>0){d(X);const se=X.find(fe=>fe.teamMembers&&fe.teamMembers.includes(he));if(se){m(se);const fe=se.currentDrawerId===he;p(fe?"drawer":"guesser")}}else if(v&&v.teams){const se=v.teams;d(se);const fe=se.find(ye=>ye.teamMembers&&ye.teamMembers.some(je=>je===he));if(fe){m(fe);const ye=fe.currentDrawerId===he;p(ye?"drawer":"guesser")}}}}catch(Q){console.error("Failed to fetch teams:",Q),C("Failed to load teams")}},[i,z,he,v]),G=b.useCallback(async()=>{try{const X=(await ge.get(`http://localhost:8080/api/sessions/${i}/teamchallenge/status`,{headers:{Authorization:`Bearer ${z}`}})).data;if(!q(X,B.current))if(B.current=X,x({...X,currentPromptIndex:(h==null?void 0:h.currentPromptIndex)||0}),h){if(h&&X.teamInfo){const se=X.teamInfo.find(fe=>fe.id===h.id||fe.id===h.teamId);if(se&&se.currentDrawerId!==h.currentDrawerId){const fe=String(h.currentDrawerId),ye=String(se.currentDrawerId);if(fe!==ye){const je=ye===String(he);p(je?"drawer":"guesser"),m(_e=>({..._e,currentDrawerId:se.currentDrawerId}))}}}}else{if(X.teams&&X.teams.length>0){const se=X.teams.find(fe=>fe.teamMembers&&fe.teamMembers.includes(he));if(se){m(se);const fe=se.currentDrawerId===he;p(fe?"drawer":"guesser")}}if(X.teamInfo&&X.teamInfo.length>0){const se=X.teamInfo.find(fe=>fe.members&&fe.members.some(ye=>ye.userId===he));if(se){m({id:se.id,teamId:se.id,teamName:se.name,teamScore:se.score,currentDrawerId:se.currentDrawerId,teamMembers:se.members.map(ye=>ye.userId),members:se.members});const fe=se.currentDrawerId===he;p(fe?"drawer":"guesser")}}}}catch(Q){console.error("Failed to fetch challenge status:",Q),Q.response&&Q.response.status!==404&&C("Failed to load challenge status")}},[i,z,he,h]),F=b.useRef(null);b.useEffect(()=>()=>{F.current&&clearTimeout(F.current)},[]),b.useCallback(Q=>{g==="drawer"&&(h!=null&&h.teamId)&&(F.current&&clearTimeout(F.current),F.current=setTimeout(()=>{ge.post(`http://localhost:8080/api/sessions/${i}/teamchallenge/save-drawing`,{teamId:h.teamId,paths:Q},{headers:{Authorization:`Bearer ${z}`}})},1e3))},[g,i,h==null?void 0:h.teamId,z]);const N=b.useCallback(()=>{h!=null&&h.teamId&&(console.log(`Requesting initial canvas data as ${g}`),ge.get(`http://localhost:8080/api/sessions/${i}/teamchallenge/drawing/${h.teamId}`,{headers:{Authorization:`Bearer ${z}`}}).then(Q=>{console.log("Received REST drawing data:",Q.data),L.current&&Q.data&&L.current.loadPaths(Q.data)}).catch(Q=>{var X;console.warn("Could not get drawing via REST, falling back to WebSocket:",Q),(X=J.current)!=null&&X.connected&&J.current.publish({destination:`/app/session/${i}/teamchallenge/request-drawing/${h.teamId}`,body:JSON.stringify(he)})}))},[g,i,h==null?void 0:h.teamId,he,z]);b.useEffect(()=>{if(M)return;(async()=>{O(!0),C("");try{let X=0,se=!1;for(;X<3&&!se;)try{await ge.post(`http://localhost:8080/api/sessions/${i}/teams?autoAssign=true`,{},{headers:{Authorization:`Bearer ${z}`}}),se=!0}catch(fe){X++,console.warn(`Attempt ${X} to create teams failed:`,fe.message),await new Promise(ye=>setTimeout(ye,1e3))}await G(),await de(),R(!0)}catch(X){console.error("Error initializing data:",X),C("Failed to load initial data. Please refresh the page and try again.")}finally{O(!1)}})()},[i,z,G,de,M]),b.useEffect(()=>{h!=null&&h.teamId&&g==="guesser"&&Y&&N()},[h==null?void 0:h.teamId,g,Y,N]);const k=()=>{var Q;g!=="drawer"||!L.current||(L.current&&typeof L.current.clearCanvas=="function"?Promise.resolve(L.current.clearCanvas()).then(()=>{var X;console.log("Canvas cleared, sending empty paths"),(X=J.current)!=null&&X.connected&&J.current.publish({destination:`/app/session/${i}/teamchallenge/drawing/${h.teamId}`,body:JSON.stringify({type:"clear",data:[]})}),ge.post(`http://localhost:8080/api/sessions/${i}/teamchallenge/save-drawing`,{teamId:h.teamId,paths:[]},{headers:{Authorization:`Bearer ${z}`}})}).catch(X=>{console.error("Error clearing canvas:",X)}):(console.warn("Canvas reference not ready, sending clear command directly"),(Q=J.current)!=null&&Q.connected&&(h!=null&&h.teamId)&&J.current.publish({destination:`/app/session/${i}/teamchallenge/drawing/${h.teamId}`,body:JSON.stringify({type:"clear",data:[]})}),ge.post(`http://localhost:8080/api/sessions/${i}/teamchallenge/save-drawing`,{teamId:h.teamId,paths:[]},{headers:{Authorization:`Bearer ${z}`}})))},H=async()=>{if(!(g!=="guesser"||!h||!w.trim())){T(!0);try{const X={teamId:h.id||h.teamId,guess:w.trim()};await ge.post(`http://localhost:8080/api/sessions/${i}/teamchallenge/guess`,X,{headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json","X-Student-Id":he}}),A(""),await G()}catch(Q){if(console.error("Failed to submit guess:",Q),Q.response){const X=Q.response.data.error||Q.message;C(`Failed to submit guess: ${X}`)}else C(`Failed to submit guess: ${Q.message}`)}finally{T(!1)}}},le=async Q=>{if(h)try{const X=h.id||h.teamId;await ge.post(`http://localhost:8080/api/sessions/${i}/teamchallenge/switch-drawer`,{teamId:X,newDrawerId:Q},{headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"}}),await de(),await G()}catch(X){console.error("Failed to switch drawer:",X),C("Failed to switch drawer")}},P=()=>{var fe,ye,je;const Q=v.currentPromptIndex??(h==null?void 0:h.currentContentIndex)??0,se=(((fe=o==null?void 0:o.data)==null?void 0:fe.prompts)||[])[Q];return se!=null&&se.timeLimit?se.timeLimit:((ye=o==null?void 0:o.data)==null?void 0:ye.duration)||((je=o==null?void 0:o.data)==null?void 0:je.roundTime)||60};b.useEffect(()=>{if(v.status==="ACTIVE"){const Q=P();re(Q)}},[v.currentPromptIndex,h==null?void 0:h.currentContentIndex]);const[Z,re]=b.useState(P());b.useEffect(()=>{if(v.status!=="ACTIVE"||!Z)return;const Q=setInterval(()=>{re(X=>X>0?X-1:0)},1e3);return()=>clearInterval(Q)},[v.status,Z]);const ve=b.useCallback(Q=>{var X;g==="drawer"&&(h!=null&&h.teamId)&&L.current&&((X=J.current)!=null&&X.connected&&J.current.publish({destination:`/app/session/${i}/teamchallenge/drawing/${h.teamId}`,body:JSON.stringify({type:"stroke",data:Q})}),F.current&&clearTimeout(F.current),F.current=setTimeout(()=>{L.current.exportPaths().then(se=>{var fe;ge.post(`http://localhost:8080/api/sessions/${i}/teamchallenge/save-drawing`,{teamId:h.teamId,paths:se},{headers:{Authorization:`Bearer ${z}`}}),(fe=J.current)!=null&&fe.connected&&J.current.publish({destination:`/app/session/${i}/teamchallenge/drawing/${h.teamId}`,body:JSON.stringify({type:"full",data:se})})}).catch(console.error)},1e3))},[g,i,h==null?void 0:h.teamId,z]);b.useEffect(()=>{if(!(h!=null&&h.teamId))return;const Q=new oi("http://localhost:8080/ws-sessions"),X=new ci({webSocketFactory:()=>Q,reconnectDelay:5e3,heartbeatIncoming:4e3,heartbeatOutgoing:4e3,onConnect:()=>{if(pe(!0),console.log("WebSocket connected"),X.subscribe("/user/queue/drawing-init",fe=>{try{console.log("Received initial drawing data");const ye=JSON.parse(fe.body);L.current&&ye&&ye.length>0?(console.log("Loading initial paths:",ye.length),L.current.loadPaths(ye)):console.log("No paths to load or invalid data")}catch(ye){console.error("Error processing initial drawing data:",ye)}}),h!=null&&h.teamId){const fe={current:[]},ye=`/topic/session/${i}/teamchallenge/drawing/${h.teamId}`;X.subscribe(ye,Be=>{try{const $e=JSON.parse(Be.body);if($e.type==="stroke"&&g==="guesser"){const it=$e.data;L.current&&it&&(fe.current.push(it),L.current.loadPaths(fe.current))}else if($e.type==="clear")L.current&&(console.log("Received clear command - clearing canvas"),L.current.clearCanvas(),fe.current=[]);else if($e.type==="full"){const it=$e.data;L.current&&it&&(it.length===0?L.current.clearCanvas():(fe.current=it,L.current.loadPaths(it)))}else Array.isArray($e)&&L.current&&($e.length===0?(L.current.clearCanvas(),fe.current=[]):(fe.current=$e,L.current.loadPaths($e)))}catch($e){console.error("Error processing drawing update:",$e)}});const je=`/topic/session/${i}/teamchallenge/prompts`;X.subscribe(je,Be=>{JSON.parse(Be.body).teamId===h.teamId&&(A(""),C(""),G())});const _e=`/topic/session/${i}/teamchallenge/guess/${h.teamId}`;X.subscribe(_e,Be=>{JSON.parse(Be.body),G(),de()})}},onDisconnect:()=>{pe(!1),console.log("WebSocket disconnected")}});return J.current=X,X.activate(),()=>{X.connected&&X.deactivate()}},[i,h==null?void 0:h.teamId,g,G]);const we=()=>{if(!h||g!=="drawer")return null;const Q=h.currentContentIndex||0,X=Ne(Q)||ze(Q);return s.jsxs("div",{className:"drawing-prompt",children:[s.jsx("h4",{children:"Draw this word:"}),s.jsx("p",{className:"prompt-word",children:X}),Q<v.totalPrompts-1&&s.jsxs("p",{className:"prompt-counter",children:["Word ",Q+1," of ",v.totalPrompts]})]})};b.useEffect(()=>{if(v.teams){const Q=v.teams.find(X=>X.teamId===(h==null?void 0:h.teamId));Q&&m(X=>({...X,currentContentIndex:Q.currentPromptIndex}))}},[v.teams,h==null?void 0:h.teamId]);const Ne=Q=>{var X;if((X=o==null?void 0:o.data)!=null&&X.prompts){const se=o.data.prompts[Q];return typeof se=="string"?se:se==null?void 0:se.prompt}return null},ze=Q=>{var X;return(X=n==null?void 0:n.prompts)!=null&&X[Q]?n.prompts[Q]:null},vt=()=>{if(g!=="drawer")return null;const Q={border:"1px solid #000",boxShadow:"0 0 5px rgba(0, 0, 0, 0.2)",borderRadius:"5px"};return s.jsxs("div",{className:"drawing-interface",children:[s.jsx(_v,{ref:X=>{L.current=X,ie(!!X)},style:Q,width:"500px",height:"400px",strokeWidth:4,strokeColor:"black",eraserWidth:20,canvasColor:"white",onStroke:ve,readOnly:!1,exportWithBackgroundImage:!1},`draw-${h==null?void 0:h.teamId}`),s.jsx("div",{className:"drawing-controls",style:{marginTop:"10px"},children:s.jsx("button",{onClick:k,disabled:_||!te,style:{marginRight:"10px",padding:"5px 10px"},children:"Clear"})})]})},ut=()=>g!=="guesser"?null:s.jsxs("div",{className:"guessing-interface",children:[s.jsxs("div",{className:"current-drawing",style:{marginBottom:"10px"},children:[s.jsx(_v,{ref:L,style:{border:"1px solid #000",boxShadow:"0 0 5px rgba(0, 0, 0, 0.2)",borderRadius:"5px"},width:"500px",height:"400px",strokeWidth:4,strokeColor:"black",canvasColor:"white",readOnly:!0,allowOnlyPointerType:"none",exportWithBackgroundImage:!1},`guess-${h==null?void 0:h.teamId}`),s.jsx("button",{onClick:async()=>{await N()},style:{padding:"5px 10px",marginTop:"10px"},children:"Refresh Canvas"})]}),s.jsxs("div",{className:"guess-input",style:{marginTop:"10px"},children:[s.jsx("input",{type:"text",value:w,onChange:Q=>A(Q.target.value),placeholder:"Enter your guess...",disabled:_,style:{padding:"5px",marginRight:"10px",width:"250px"},onKeyDown:Q=>{Q.key==="Enter"&&!_&&w.trim()&&H()}}),s.jsx("button",{onClick:H,disabled:_||!w.trim(),style:{padding:"5px 10px",backgroundColor:"#2196F3",color:"white",border:"none"},children:"Submit Guess"})]})]}),jt=()=>{if(E)return s.jsx("p",{children:"Loading team information..."});if(!h)return s.jsxs("div",{className:"no-team-info",children:[s.jsx("p",{children:"Teams will be created automatically when the challenge starts."}),v.status==="ACTIVE"&&s.jsxs("div",{className:"refresh-teams-btn",children:[s.jsx("p",{children:"Challenge has started - refreshing team assignments..."}),s.jsx("button",{onClick:handleManualRefresh,children:"Refresh Teams"})]})]});h.id||h.teamId;const Q=h.teamName||h.name||"Your Team",X=h.teamScore||h.score||0,se=h.currentDrawerId;return s.jsxs("div",{className:"team-info",style:{marginBottom:"20px",padding:"10px",backgroundColor:"#f5f5f5",borderRadius:"5px"},children:[s.jsxs("h4",{children:["Your Team: ",Q]}),s.jsxs("p",{children:["Role: ",g==="drawer"?"Drawer":"Guesser"]}),s.jsxs("p",{children:["Score: ",X]}),s.jsxs("div",{className:"team-members",children:[s.jsx("h5",{children:"Team Members:"}),s.jsx("ul",{style:{listStyleType:"none",padding:"0"},children:h.members?h.members.map(fe=>s.jsxs("li",{style:{margin:"5px 0",padding:"5px",backgroundColor:fe.userId===se?"#e3f2fd":"transparent"},children:[fe.displayName||fe.userId,fe.userId===se&&" (Drawer)",g==="drawer"&&fe.userId!==se&&s.jsx("button",{onClick:()=>le(fe.userId),disabled:_,style:{marginLeft:"10px",padding:"2px 5px",fontSize:"0.8em"},children:"Make Drawer"})]},fe.userId)):h.teamMembers?h.teamMembers.map(fe=>{let ye=fe;if(v.teamInfo){const je=v.teamInfo.find(_e=>_e.members&&_e.members.some(Be=>Be.userId===fe));if(je){const _e=je.members.find(Be=>Be.userId===fe);_e&&_e.displayName&&(ye=_e.displayName)}}return s.jsxs("li",{style:{margin:"5px 0",padding:"5px",backgroundColor:fe===se?"#e3f2fd":"transparent"},children:[ye,fe===se&&" (Drawer)",g==="drawer"&&fe!==se&&s.jsx("button",{onClick:()=>le(fe),disabled:_,style:{marginLeft:"10px",padding:"2px 5px",fontSize:"0.8em"},children:"Make Drawer"})]},fe)}):s.jsx("li",{children:"No team members found"})})]})]})},et=()=>{var Q,X,se;return E?s.jsx("p",{children:"Loading challenge status..."}):!v||Object.keys(v).length===0?s.jsx("p",{children:"Waiting for challenge to start..."}):s.jsxs("div",{className:"challenge-status",style:{marginBottom:"20px"},children:[s.jsxs("h4",{children:["Round: ",((Q=v.currentRound)==null?void 0:Q.index)+1||1]}),s.jsxs("div",{className:"teamchallenge-timer",children:["Time Remaining: ",Z,"s"]}),((se=(X=v.currentRound)==null?void 0:X.guesses)==null?void 0:se.length)>0&&s.jsxs("div",{className:"guess-history",style:{marginTop:"10px"},children:[s.jsx("h5",{children:"Recent Guesses:"}),s.jsx("ul",{style:{listStyleType:"none",padding:"5px",backgroundColor:"#f9f9f9",borderRadius:"5px"},children:v.currentRound.guesses.filter(fe=>fe.teamId===(h==null?void 0:h.teamId)).map((fe,ye)=>s.jsxs("li",{style:{padding:"3px 5px",backgroundColor:fe.correct?"#dff0d8":"transparent",color:fe.correct?"#3c763d":"inherit"},children:[fe.playerName,": ",fe.guess,fe.correct&&" ✓"]},ye))})]})]})},mt=()=>E?s.jsx("div",{className:"loading",children:"Loading game..."}):v.status!=="ACTIVE"?s.jsx("div",{className:"waiting",children:c.length===0?s.jsxs("div",{children:[s.jsx("p",{children:"Teams will be created automatically when the activity starts."}),s.jsx("p",{children:"Please wait for the teacher to start the activity."})]}):s.jsx("p",{children:"Waiting for the challenge to start..."})}):h?s.jsxs(s.Fragment,{children:[we(),s.jsxs("div",{className:"challenge-interface",children:[vt(),g==="guesser"&&ut()]})]}):s.jsxs("div",{className:"waiting-assignment",children:[s.jsx("p",{children:"The challenge has started and teams are being assigned."}),s.jsx("p",{children:"You'll be automatically placed on a team momentarily..."}),s.jsx("div",{className:"refresh-teams-btn",children:s.jsx("button",{onClick:handleManualRefresh,children:"Refresh Teams"})})]});return s.jsxs("div",{className:"team-challenge-activity",style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[s.jsx("h3",{children:r.title||"Team Drawing Challenge"}),r.instructions&&s.jsx("p",{children:r.instructions}),S&&s.jsx("p",{className:"error-message",style:{color:"red",fontWeight:"bold"},children:S}),et(),jt(),mt()]})},E3=({activity:r,contentItem:n,submitting:i,submitAnswer:o,currentContentIndex:c,onComplete:d=()=>{}})=>{const[h,m]=b.useState(0),[g,p]=b.useState([]),[v,x]=b.useState(!1),[w,A]=b.useState(""),[_,T]=b.useState(!1),[S,C]=b.useState(null),[E,O]=b.useState({}),M=b.useRef(null),L=n&&n.data?n.data:(r==null?void 0:r.content)||{questions:[],hints:[]};b.useEffect(()=>{m(0),p([]),T(!1),A(""),C(null)},[L,r]),b.useEffect(()=>{if(L.questions&&L.questions[h]){const pe=L.questions[h].question.split(/_+/g).length-1;p(new Array(pe).fill(""))}},[h,L]),b.useEffect(()=>{S!==null&&M.current&&M.current.focus()},[S]);const B=J=>J.split(/_+/g).length-1,D=(J,Y)=>{const pe=J.split(/_+/g);if(Y>=pe.length-1)return 1;const he=pe[Y],q=pe[Y+1];return J.substring(he.length,J.length-q.length).includes("__")?"multiple":1},z=async J=>{var Y;if(!(!w.trim()||i||_))try{const pe=L.questions[h],he=pe.answer[J],q=((Y=pe.alternatives)==null?void 0:Y[J])||[],de={questionIndex:h,blankIndex:J,answer:w.trim(),acceptableAnswers:{[h]:{[J]:[he,...q].filter(Boolean)}}};T(!0),await o(de);const G=[...g];G[J]=w.trim(),p(G);const F=w.trim().toLowerCase(),N=he.toLowerCase(),k=q.map(re=>re.toLowerCase()),H=F===N,le=k.some(re=>re===F);O(H?re=>({...re,[J]:{correct:!0}}):le?re=>({...re,[J]:{correct:!0,isAlternative:!0,correctAnswer:he}}):re=>({...re,[J]:{correct:!1,correctAnswer:he}})),A(""),C(null);const P=B(pe.question);G.filter(re=>re&&re.trim()!=="").length===P?setTimeout(()=>{h<L.questions.length-1?(m(re=>re+1),T(!1),C(null),O({})):d()},3e3):setTimeout(()=>{O(re=>{const ve={...re};return delete ve[J],ve}),T(!1)},1500)}catch(pe){console.error("Error submitting answer:",pe),T(!1)}};if(h>=L.questions.length)return s.jsxs("div",{className:"!p-6 !space-y-6 !bg-white !rounded-lg !shadow-md",children:[s.jsx("h2",{className:"!text-2xl !font-bold !text-center",children:"Activity Complete!"}),s.jsx("div",{className:"!space-y-4",children:L.questions.map((J,Y)=>s.jsxs("div",{className:"!p-4 !border !rounded-lg",children:[s.jsx("p",{className:"!font-medium !mb-2",children:J.question}),s.jsx("div",{className:"!space-y-2",children:g.map((pe,he)=>s.jsxs("div",{className:"!flex !items-center !gap-2",children:[s.jsxs("p",{className:"!text-gray-600",children:["Blank ",he+1,": ",pe||"No answer"]}),s.jsxs("p",{className:"!text-green-600",children:["Correct: ",J.answer[he]]})]},he))}),J.explanation&&s.jsxs("p",{className:"!text-gray-500 !mt-2",children:["Explanation: ",J.explanation]})]},Y))})]});const te=L.questions[h],ie=te.question.split(/_+/g);return s.jsxs("div",{className:"!p-6 !space-y-6 !bg-white !rounded-lg !shadow-md",children:[s.jsx("div",{className:"!flex !justify-between !items-center",children:s.jsx("div",{className:"!text-lg !font-medium",children:(r==null?void 0:r.title)||"Fill in the Blanks"})}),s.jsxs("div",{className:"!space-y-6",children:[s.jsx("div",{className:"!flex !flex-wrap !gap-2 !items-center",children:ie.map((J,Y)=>{if(Y<ie.length-1){const pe=S===Y,he=g[Y],q=D(te.question,Y);return s.jsxs("div",{className:"!flex !items-center !gap-2",children:[s.jsx("span",{className:"!text-gray-700",children:J}),s.jsx("button",{className:`!px-4 !py-2 !border !rounded-md focus:!outline-none focus:!ring-2 focus:!ring-blue-500 transition-all duration-300 ${pe?"!bg-blue-50 !border-blue-500":he?"!bg-green-50 !border-green-500":"!bg-gray-50 !border-gray-300"}`,onClick:()=>{he||(C(Y),A(""))},disabled:i||he,children:he?g[Y]:"_".repeat(q==="multiple"?2:1)})]},Y)}return s.jsx("span",{className:"!text-gray-700",children:J},Y)})}),s.jsx("div",{className:"!space-y-2",children:Object.entries(E).map(([J,Y])=>s.jsx("div",{className:`!text-sm transition-opacity duration-300 ${Y.correct?"!text-green-500":"!text-red-500"}`,children:Y.correct?Y.isAlternative?s.jsxs("div",{children:['In another answer: "',Y.correctAnswer,'"']}):null:s.jsxs("div",{children:['Correct answer is "',Y.correctAnswer,'"']})},J))}),S!==null&&s.jsxs("div",{className:"!flex !gap-2",children:[s.jsx("input",{ref:M,type:"text",className:"!flex-1 !px-4 !py-2 !border !rounded-md focus:!outline-none focus:!ring-2 focus:!ring-blue-500 transition-all duration-300",value:w,onChange:J=>A(J.target.value),placeholder:`Type ${D(te.question,S)==="multiple"?"multiple":"a"} word${D(te.question,S)==="multiple"?"s":""} here...`,onKeyDown:J=>{J.key==="Enter"&&z(S)},disabled:_}),s.jsx("button",{className:"!px-4 !py-2 !text-white !bg-blue-600 !rounded-md hover:!bg-blue-700 focus:!outline-none focus:!ring-2 focus:!ring-blue-500 transition-all duration-300",onClick:()=>z(S),disabled:_,children:_?"Submitted":"Submit"})]}),(L.hints||[]).length>0&&s.jsxs("div",{className:"!space-y-2",children:[s.jsxs("button",{className:"!flex !items-center !gap-2 !px-4 !py-2 !text-blue-600 hover:!text-blue-800 transition-colors duration-300",onClick:()=>x(!v),children:[s.jsx(fS,{className:"!w-4 !h-4"})," Hint"]}),v&&s.jsx("div",{className:"!p-4 !bg-gray-50 !rounded-md transition-all duration-300",children:(L.hints||[]).map((J,Y)=>s.jsx("p",{className:"!text-gray-600",children:J},Y))})]})]})]})},C3=()=>{var Q;const[r,n]=b.useState(""),{token:i}=Qt(),[o,c]=b.useState(!0),[d,h]=b.useState(null),[m,g]=b.useState(null),[p,v]=b.useState(0),[x,w]=b.useState(null),[A,_]=b.useState(null),[T,S]=b.useState("ACTIVE"),[C,E]=b.useState(!1),[O,M]=b.useState(null),[R,L]=b.useState([]),[B,D]=b.useState(!1),[z,te]=b.useState(0),[ie,J]=b.useState(!1),[Y,pe]=b.useState(!1),he=Ut();b.useEffect(()=>{n(""),we(),M(null)},[m,x]);const q=new URLSearchParams(window.location.search).get("accessCode")||localStorage.getItem("studentSessionAccessCode"),de=()=>{try{return JSON.parse(atob(i.split(".")[1])).sub}catch(X){return console.error("Failed to extract student ID from token:",X),null}};b.useEffect(()=>()=>{re()},[]),b.useEffect(()=>{if(!q){he("/student/join");return}return G(),F(),()=>{A&&A.deactivate(),re()}},[q]);const G=async()=>{try{c(!0);const X=await ge.get(`http://localhost:8080/api/sessions/${q}/game`,{headers:{Authorization:`Bearer ${i}`}});h(X.data),X.data.currentActivity&&(g(X.data.currentActivity),X.data.currentActivity.contentItems&&X.data.currentActivity.contentItems.length>0?(v(0),w(X.data.currentActivity.contentItems[0]),Z(X.data.currentActivity.contentItems[0])):(w(null),Z(X.data.currentActivity))),c(!1)}catch(X){console.error("Failed to fetch game content:",X),c(!1)}},F=()=>{const X=new ci({webSocketFactory:()=>new oi("http://localhost:8080/ws-sessions"),connectHeaders:{Authorization:`Bearer ${i}`},onConnect:()=>{console.log("WebSocket connected for game play"),X.subscribe(`/topic/session/${q}/activity`,se=>{var ye;const fe=JSON.parse(se.body);console.log(fe),g(fe),v(0),w(((ye=fe.contentItems)==null?void 0:ye[0])||null)}),X.subscribe(`/topic/session/${q}/status`,se=>{console.log("Received session status update:",se.body);const fe=se.body;S(fe),fe==="COMPLETED"&&pe(!0)}),X.subscribe(`/topic/session/${q}/leaderboard`,se=>{const fe=JSON.parse(se.body);L(fe)}),X.subscribe(`/topic/session/${q}/content`,se=>{const fe=JSON.parse(se.body);fe.status==="advanced_content"&&(re(),te(0),setTimeout(()=>{le(fe.contentItem,fe.currentIndex)},50))})},onStompError:se=>{console.error("STOMP Error:",se)}});X.activate(),_(X)},N=()=>{localStorage.removeItem("studentSessionAccessCode"),localStorage.removeItem("studentJoinedStatus"),he("/student")},k=()=>s.jsxs("div",{className:"!fixed !inset-0 !flex !items-center !justify-center !z-50",children:[s.jsx("div",{className:"!fixed !inset-0 !pointer-events-none !overflow-hidden !z-[100]",children:Array.from({length:30}).map((X,se)=>{const fe=2+Math.random()*1,ye=Math.random()*.5,je=Math.random()*40-20,_e=["#ff4e91","#ffa638","#38caff","#52ff38","#ff38e7"][se%5],Be=Math.random()*100,$e=12+Math.random()*12,it=Math.random()*360;return s.jsx("div",{className:"confetti",style:{left:`${Be}%`,backgroundColor:_e,width:`${$e}px`,height:`${$e/2}px`,animation:`confetti ${fe}s cubic-bezier(0.4, 0, 0.2, 1) ${ye}s forwards`,"--sway":`${je}px`,"--rotation":`${it}deg`}},se)})}),s.jsx("div",{className:"!absolute !inset-0 !bg-gradient-to-br !from-pink-200/90 !to-purple-200/90 !flex !items-center !justify-center animate-fadeIn",children:s.jsxs("div",{className:"!relative !bg-white !rounded-3xl !p-8 !w-[90%] !max-w-[500px] !shadow-2xl !overflow-hidden animate-popIn",children:[s.jsx("h2",{className:"!text-purple-600 !text-3xl !text-center !mb-1 !font-bold animate-float",children:"Game Complete!"}),s.jsx("h3",{className:"!text-pink-500 !text-xl !text-center !mb-6 !font-medium",children:"Final Results"}),s.jsx("div",{className:"!mb-6 !max-h-[300px] !overflow-y-auto !pr-2",children:R.slice(0,10).map((X,se)=>s.jsxs("div",{className:`!flex !items-center !p-3 !mb-2 !rounded-xl !transition-all !duration-300 animate-slideIn delay-${se}`,style:{border:`2px solid ${se===0?"#FFD700":"#C0C0C0"}`,backgroundColor:se===0?"#FFFAE1":"transparent",boxShadow:se===0?"0 0 10px 5px rgba(255,223,0,0.7)":"none"},children:[s.jsx("span",{className:"!w-8 !h-8 !flex !items-center !justify-center !rounded-full !mr-3 !font-bold !text-sm",children:se+1}),s.jsx("span",{className:"!flex-1 !font-medium !text-gray-800 !truncate",children:X.displayName}),s.jsxs("span",{className:"!font-bold !text-purple-600",children:[X.score," points"]})]},X.userId))}),s.jsx("button",{className:"!bg-gradient-to-r !from-purple-500 !to-pink-500 !text-white !font-semibold !py-3 !px-6 !rounded-full !block !mx-auto !shadow-lg !transition-all !duration-300 !hover:-translate-y-1 !hover:shadow-xl !active:translate-y-0",onClick:N,children:"Return to Lobby"})]})}),s.jsx("style",{jsx:!0,children:`
                    .confetti {
                        position: absolute;
                        top: 0;
                        transform: translate3d(0, -20px, 0) rotate(0deg);
                        border-radius: 20%;
                        will-change: transform, opacity;
                        backface-visibility: hidden;
                        transform-style: preserve-3d;
                        perspective: 1000px;
                    }

                    @keyframes confetti {
                        0% {
                            transform: translate3d(0, -20px, 0) rotate(var(--rotation));
                            opacity: 1;
                        }
                        15% {
                            transform: translate3d(calc(var(--sway) * 0.5), 15vh, 0) rotate(calc(var(--rotation) + 90deg));
                            opacity: 0.9;
                        }
                        30% {
                            transform: translate3d(var(--sway), 30vh, 0) rotate(calc(var(--rotation) + 180deg));
                            opacity: 0.8;
                        }
                        45% {
                            transform: translate3d(calc(var(--sway) * -0.5), 45vh, 0) rotate(calc(var(--rotation) + 270deg));
                            opacity: 0.7;
                        }
                        60% {
                            transform: translate3d(calc(var(--sway) * -1), 60vh, 0) rotate(calc(var(--rotation) + 360deg));
                            opacity: 0.6;
                        }
                        75% {
                            transform: translate3d(calc(var(--sway) * -0.5), 75vh, 0) rotate(calc(var(--rotation) + 450deg));
                            opacity: 0.4;
                        }
                        90% {
                            transform: translate3d(calc(var(--sway) * 0.5), 90vh, 0) rotate(calc(var(--rotation) + 540deg));
                            opacity: 0.2;
                        }
                        100% {
                            transform: translate3d(0, 100vh, 0) rotate(calc(var(--rotation) + 720deg));
                            opacity: 0;
                        }
                    }

                    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                    @keyframes popIn  { 0% { transform: scale(0.8); opacity:0; } 100% { transform: scale(1); opacity:1; } }
                    @keyframes slideIn{ from { opacity:0; transform:translateX(-20px);} to{opacity:1; transform:translateX(0);} }
                    @keyframes float  { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-5px);} }

                    .animate-fadeIn { animation: fadeIn 0.5s ease-out; }
                    .animate-popIn  { animation: popIn 0.5s cubic-bezier(0.175,0.885,0.32,1.275); }
                    .animate-slideIn{ animation: slideIn 0.5s ease-out both; }
                    .animate-float  { animation: float 3s ease-in-out infinite; }
                `})]}),H=X=>{D(!0),re(),M(null),setTimeout(()=>{g(X),v(0),X.contentItems&&X.contentItems.length>0?(w(X.contentItems[0]),Z(X.contentItems[0])):(w(null),Z(X)),D(!1)},1e3)},le=(X,se)=>{re(),J(!0),te(0),M(null),setTimeout(()=>{w(X),v(se),Z(X),J(!1)},500)},P=b.useRef(null),Z=X=>{var fe;re();const se=(X==null?void 0:X.duration)||((fe=X==null?void 0:X.data)==null?void 0:fe.duration)||60;console.log("Starting timer with duration:",se),te(se),P.current=setInterval(()=>{te(ye=>ye<=1?(clearInterval(P.current),ve(),0):ye-1)},1e3)},re=()=>{P.current&&(clearInterval(P.current),P.current=null)},ve=b.useCallback(async()=>{if(!ie&&m){if(m.type==="TEAM_CHALLENGE")try{await ge.post(`http://localhost:8080/api/sessions/${q}/activity/${m.id}/advance-content`,{currentContentIndex:p},{headers:{Authorization:`Bearer ${i}`}})}catch(X){console.error("Failed to advance team challenge:",X)}m.contentItems&&m.contentItems.length>0&&p<m.contentItems.length-1?(J(!0),D(!0),setTimeout(()=>{const X=p+1;v(X),w(m.contentItems[X]),Z(m.contentItems[X]),M(null),D(!1),J(!1)},500)):Ne()}},[m,ie,q,i,p]),we=()=>{x?Z(x):m&&Z(m)},Ne=b.useCallback(async()=>{var X;if(!(!d||!m||ie))try{const se=await ge.get(`http://localhost:8080/api/sessions/${q}`,{headers:{Authorization:`Bearer ${i}`}}),fe=(X=se.data.currentActivity)==null?void 0:X.activityId;if(!fe||fe!==m.id){H(se.data.currentActivity);return}await ge.post(`http://localhost:8080/api/sessions/${q}/activity/${fe}/advance-content`,{currentContentIndex:p},{headers:{Authorization:`Bearer ${i}`}})}catch(se){console.error("Failed to advance:",se),G()}},[q,i,m,ie]),ze=async X=>{const se=de();if(!se||!m||!m.id){console.error("Missing required information for submission");return}E(!0),M(null);try{const fe=x?x.contentId:"legacy",ye=await ge.post(`http://localhost:8080/api/sessions/${q}/submit`,{activityId:m.id,contentId:fe,answer:{...X,timeRemaining:z},contentIndex:p},{headers:{Authorization:`Bearer ${i}`,"X-Student-Id":se}});if(ye.data.valid===!1){M({correct:!1,explanation:ye.data.error||"Invalid submission."}),setTimeout(()=>{M(null)},1500);return}return console.log("Submitting answer:",JSON.stringify(X)),console.log("Submission response:",ye.data),M(ye.data),setTimeout(()=>{M(null)},1500),re(),ye.data}catch(fe){console.error("Failed to submit answer:",fe),M({correct:!1,explanation:"Failed to submit answer. Please try again."}),setTimeout(()=>{M(null)},1500)}finally{E(!1)}},vt=()=>O?s.jsx("div",{className:`notification ${O.correct?"correct":"incorrect"}`,children:s.jsxs("div",{className:"notification-content",children:[s.jsx("div",{className:`notification-icon ${O.correct?"correct":"incorrect"}`,children:O.correct?s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M5 13l4 4L19 7"})}):s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})}),s.jsxs("div",{className:"notification-text",children:[s.jsx("h4",{className:O.correct?"text-green-700":"text-red-700",children:O.correct?"Correct!":"Incorrect"}),O.pointsEarned&&s.jsxs("span",{className:"points-earned",children:["+",O.pointsEarned," points"]})]})]})}):null,ut=()=>!R||R.length===0?null:s.jsxs("div",{className:"!bg-white !rounded-2xl !shadow-lg !p-5 !border !border-purple-100 !overflow-hidden !relative !animate-slide-in",children:[s.jsx("div",{className:"!absolute !-top-6 !-right-6 !w-12 !h-12 !rounded-full !bg-pink-100 !opacity-70"}),s.jsx("div",{className:"!absolute !-bottom-6 !-left-6 !w-12 !h-12 !rounded-full !bg-blue-100 !opacity-70"}),s.jsxs("h3",{className:"!text-xl !font-bold !text-purple-700 !mb-4 !text-center !relative !z-10 !flex !items-center !justify-center !gap-2",children:[s.jsx("svg",{className:"!w-5 !h-5 !text-yellow-500 !animate-spin-slow",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Leaderboard",s.jsx("svg",{className:"!w-5 !h-5 !text-yellow-500 !animate-spin-slow",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})]}),s.jsx("ul",{className:"!space-y-2",children:R.slice(0,5).map((X,se)=>s.jsxs("li",{className:`!flex !items-center !p-3 !rounded-xl !transition-all !duration-300 !animate-slide-up !shadow-sm !hover:shadow-md !hover:translate-x-1
                                ${se===0?"!bg-gradient-to-r !from-yellow-50 !to-yellow-100 !border-l-4 !border-yellow-400":se===1?"!bg-gradient-to-r !from-gray-50 !to-gray-100 !border-l-4 !border-gray-400":se===2?"!bg-gradient-to-r !from-amber-50 !to-amber-100 !border-l-4 !border-amber-600":"!bg-gradient-to-r !from-purple-50 !to-pink-50"}`,style:{animationDelay:`${se*.1}s`},children:[s.jsx("span",{className:`!w-8 !h-8 !flex !items-center !justify-center !rounded-full !mr-3 !font-bold !text-sm !shadow-inner
                                ${se===0?"!bg-yellow-400 !text-yellow-900":se===1?"!bg-gray-300 !text-gray-800":se===2?"!bg-amber-600 !text-white":"!bg-purple-200 !text-purple-800"}`,children:se+1}),s.jsxs("span",{className:"!flex-1 !font-medium !text-gray-800 !truncate",children:[X.displayName,se===0&&s.jsx("span",{className:"!inline-block !ml-2 !animate-bounce-slow",children:"👑"})]}),s.jsx("span",{className:`!font-bold !px-3 !py-1 !rounded-full !text-sm
                                ${se===0?"!bg-yellow-200 !text-yellow-800":se===1?"!bg-gray-200 !text-gray-800":se===2?"!bg-amber-200 !text-amber-800":"!bg-purple-100 !text-purple-800"}`,children:X.score})]},X.userId))}),s.jsx("style",{jsx:!0,children:`
                    @keyframes slide-in {
                        0% { transform: translateY(-20px); opacity: 0; }
                        100% { transform: translateY(0); opacity: 1; }
                    }
                    
                    @keyframes slide-up {
                        0% { transform: translateY(10px); opacity: 0; }
                        100% { transform: translateY(0); opacity: 1; }
                    }
                    
                    @keyframes spin-slow {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
                    
                    @keyframes bounce-slow {
                        0%, 100% { transform: translateY(0); }
                        50% { transform: translateY(-5px); }
                    }
                    
                   
                `})]}),jt=()=>!m||!m.contentItems||m.contentItems.length<=1?null:s.jsxs("div",{className:"content-navigation",children:[s.jsx("div",{className:"content-progress",children:Array.from({length:m.contentItems.length}).map((X,se)=>s.jsx("div",{className:`progress-dot ${se===p?"active":""} ${se<p?"completed":""}`},se))}),s.jsxs("div",{className:"content-counter",children:[p+1," / ",m.contentItems.length]}),z>0&&s.jsxs("div",{className:"time-remaining",children:["Time left: ",z,"s"]})]}),et=()=>x?x.data:m?m.content:null,mt=()=>{if(!m)return s.jsxs("div",{className:"!flex !flex-col !items-center !justify-center !p-8 !bg-gradient-to-r !from-purple-50 !to-pink-50 !rounded-2xl !shadow-md !animate-fade-in !min-h-[200px]",children:[s.jsx("div",{className:"!w-16 !h-16 !mb-4 !rounded-full !bg-purple-100 !flex !items-center !justify-center !animate-pulse",children:s.jsx("svg",{className:"!w-8 !h-8 !text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("p",{className:"!text-lg !font-medium !text-purple-700 !text-center !animate-slide-up",children:"No active activity"}),s.jsx("p",{className:"!text-sm !text-purple-500 !mt-2 !text-center !max-w-xs !animate-slide-up !delay-100",children:"Please select an activity to begin your learning journey!"})]});const X=et(),se={activity:m,content:X,submitting:C,submitAnswer:ze,textAnswer:r,setTextAnswer:n,contentItem:x,accessCode:q,currentContentIndex:p};switch(m.type){case"MULTIPLE_CHOICE":return s.jsx(nE,{...se});case"TRUE_FALSE":return s.jsx(rE,{...se});case"OPEN_ENDED":return s.jsx(sE,{...se});case"FILL_IN_BLANK":return s.jsx(E3,{...se,currentContentIndex:p});case"SORTING":return s.jsx(v3,{...se});case"MATCHING":return s.jsx(y3,{...se,contentItem:x});case"MATH_PROBLEM":return s.jsx(b3,{...se});case"TEAM_CHALLENGE":return s.jsx(T3,{...se});default:return s.jsxs("div",{className:"!bg-white !rounded-xl !shadow-md !p-6 !border !border-yellow-200 !animate-fade-in",children:[s.jsx("div",{className:"!flex !items-center !justify-center !mb-4",children:s.jsx("div",{className:"!w-12 !h-12 !rounded-full !bg-yellow-100 !flex !items-center !justify-center !text-yellow-500",children:s.jsx("svg",{className:"!w-6 !h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),s.jsx("h3",{className:"!text-lg !font-bold !text-gray-800 !mb-3 !text-center",children:m.title}),s.jsx("p",{className:"!text-gray-600 !mb-4 !text-center",children:m.instructions}),s.jsx("div",{className:"!bg-yellow-50 !border-l-4 !border-yellow-400 !p-4 !rounded-r-lg",children:s.jsxs("p",{className:"!text-yellow-700 !flex !items-center",children:[s.jsx("svg",{className:"!w-5 !h-5 !mr-2 !inline",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Activity type '",m.type,"' is not fully supported yet."]})})]})}};return o?s.jsxs("div",{className:"!fixed !inset-0 !flex !flex-col !items-center !justify-center !bg-white !bg-opacity-90 !z-50",children:[s.jsxs("div",{className:"!w-16 !h-16 !relative !mb-6",children:[s.jsx("div",{className:"!absolute !inset-0 !border-4 !border-blue-200 !rounded-full"}),s.jsx("div",{className:"!absolute !inset-0 !border-4 !border-transparent !border-t-blue-500 !rounded-full !animate-spin"})]}),s.jsx("p",{className:"!text-lg !font-medium !text-gray-700 !animate-pulse",children:"Loading game content..."})]}):s.jsxs("div",{className:`!min-h-screen !bg-gray-50 !p-4 !md:p-6 !transition-all !duration-500 ${B?"!opacity-50":"!opacity-100"}`,children:[Y?k():s.jsxs("div",{className:"!max-w-6xl !mx-auto !space-y-6",children:[s.jsxs("div",{className:"!bg-white !rounded-xl !shadow-md !p-4 !mb-6 !animate-fade-in",children:[s.jsx("h2",{className:"!text-2xl !font-bold !text-gray-800 !mb-2",children:d==null?void 0:d.title}),m&&s.jsxs("div",{className:"!flex !flex-col !sm:flex-row !items-start !sm:items-center !justify-between !mt-2",children:[s.jsxs("span",{className:"!px-3 !py-1 !bg-blue-100 !text-blue-800 !rounded-full !text-sm !font-medium !mb-2 !sm:mb-0",children:["Activity ",((d==null?void 0:d.currentActivityIndex)||0)+1," of ",((Q=d==null?void 0:d.activities)==null?void 0:Q.length)||1]}),s.jsx("div",{className:"!flex !items-center !space-x-2",children:jt()})]})]}),s.jsxs("div",{className:"!grid !grid-cols-1 !lg:grid-cols-3 !gap-6",children:[s.jsx("div",{className:"!lg:col-span-2",children:s.jsx("div",{className:"!bg-white !rounded-xl !shadow-md !p-4 !animate-slide-up",children:mt()})}),s.jsx("div",{className:"!lg:col-span-1",children:s.jsx("div",{className:"!sticky !top-6",children:ut()})})]}),vt()]}),B&&s.jsx("div",{className:"!fixed !inset-0 !bg-white !bg-opacity-70 !flex !items-center !justify-center !z-50 !animate-fade-in",children:s.jsxs("div",{className:"!w-16 !h-16 !relative",children:[s.jsx("div",{className:"!absolute !inset-0 !border-4 !border-blue-200 !rounded-full"}),s.jsx("div",{className:"!absolute !inset-0 !border-4 !border-transparent !border-t-blue-500 !rounded-full !animate-spin"})]})}),s.jsx("style",{jsx:!0,children:`
                @keyframes fade-in {
                    0% { opacity: 0; }
                    100% { opacity: 1; }
                }
                
                @keyframes slide-up {
                    0% { transform: translateY(10px); opacity: 0; }
                    100% { transform: translateY(0); opacity: 1; }
                }
                
                @keyframes slide-in-right {
                    0% { transform: translateX(100%); opacity: 0; }
                    100% { transform: translateX(0); opacity: 1; }
                }
                
                @keyframes fade-out {
                    0%, 80% { opacity: 1; }
                    100% { opacity: 0; }
                }
                
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
                
                @keyframes pulse {
                    0%, 100% { opacity: 1; }
                    50% { opacity: 0.7; }
                }
                
                .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
                .animate-slide-up { animation: slide-up 0.5s ease-out forwards; }
                .animate-slide-in-right { animation: slide-in-right 0.3s ease-out forwards; }
                .animate-fade-out { animation: fade-out 1.5s ease-out forwards; }
                .animate-spin { animation: spin 1s linear infinite; }
                .animate-pulse { animation: pulse 1.5s infinite; }
                
                .delay-300 { animation-delay: 0.3s; }
            `})]})},_3=()=>{const{token:r}=Qt(),[n,i]=b.useState([]),[o,c]=b.useState(!0),[d,h]=b.useState(null),m=Ut(),g=Wt();b.useEffect(()=>{const w=new URLSearchParams(g.search).get("accessCode")||localStorage.getItem("studentSessionAccessCode");if(!w){m("/student/join");return}p(w)},[g.search,m]);const p=async x=>{try{c(!0);const w=await ge.get(`http://localhost:8080/api/sessions/${x}/leaderboard`,{headers:{Authorization:`Bearer ${r}`}}),A=await ge.get(`http://localhost:8080/api/sessions/${x}/details`,{headers:{Authorization:`Bearer ${r}`}});i(w.data),h(A.data)}catch(w){console.error("Failed to fetch leaderboard data:",w)}finally{c(!1)}},v=()=>{localStorage.removeItem("studentSessionAccessCode"),localStorage.removeItem("studentJoinedStatus"),m("/student/join")};return o?s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Loading final results..."})]}):s.jsxs("div",{className:"game-completed-container",children:[s.jsx("h1",{children:"Game Completed!"}),d&&s.jsxs("div",{className:"session-info",children:[s.jsx("h2",{children:d.title}),s.jsx("p",{children:"Thanks for participating!"})]}),s.jsxs("div",{className:"final-leaderboard",children:[s.jsx("h2",{children:"Final Leaderboard"}),n.length===0?s.jsx("p",{children:"No scores available"}):s.jsxs("div",{className:"leaderboard-table",children:[s.jsxs("div",{className:"leaderboard-header",children:[s.jsx("span",{className:"rank-header",children:"Rank"}),s.jsx("span",{className:"name-header",children:"Player"}),s.jsx("span",{className:"score-header",children:"Score"})]}),n.map((x,w)=>s.jsxs("div",{className:`leaderboard-row ${w<3?`top-${w+1}`:""}`,children:[s.jsx("span",{className:"rank",children:w+1}),s.jsx("span",{className:"player-name",children:x.displayName}),s.jsx("span",{className:"score",children:x.score})]},x.userId))]})]}),s.jsx("button",{onClick:v,className:"continue-button",children:"Join Another Game"})]})};function O3(){return s.jsx(bN,{children:s.jsx(DN,{children:s.jsxs(Wj,{children:[s.jsx(ht,{path:"/",element:s.jsx(bT,{})}),s.jsx(ht,{path:"/login",element:s.jsx(ON,{})}),s.jsx(ht,{path:"/signup",element:s.jsx(AN,{})}),s.jsx(ht,{path:"/checkotp",element:s.jsx(fT,{})}),s.jsx(ht,{path:"/admin",element:s.jsx(pa,{allowedRoles:["ADMIN"],children:s.jsx(RN,{})})}),s.jsx(ht,{path:"/teacher",element:s.jsx(pa,{allowedRoles:["TEACHER","ADMIN"],children:s.jsx(kN,{})})}),s.jsx(ht,{path:"/teacher/game-room",element:s.jsx(pa,{allowedRoles:["TEACHER","ADMIN"],children:s.jsx(oT,{})})}),s.jsx(ht,{path:"/class-management",element:s.jsx(pa,{allowedRoles:["TEACHER","ADMIN"],children:s.jsx(uT,{})})}),s.jsx(ht,{path:"/game-management",element:s.jsx(pa,{allowedRoles:["TEACHER","ADMIN"],children:s.jsx(CS,{})})}),s.jsx(ht,{path:"/games/edit/:gameId",element:s.jsx(pa,{allowedRoles:["TEACHER","ADMIN"],children:s.jsx(kT,{})})}),s.jsx(ht,{path:"/classes/:classId",element:s.jsx(pa,{allowedRoles:["TEACHER","ADMIN"],children:s.jsx(dT,{})})}),s.jsx(ht,{path:"/profile",element:s.jsx(pa,{allowedRoles:["TEACHER","ADMIN"],children:s.jsx(aE,{})})}),s.jsx(ht,{path:"/student/join",element:s.jsx(pa,{allowedRoles:["STUDENT","TEACHER","ADMIN"],children:s.jsx(cT,{})})}),s.jsx(ht,{path:"/student/play",element:s.jsx(pa,{allowedRoles:["STUDENT","TEACHER","ADMIN"],children:s.jsx(C3,{})})}),s.jsx(ht,{path:"/student/completed",element:s.jsx(pa,{allowedRoles:["STUDENT","TEACHER","ADMIN"],children:s.jsx(_3,{})})}),s.jsxs(ht,{path:"/student",element:s.jsx(pa,{allowedRoles:["STUDENT","TEACHER","ADMIN"],children:s.jsx(NT,{})}),children:[s.jsx(ht,{index:!0,element:s.jsx(wT,{})}),s.jsx(ht,{path:"profile",element:s.jsx(jT,{})})]}),s.jsx(ht,{path:"/unauthorized",element:s.jsx(MN,{})}),s.jsx(ht,{path:"*",element:s.jsx(Fd,{to:"/"})})]})})})}E1.createRoot(document.getElementById("root")).render(s.jsx(b.StrictMode,{children:s.jsx(O3,{})}));
